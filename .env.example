# Solobase Environment Configuration
# =====================================
# This file contains example environment variables for DEVELOPMENT use only.
# For PRODUCTION configuration, see .env.production.example

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL example (with SSL disabled for local development)
DATABASE_URL=postgres://solobase:solobase123@localhost:5432/solobase?sslmode=disable

# SQLite example (recommended for local development)
# DATABASE_URL=file:./.data/solobase.db

# Database type: sqlite, postgres, mysql, sqlserver
DATABASE_TYPE=postgres

# WARNING: For production, always use sslmode=require for PostgreSQL
# Example: postgres://user:pass@host:5432/db?sslmode=require

# =============================================================================
# STORAGE CONFIGURATION (S3/MinIO)
# =============================================================================
# Storage type: local, s3
STORAGE_TYPE=s3

# Local storage (simpler for development)
# STORAGE_TYPE=local
# LOCAL_STORAGE_PATH=./.data/storage

# S3/MinIO configuration
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin123
S3_BUCKET=solobase
S3_REGION=us-east-1
S3_USE_SSL=false

# WARNING: For production S3, always use SSL
# Example production S3 config:
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_USE_SSL=true

# =============================================================================
# EMAIL CONFIGURATION (SMTP)
# =============================================================================
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=noreply@solobase.local
SMTP_USE_TLS=false

# WARNING: For production, always enable TLS
# Example production SMTP:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USE_TLS=true

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Server ports
PORT=8080                     # API server port
API_PORT=8080                 # Used by frontend dev server to proxy API requests
FRONTEND_PORT=5173            # Frontend dev server port (optional, SvelteKit default)

# Security secrets
# CRITICAL: These MUST be changed for production!
# Generate secure secrets using: openssl rand -base64 32
JWT_SECRET=CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-MIN-32-CHARS
SESSION_SECRET=CHANGE-THIS-TO-ANOTHER-SECURE-RANDOM-STRING-MIN-32-CHARS

# WARNING: Never commit real secrets to version control!
# The application will not start without a proper JWT_SECRET set.

# Logging
LOG_LEVEL=DEBUG               # Options: DEBUG, INFO, WARN, ERROR

# Feature flags
ENABLE_SIGNUP=true            # Allow new user registration
ENABLE_API=true               # Enable API endpoints

# Application ID (for multi-tenant setups)
APP_ID=solobase

# =============================================================================
# ADMIN ACCOUNT
# =============================================================================
# Initial admin account credentials
# These are used only on first startup to create the admin user
ADMIN_EMAIL=admin@solobase.local
ADMIN_PASSWORD=CHANGE-THIS-PASSWORD-IMMEDIATELY

# CRITICAL: Change admin password immediately after first login!
# Recommendation: Use a password manager to generate a strong password

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Allowed origins for CORS (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# WARNING: For production, specify exact allowed origins
# Never use "*" or wildcard origins in production
# Example: CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Adjust based on your application needs
# Production recommendation: 30-100 requests per minute depending on use case

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying to production, ensure you have:
# ✓ Changed JWT_SECRET to a secure random string (min 32 characters)
# ✓ Changed SESSION_SECRET to a secure random string (min 32 characters)
# ✓ Changed ADMIN_PASSWORD to a strong password
# ✓ Enabled SSL for database (sslmode=require for PostgreSQL)
# ✓ Enabled SSL for S3 (S3_USE_SSL=true)
# ✓ Enabled TLS for SMTP (SMTP_USE_TLS=true)
# ✓ Set specific CORS_ALLOWED_ORIGINS (no wildcards)
# ✓ Adjusted RATE_LIMIT settings for your use case
# ✓ Set LOG_LEVEL to INFO or WARN (not DEBUG)
# ✓ Disabled ENABLE_SIGNUP if not needed
# ✓ Reviewed all credentials and secrets

# For a production-ready configuration example, see .env.production.example
