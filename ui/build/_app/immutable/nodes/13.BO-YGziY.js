import{S as kt,i as yt,s as Et,v as et,w as ze,o as L,p as D,x as Te,y as Ve,z as Ie,A as rt,m as It,u as Dt,q as Nt,r as wt,d as _,J as Je,D as Ke,b as ne,G as vt,a0 as ss,B as _t,a as Be,C as c,c as n,E as Y,U as Zt,e as f,f as g,h as y,g as x,F as de,j as d,k as E,t as ee,V as Qt,O as bt,M as Gt,I as st,K as ge,n as xe,L as tt,N as gt,Z as as,_ as ns,$ as rs,H as os}from"../chunks/BDqP8p-g.js";import{e as Ue}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{a as Tt}from"../chunks/DCFqKId7.js";import{r as is}from"../chunks/ywsRGr9m.js";import{C as Jt}from"../chunks/BnHA_KAe.js";import{X as ts}from"../chunks/DhjFA1Ec.js";import{g as $t,a as Ot}from"../chunks/CgU5AtxT.js";import{I as At}from"../chunks/DEeCOqOg.js";import{C as cs}from"../chunks/D4tGolQ7.js";import{S as us}from"../chunks/DtQofH0C.js";import{P as ls}from"../chunks/CFcgidKw.js";import{C as Kt}from"../chunks/CU-oF-HF.js";import{A as ll}from"../chunks/CEm0GgIa.js";import{I as fs}from"../chunks/DexUCRRz.js";import{A as ds}from"../chunks/BWUs19_d.js";import{F as vs}from"../chunks/2ZouDDiu.js";import{S as _s}from"../chunks/B_xPGucJ.js";import{F as hs}from"../chunks/DqeN2d6x.js";import{S as il}from"../chunks/DduNUdgN.js";import{T as ps}from"../chunks/CLM56qV-.js";import{X as ms}from"../chunks/DkHuhxw2.js";function bs(s){let e;const t=s[2].default,l=It(t,s,s[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&8)&&Dt(l,t,a,a[3],e?wt(t,a[3],r,null):Nt(a[3]),null)},i(a){e||(D(l,a),e=!0)},o(a){L(l,a),e=!1},d(a){l&&l.d(a)}}}function gs(s){let e,t;const l=[{name:"code-2"},s[1],{iconNode:s[0]}];let a={$$slots:{default:[bs]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)a=et(a,l[r]);return e=new At({props:a}),{c(){Ie(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,o){Te(e,r,o),t=!0},p(r,[o]){const i=o&3?$t(l,[l[0],o&2&&Ot(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){ze(e,r)}}}function ks(s,e,t){let{$$slots:l={},$$scope:a}=e;const r=[["path",{d:"m18 16 4-4-4-4"}],["path",{d:"m6 8-4 4 4 4"}],["path",{d:"m14.5 4-5 16"}]];return s.$$set=o=>{t(1,e=et(et({},e),rt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=rt(e),[r,e,l,a]}class sl extends kt{constructor(e){super(),yt(this,e,ks,gs,Et,{})}}function ys(s){let e;const t=s[2].default,l=It(t,s,s[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&8)&&Dt(l,t,a,a[3],e?wt(t,a[3],r,null):Nt(a[3]),null)},i(a){e||(D(l,a),e=!0)},o(a){L(l,a),e=!1},d(a){l&&l.d(a)}}}function Es(s){let e,t;const l=[{name:"help-circle"},s[1],{iconNode:s[0]}];let a={$$slots:{default:[ys]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)a=et(a,l[r]);return e=new At({props:a}),{c(){Ie(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,o){Te(e,r,o),t=!0},p(r,[o]){const i=o&3?$t(l,[l[0],o&2&&Ot(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){ze(e,r)}}}function Cs(s,e,t){let{$$slots:l={},$$scope:a}=e;const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}],["path",{d:"M12 17h.01"}]];return s.$$set=o=>{t(1,e=et(et({},e),rt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=rt(e),[r,e,l,a]}class zs extends kt{constructor(e){super(),yt(this,e,Cs,Es,Et,{})}}function Ts(s){let e;const t=s[2].default,l=It(t,s,s[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&8)&&Dt(l,t,a,a[3],e?wt(t,a[3],r,null):Nt(a[3]),null)},i(a){e||(D(l,a),e=!0)},o(a){L(l,a),e=!1},d(a){l&&l.d(a)}}}function Vs(s){let e,t;const l=[{name:"play"},s[1],{iconNode:s[0]}];let a={$$slots:{default:[Ts]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)a=et(a,l[r]);return e=new At({props:a}),{c(){Ie(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,o){Te(e,r,o),t=!0},p(r,[o]){const i=o&3?$t(l,[l[0],o&2&&Ot(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){ze(e,r)}}}function Is(s,e,t){let{$$slots:l={},$$scope:a}=e;const r=[["polygon",{points:"5 3 19 12 5 21 5 3"}]];return s.$$set=o=>{t(1,e=et(et({},e),rt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=rt(e),[r,e,l,a]}class al extends kt{constructor(e){super(),yt(this,e,Is,Vs,Et,{})}}function Ds(s){let e;const t=s[2].default,l=It(t,s,s[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&8)&&Dt(l,t,a,a[3],e?wt(t,a[3],r,null):Nt(a[3]),null)},i(a){e||(D(l,a),e=!0)},o(a){L(l,a),e=!1},d(a){l&&l.d(a)}}}function Ns(s){let e,t;const l=[{name:"sparkles"},s[1],{iconNode:s[0]}];let a={$$slots:{default:[Ds]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)a=et(a,l[r]);return e=new At({props:a}),{c(){Ie(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,o){Te(e,r,o),t=!0},p(r,[o]){const i=o&3?$t(l,[l[0],o&2&&Ot(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){ze(e,r)}}}function ws(s,e,t){let{$$slots:l={},$$scope:a}=e;const r=[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"}],["path",{d:"M5 3v4"}],["path",{d:"M19 17v4"}],["path",{d:"M3 5h4"}],["path",{d:"M17 19h4"}]];return s.$$set=o=>{t(1,e=et(et({},e),rt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=rt(e),[r,e,l,a]}class $s extends kt{constructor(e){super(),yt(this,e,ws,Ns,Et,{})}}function Os(s){let e;const t=s[2].default,l=It(t,s,s[3],null);return{c(){l&&l.c()},l(a){l&&l.l(a)},m(a,r){l&&l.m(a,r),e=!0},p(a,r){l&&l.p&&(!e||r&8)&&Dt(l,t,a,a[3],e?wt(t,a[3],r,null):Nt(a[3]),null)},i(a){e||(D(l,a),e=!0)},o(a){L(l,a),e=!1},d(a){l&&l.d(a)}}}function As(s){let e,t;const l=[{name:"variable"},s[1],{iconNode:s[0]}];let a={$$slots:{default:[Os]},$$scope:{ctx:s}};for(let r=0;r<l.length;r+=1)a=et(a,l[r]);return e=new At({props:a}),{c(){Ie(e.$$.fragment)},l(r){Ve(e.$$.fragment,r)},m(r,o){Te(e,r,o),t=!0},p(r,[o]){const i=o&3?$t(l,[l[0],o&2&&Ot(r[1]),o&1&&{iconNode:r[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){ze(e,r)}}}function Ps(s,e,t){let{$$slots:l={},$$scope:a}=e;const r=[["path",{d:"M8 21s-4-3-4-9 4-9 4-9"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15"}]];return s.$$set=o=>{t(1,e=et(et({},e),rt(o))),"$$scope"in o&&t(3,a=o.$$scope)},e=rt(e),[r,e,l,a]}class nl extends kt{constructor(e){super(),yt(this,e,Ps,As,Et,{})}}function cl(s,e,t){const l=s.slice();return l[54]=e[t],l}function ul(s,e,t){const l=s.slice();return l[57]=e[t],l}function fl(s,e,t){const l=s.slice();return l[46]=e[t],l}function dl(s,e,t){const l=s.slice();return l[49]=e[t],l}function vl(s,e,t){const l=s.slice();return l[49]=e[t],l[52]=e,l[53]=t,l}function _l(s){let e,t,l,a,r,o,i,u,p,v,h,k,b,m,z,T,O,N,P,A,S,V,J,R,X,j,Q,U,ie,K,re="Cancel",me,Ae,be="Save Formula",ve,pe,Ne;r=new Jt({props:{size:20}});let se=s[4]&&hl();k=new ts({props:{size:20}}),T=new sl({props:{size:16}}),S=new zs({props:{size:16}});const Ee=[qs,Ls],_e=[];function ke(I,B){return I[11]==="editor"?0:I[11]==="help"?1:-1}return~(j=ke(s))&&(Q=_e[j]=Ee[j](s)),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("div"),Ie(r.$$.fragment),o=E(),i=d("h2"),u=ee(s[3]),p=E(),se&&se.c(),v=E(),h=d("button"),Ie(k.$$.fragment),b=E(),m=d("div"),z=d("button"),Ie(T.$$.fragment),O=ee(`
					Editor & Test`),P=E(),A=d("button"),Ie(S.$$.fragment),V=ee(`
					Help`),R=E(),X=d("div"),Q&&Q.c(),U=E(),ie=d("div"),K=d("button"),K.textContent=re,me=E(),Ae=d("button"),Ae.textContent=be,this.h()},l(I){e=f(I,"DIV",{class:!0});var B=g(e);t=f(B,"DIV",{class:!0});var we=g(t);l=f(we,"DIV",{class:!0});var ce=g(l);a=f(ce,"DIV",{class:!0});var W=g(a);Ve(r.$$.fragment,W),o=y(W),i=f(W,"H2",{class:!0});var ae=g(i);u=x(ae,s[3]),ae.forEach(_),p=y(W),se&&se.l(W),W.forEach(_),v=y(ce),h=f(ce,"BUTTON",{class:!0});var C=g(h);Ve(k.$$.fragment,C),C.forEach(_),ce.forEach(_),b=y(we),m=f(we,"DIV",{class:!0});var Z=g(m);z=f(Z,"BUTTON",{class:!0});var H=g(z);Ve(T.$$.fragment,H),O=x(H,`
					Editor & Test`),H.forEach(_),P=y(Z),A=f(Z,"BUTTON",{class:!0});var ue=g(A);Ve(S.$$.fragment,ue),V=x(ue,`
					Help`),ue.forEach(_),Z.forEach(_),R=y(we),X=f(we,"DIV",{class:!0});var M=g(X);Q&&Q.l(M),M.forEach(_),U=y(we),ie=f(we,"DIV",{class:!0});var q=g(ie);K=f(q,"BUTTON",{class:!0,"data-svelte-h":!0}),de(K)!=="svelte-k80vyo"&&(K.textContent=re),me=y(q),Ae=f(q,"BUTTON",{class:!0,"data-svelte-h":!0}),de(Ae)!=="svelte-q3zn3t"&&(Ae.textContent=be),q.forEach(_),we.forEach(_),B.forEach(_),this.h()},h(){c(i,"class","svelte-1xstyb8"),c(a,"class","header-left svelte-1xstyb8"),c(h,"class","btn-close svelte-1xstyb8"),c(l,"class","modal-header svelte-1xstyb8"),c(z,"class",N="tab "+(s[11]==="editor"?"active":"")+" svelte-1xstyb8"),c(A,"class",J="tab "+(s[11]==="help"?"active":"")+" svelte-1xstyb8"),c(m,"class","modal-tabs svelte-1xstyb8"),c(X,"class","modal-body svelte-1xstyb8"),c(K,"class","btn btn-secondary svelte-1xstyb8"),c(Ae,"class","btn btn-primary svelte-1xstyb8"),c(ie,"class","modal-footer svelte-1xstyb8"),c(t,"class","modal svelte-1xstyb8"),c(e,"class","modal-overlay svelte-1xstyb8")},m(I,B){ne(I,e,B),n(e,t),n(t,l),n(l,a),Te(r,a,null),n(a,o),n(a,i),n(i,u),n(a,p),se&&se.m(a,null),n(l,v),n(l,h),Te(k,h,null),n(t,b),n(t,m),n(m,z),Te(T,z,null),n(z,O),n(m,P),n(m,A),Te(S,A,null),n(A,V),n(t,R),n(t,X),~j&&_e[j].m(X,null),n(t,U),n(t,ie),n(ie,K),n(ie,me),n(ie,Ae),ve=!0,pe||(Ne=[Y(h,"click",s[23]),Y(z,"click",s[28]),Y(A,"click",s[29]),Y(K,"click",s[23]),Y(Ae,"click",s[22]),Y(t,"click",Zt(s[27])),Y(e,"click",s[23])],pe=!0)},p(I,B){(!ve||B[0]&8)&&Be(u,I[3]),I[4]?se||(se=hl(),se.c(),se.m(a,null)):se&&(se.d(1),se=null),(!ve||B[0]&2048&&N!==(N="tab "+(I[11]==="editor"?"active":"")+" svelte-1xstyb8"))&&c(z,"class",N),(!ve||B[0]&2048&&J!==(J="tab "+(I[11]==="help"?"active":"")+" svelte-1xstyb8"))&&c(A,"class",J);let we=j;j=ke(I),j===we?~j&&_e[j].p(I,B):(Q&&(Je(),L(_e[we],1,1,()=>{_e[we]=null}),Ke()),~j?(Q=_e[j],Q?Q.p(I,B):(Q=_e[j]=Ee[j](I),Q.c()),D(Q,1),Q.m(X,null)):Q=null)},i(I){ve||(D(r.$$.fragment,I),D(k.$$.fragment,I),D(T.$$.fragment,I),D(S.$$.fragment,I),D(Q),ve=!0)},o(I){L(r.$$.fragment,I),L(k.$$.fragment,I),L(T.$$.fragment,I),L(S.$$.fragment,I),L(Q),ve=!1},d(I){I&&_(e),ze(r),se&&se.d(),ze(k),ze(T),ze(S),~j&&_e[j].d(),pe=!1,_t(Ne)}}}function hl(s){let e,t="Condition";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=f(l,"SPAN",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-10nhtmt"&&(e.textContent=t),this.h()},h(){c(e,"class","condition-badge svelte-1xstyb8")},m(l,a){ne(l,e,a)},d(l){l&&_(e)}}}function Ls(s){let e,t,l,a="Operators",r,o,i,u,p,v="Functions",h,k,b,m,z='<h4 class="svelte-1xstyb8">Examples</h4> <div class="example-list svelte-1xstyb8"><div class="example svelte-1xstyb8"><strong class="svelte-1xstyb8">Simple multiplication:</strong> <code class="svelte-1xstyb8">base_price * quantity</code></div> <div class="example svelte-1xstyb8"><strong class="svelte-1xstyb8">Conditional pricing:</strong> <code class="svelte-1xstyb8">quantity &gt; 100 ? base_price * 0.8 : base_price</code></div> <div class="example svelte-1xstyb8"><strong class="svelte-1xstyb8">Complex calculation:</strong> <code class="svelte-1xstyb8">Math.max(base_price * quantity * (1 - discount), minimum_price)</code></div></div>',T=Ue(s[16]),O=[];for(let A=0;A<T.length;A+=1)O[A]=pl(ul(s,T,A));let N=Ue(s[17]),P=[];for(let A=0;A<N.length;A+=1)P[A]=ml(cl(s,N,A));return{c(){e=d("div"),t=d("div"),l=d("h4"),l.textContent=a,r=E(),o=d("div");for(let A=0;A<O.length;A+=1)O[A].c();i=E(),u=d("div"),p=d("h4"),p.textContent=v,h=E(),k=d("div");for(let A=0;A<P.length;A+=1)P[A].c();b=E(),m=d("div"),m.innerHTML=z,this.h()},l(A){e=f(A,"DIV",{class:!0});var S=g(e);t=f(S,"DIV",{class:!0});var V=g(t);l=f(V,"H4",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-168l1n5"&&(l.textContent=a),r=y(V),o=f(V,"DIV",{class:!0});var J=g(o);for(let j=0;j<O.length;j+=1)O[j].l(J);J.forEach(_),V.forEach(_),i=y(S),u=f(S,"DIV",{class:!0});var R=g(u);p=f(R,"H4",{class:!0,"data-svelte-h":!0}),de(p)!=="svelte-aeduhh"&&(p.textContent=v),h=y(R),k=f(R,"DIV",{class:!0});var X=g(k);for(let j=0;j<P.length;j+=1)P[j].l(X);X.forEach(_),R.forEach(_),b=y(S),m=f(S,"DIV",{class:!0,"data-svelte-h":!0}),de(m)!=="svelte-1ut0o6j"&&(m.innerHTML=z),S.forEach(_),this.h()},h(){c(l,"class","svelte-1xstyb8"),c(o,"class","operator-list svelte-1xstyb8"),c(t,"class","help-group svelte-1xstyb8"),c(p,"class","svelte-1xstyb8"),c(k,"class","function-list svelte-1xstyb8"),c(u,"class","help-group svelte-1xstyb8"),c(m,"class","help-group svelte-1xstyb8"),c(e,"class","help-section svelte-1xstyb8")},m(A,S){ne(A,e,S),n(e,t),n(t,l),n(t,r),n(t,o);for(let V=0;V<O.length;V+=1)O[V]&&O[V].m(o,null);n(e,i),n(e,u),n(u,p),n(u,h),n(u,k);for(let V=0;V<P.length;V+=1)P[V]&&P[V].m(k,null);n(e,b),n(e,m)},p(A,S){if(S[0]&65536){T=Ue(A[16]);let V;for(V=0;V<T.length;V+=1){const J=ul(A,T,V);O[V]?O[V].p(J,S):(O[V]=pl(J),O[V].c(),O[V].m(o,null))}for(;V<O.length;V+=1)O[V].d(1);O.length=T.length}if(S[0]&131072){N=Ue(A[17]);let V;for(V=0;V<N.length;V+=1){const J=cl(A,N,V);P[V]?P[V].p(J,S):(P[V]=ml(J),P[V].c(),P[V].m(k,null))}for(;V<P.length;V+=1)P[V].d(1);P.length=N.length}},i:xe,o:xe,d(A){A&&_(e),st(O,A),st(P,A)}}}function qs(s){let e,t,l,a="Formula Expression",r,o,i,u,p,v,h,k,b,m,z,T,O,N,P,A,S,V,J,R,X,j,Q,U,ie,K,re,me,Ae,be,ve,pe,Ne,se,Ee,_e,ke,I,B,we,ce,W;h=new cs({props:{size:16}});let ae=s[0]&&s[6].length>0&&bl(s);T=new us({props:{size:16}});let C=s[0]&&yl(s),Z=s[9]&&El(s),H=s[10]&&Cl(s),ue=s[7]&&zl(s),M=s[8]&&Tl(s);U=new nl({props:{size:16}}),me=new ls({props:{size:14}});let q=s[12]&&Vl(s);function $e(w,G){return w[1].length>0?Hs:Ms}let Le=$e(s),qe=Le(s);_e=new $s({props:{size:16}});let oe=Ue(s[4]?s[15]:s[14]),he=[];for(let w=0;w<oe.length;w+=1)he[w]=Dl(fl(s,oe,w));return{c(){e=d("div"),t=d("div"),l=d("label"),l.textContent=a,r=E(),o=d("div"),i=d("textarea"),p=E(),v=d("button"),Ie(h.$$.fragment),k=E(),ae&&ae.c(),b=E(),m=d("div"),z=d("button"),Ie(T.$$.fragment),O=ee(`
								Validate Syntax`),N=E(),C&&C.c(),P=E(),Z&&Z.c(),A=E(),H&&H.c(),S=E(),ue&&ue.c(),V=E(),M&&M.c(),J=E(),R=d("div"),X=d("div"),j=d("div"),Q=d("h4"),Ie(U.$$.fragment),ie=ee(`
										Available Variables`),K=E(),re=d("button"),Ie(me.$$.fragment),Ae=ee(`
										Create variable`),be=E(),q&&q.c(),ve=E(),pe=d("div"),qe.c(),Ne=E(),se=d("div"),Ee=d("h4"),Ie(_e.$$.fragment),ke=ee(`
									Quick Templates`),I=E(),B=d("div");for(let w=0;w<he.length;w+=1)he[w].c();this.h()},l(w){e=f(w,"DIV",{class:!0});var G=g(e);t=f(G,"DIV",{class:!0});var ye=g(t);l=f(ye,"LABEL",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-li5fz8"&&(l.textContent=a),r=y(ye),o=f(ye,"DIV",{class:!0});var $=g(o);i=f($,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),g(i).forEach(_),p=y($),v=f($,"BUTTON",{class:!0,title:!0});var le=g(v);Ve(h.$$.fragment,le),le.forEach(_),$.forEach(_),ye.forEach(_),k=y(G),ae&&ae.l(G),b=y(G),m=f(G,"DIV",{class:!0});var Pe=g(m);z=f(Pe,"BUTTON",{class:!0});var Me=g(z);Ve(T.$$.fragment,Me),O=x(Me,`
								Validate Syntax`),Me.forEach(_),N=y(Pe),C&&C.l(Pe),Pe.forEach(_),P=y(G),Z&&Z.l(G),A=y(G),H&&H.l(G),S=y(G),ue&&ue.l(G),V=y(G),M&&M.l(G),J=y(G),R=f(G,"DIV",{class:!0});var Re=g(R);X=f(Re,"DIV",{class:!0});var Ze=g(X);j=f(Ze,"DIV",{class:!0});var je=g(j);Q=f(je,"H4",{class:!0});var F=g(Q);Ve(U.$$.fragment,F),ie=x(F,`
										Available Variables`),F.forEach(_),K=y(je),re=f(je,"BUTTON",{class:!0,title:!0});var Oe=g(re);Ve(me.$$.fragment,Oe),Ae=x(Oe,`
										Create variable`),Oe.forEach(_),je.forEach(_),be=y(Ze),q&&q.l(Ze),ve=y(Ze),pe=f(Ze,"DIV",{class:!0});var De=g(pe);qe.l(De),De.forEach(_),Ze.forEach(_),Ne=y(Re),se=f(Re,"DIV",{class:!0});var te=g(se);Ee=f(te,"H4",{class:!0});var Fe=g(Ee);Ve(_e.$$.fragment,Fe),ke=x(Fe,`
									Quick Templates`),Fe.forEach(_),I=y(te),B=f(te,"DIV",{class:!0});var fe=g(B);for(let Se=0;Se<he.length;Se+=1)he[Se].l(fe);fe.forEach(_),te.forEach(_),Re.forEach(_),G.forEach(_),this.h()},h(){c(l,"class","svelte-1xstyb8"),c(i,"placeholder",u=s[4]?"Enter a condition that evaluates to true/false (e.g., quantity >= 10)":"Enter a formula to calculate the price (e.g., base_price * quantity)"),c(i,"rows","3"),c(i,"class","formula-input svelte-1xstyb8"),c(v,"class","btn-copy svelte-1xstyb8"),c(v,"title","Copy formula"),c(o,"class","formula-input-wrapper svelte-1xstyb8"),c(t,"class","formula-input-group svelte-1xstyb8"),c(z,"class","btn btn-validate svelte-1xstyb8"),c(m,"class","formula-actions svelte-1xstyb8"),c(Q,"class","svelte-1xstyb8"),c(re,"class","btn-add-variable svelte-1xstyb8"),c(re,"title","Create new variable"),c(j,"class","helper-header svelte-1xstyb8"),c(pe,"class","variable-list svelte-1xstyb8"),c(X,"class","helper-section svelte-1xstyb8"),c(Ee,"class","svelte-1xstyb8"),c(B,"class","snippet-list svelte-1xstyb8"),c(se,"class","helper-section svelte-1xstyb8"),c(R,"class","helpers svelte-1xstyb8"),c(e,"class","editor-section svelte-1xstyb8")},m(w,G){ne(w,e,G),n(e,t),n(t,l),n(t,r),n(t,o),n(o,i),ge(i,s[0]),n(o,p),n(o,v),Te(h,v,null),n(e,k),ae&&ae.m(e,null),n(e,b),n(e,m),n(m,z),Te(T,z,null),n(z,O),n(m,N),C&&C.m(m,null),n(e,P),Z&&Z.m(e,null),n(e,A),H&&H.m(e,null),n(e,S),ue&&ue.m(e,null),n(e,V),M&&M.m(e,null),n(e,J),n(e,R),n(R,X),n(X,j),n(j,Q),Te(U,Q,null),n(Q,ie),n(j,K),n(j,re),Te(me,re,null),n(re,Ae),n(X,be),q&&q.m(X,null),n(X,ve),n(X,pe),qe.m(pe,null),n(R,Ne),n(R,se),n(se,Ee),Te(_e,Ee,null),n(Ee,ke),n(se,I),n(se,B);for(let ye=0;ye<he.length;ye+=1)he[ye]&&he[ye].m(B,null);we=!0,ce||(W=[Y(i,"input",s[30]),Y(v,"click",s[24]),Y(z,"click",s[20]),Y(re,"click",s[35])],ce=!0)},p(w,G){if((!we||G[0]&16&&u!==(u=w[4]?"Enter a condition that evaluates to true/false (e.g., quantity >= 10)":"Enter a formula to calculate the price (e.g., base_price * quantity)"))&&c(i,"placeholder",u),G[0]&1&&ge(i,w[0]),w[0]&&w[6].length>0?ae?(ae.p(w,G),G[0]&65&&D(ae,1)):(ae=bl(w),ae.c(),D(ae,1),ae.m(e,b)):ae&&(Je(),L(ae,1,1,()=>{ae=null}),Ke()),w[0]?C?(C.p(w,G),G[0]&1&&D(C,1)):(C=yl(w),C.c(),D(C,1),C.m(m,null)):C&&(Je(),L(C,1,1,()=>{C=null}),Ke()),w[9]?Z?(Z.p(w,G),G[0]&512&&D(Z,1)):(Z=El(w),Z.c(),D(Z,1),Z.m(e,A)):Z&&(Je(),L(Z,1,1,()=>{Z=null}),Ke()),w[10]?H?(H.p(w,G),G[0]&1024&&D(H,1)):(H=Cl(w),H.c(),D(H,1),H.m(e,S)):H&&(Je(),L(H,1,1,()=>{H=null}),Ke()),w[7]?ue?(ue.p(w,G),G[0]&128&&D(ue,1)):(ue=zl(w),ue.c(),D(ue,1),ue.m(e,V)):ue&&(Je(),L(ue,1,1,()=>{ue=null}),Ke()),w[8]?M?(M.p(w,G),G[0]&256&&D(M,1)):(M=Tl(w),M.c(),D(M,1),M.m(e,J)):M&&(Je(),L(M,1,1,()=>{M=null}),Ke()),w[12]?q?(q.p(w,G),G[0]&4096&&D(q,1)):(q=Vl(w),q.c(),D(q,1),q.m(X,ve)):q&&(Je(),L(q,1,1,()=>{q=null}),Ke()),Le===(Le=$e(w))&&qe?qe.p(w,G):(qe.d(1),qe=Le(w),qe&&(qe.c(),qe.m(pe,null))),G[0]&311312){oe=Ue(w[4]?w[15]:w[14]);let ye;for(ye=0;ye<oe.length;ye+=1){const $=fl(w,oe,ye);he[ye]?he[ye].p($,G):(he[ye]=Dl($),he[ye].c(),he[ye].m(B,null))}for(;ye<he.length;ye+=1)he[ye].d(1);he.length=oe.length}},i(w){we||(D(h.$$.fragment,w),D(ae),D(T.$$.fragment,w),D(C),D(Z),D(H),D(ue),D(M),D(U.$$.fragment,w),D(me.$$.fragment,w),D(q),D(_e.$$.fragment,w),we=!0)},o(w){L(h.$$.fragment,w),L(ae),L(T.$$.fragment,w),L(C),L(Z),L(H),L(ue),L(M),L(U.$$.fragment,w),L(me.$$.fragment,w),L(q),L(_e.$$.fragment,w),we=!1},d(w){w&&_(e),ze(h),ae&&ae.d(),ze(T),C&&C.d(),Z&&Z.d(),H&&H.d(),ue&&ue.d(),M&&M.d(),ze(U),ze(me),q&&q.d(),qe.d(),ze(_e),st(he,w),ce=!1,_t(W)}}}function pl(s){let e,t,l=s[57].symbol+"",a,r,o,i=s[57].description+"",u,p;return{c(){e=d("div"),t=d("code"),a=ee(l),r=E(),o=d("span"),u=ee(i),p=E(),this.h()},l(v){e=f(v,"DIV",{class:!0});var h=g(e);t=f(h,"CODE",{class:!0});var k=g(t);a=x(k,l),k.forEach(_),r=y(h),o=f(h,"SPAN",{});var b=g(o);u=x(b,i),b.forEach(_),p=y(h),h.forEach(_),this.h()},h(){c(t,"class","svelte-1xstyb8"),c(e,"class","operator-item svelte-1xstyb8")},m(v,h){ne(v,e,h),n(e,t),n(t,a),n(e,r),n(e,o),n(o,u),n(e,p)},p:xe,d(v){v&&_(e)}}}function ml(s){let e,t,l=s[54].name+"",a,r,o,i=s[54].description+"",u,p;return{c(){e=d("div"),t=d("code"),a=ee(l),r=E(),o=d("span"),u=ee(i),p=E(),this.h()},l(v){e=f(v,"DIV",{class:!0});var h=g(e);t=f(h,"CODE",{class:!0});var k=g(t);a=x(k,l),k.forEach(_),r=y(h),o=f(h,"SPAN",{});var b=g(o);u=x(b,i),b.forEach(_),p=y(h),h.forEach(_),this.h()},h(){c(t,"class","svelte-1xstyb8"),c(e,"class","function-item svelte-1xstyb8")},m(v,h){ne(v,e,h),n(e,t),n(t,a),n(e,r),n(e,o),n(o,u),n(e,p)},p:xe,d(v){v&&_(e)}}}function bl(s){let e,t,l,a,r,o,i;l=new al({props:{size:16}});let u=Ue(s[6]),p=[];for(let h=0;h<u.length;h+=1)p[h]=kl(vl(s,u,h));const v=h=>L(p[h],1,1,()=>{p[h]=null});return{c(){e=d("div"),t=d("h4"),Ie(l.$$.fragment),a=ee(`
									Test Values`),r=E(),o=d("div");for(let h=0;h<p.length;h+=1)p[h].c();this.h()},l(h){e=f(h,"DIV",{class:!0});var k=g(e);t=f(k,"H4",{class:!0});var b=g(t);Ve(l.$$.fragment,b),a=x(b,`
									Test Values`),b.forEach(_),r=y(k),o=f(k,"DIV",{class:!0});var m=g(o);for(let z=0;z<p.length;z+=1)p[z].l(m);m.forEach(_),k.forEach(_),this.h()},h(){c(t,"class","svelte-1xstyb8"),c(o,"class","variable-inputs svelte-1xstyb8"),c(e,"class","test-variables svelte-1xstyb8")},m(h,k){ne(h,e,k),n(e,t),Te(l,t,null),n(t,a),n(e,r),n(e,o);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(o,null);i=!0},p(h,k){if(k[0]&96){u=Ue(h[6]);let b;for(b=0;b<u.length;b+=1){const m=vl(h,u,b);p[b]?(p[b].p(m,k),D(p[b],1)):(p[b]=kl(m),p[b].c(),D(p[b],1),p[b].m(o,null))}for(Je(),b=u.length;b<p.length;b+=1)v(b);Ke()}},i(h){if(!i){D(l.$$.fragment,h);for(let k=0;k<u.length;k+=1)D(p[k]);i=!0}},o(h){L(l.$$.fragment,h),p=p.filter(Boolean);for(let k=0;k<p.length;k+=1)L(p[k]);i=!1},d(h){h&&_(e),ze(l),st(p,h)}}}function gl(s){let e,t,l,a;return t=new fs({props:{size:14}}),{c(){e=d("span"),Ie(t.$$.fragment),this.h()},l(r){e=f(r,"SPAN",{class:!0,title:!0});var o=g(e);Ve(t.$$.fragment,o),o.forEach(_),this.h()},h(){c(e,"class","var-desc svelte-1xstyb8"),c(e,"title",l=s[49].description)},m(r,o){ne(r,e,o),Te(t,e,null),a=!0},p(r,o){(!a||o[0]&64&&l!==(l=r[49].description))&&c(e,"title",l)},i(r){a||(D(t.$$.fragment,r),a=!0)},o(r){L(t.$$.fragment,r),a=!1},d(r){r&&_(e),ze(t)}}}function Fs(s){let e,t,l,a;function r(){s[34].call(e,s[49])}return{c(){e=d("input"),this.h()},l(o){e=f(o,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),this.h()},h(){c(e,"type","text"),c(e,"id",t="var-"+s[49].name),c(e,"placeholder","Enter value"),c(e,"class","svelte-1xstyb8")},m(o,i){ne(o,e,i),ge(e,s[5][s[49].name]),l||(a=Y(e,"input",r),l=!0)},p(o,i){s=o,i[0]&64&&t!==(t="var-"+s[49].name)&&c(e,"id",t),i[0]&96&&e.value!==s[5][s[49].name]&&ge(e,s[5][s[49].name])},d(o){o&&_(e),l=!1,a()}}}function Ss(s){let e,t,l,a;function r(){s[33].call(e,s[49])}return{c(){e=d("input"),this.h()},l(o){e=f(o,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),this.h()},h(){c(e,"type","text"),c(e,"id",t="var-"+s[49].name),c(e,"placeholder","Enter text value"),c(e,"class","svelte-1xstyb8")},m(o,i){ne(o,e,i),ge(e,s[5][s[49].name]),l||(a=Y(e,"input",r),l=!0)},p(o,i){s=o,i[0]&64&&t!==(t="var-"+s[49].name)&&c(e,"id",t),i[0]&96&&e.value!==s[5][s[49].name]&&ge(e,s[5][s[49].name])},d(o){o&&_(e),l=!1,a()}}}function Bs(s){let e,t,l,a;function r(){s[32].call(e,s[49])}return{c(){e=d("input"),this.h()},l(o){e=f(o,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),this.h()},h(){c(e,"type","number"),c(e,"id",t="var-"+s[49].name),c(e,"placeholder","0"),c(e,"class","svelte-1xstyb8")},m(o,i){ne(o,e,i),ge(e,s[5][s[49].name]),l||(a=Y(e,"input",r),l=!0)},p(o,i){s=o,i[0]&64&&t!==(t="var-"+s[49].name)&&c(e,"id",t),i[0]&96&&Gt(e.value)!==s[5][s[49].name]&&ge(e,s[5][s[49].name])},d(o){o&&_(e),l=!1,a()}}}function Us(s){let e,t,l="True",a,r="False",o,i,u;function p(){s[31].call(e,s[49])}return{c(){e=d("select"),t=d("option"),t.textContent=l,a=d("option"),a.textContent=r,this.h()},l(v){e=f(v,"SELECT",{id:!0,class:!0});var h=g(e);t=f(h,"OPTION",{"data-svelte-h":!0}),de(t)!=="svelte-1wpj7a"&&(t.textContent=l),a=f(h,"OPTION",{"data-svelte-h":!0}),de(a)!=="svelte-1v2w52"&&(a.textContent=r),h.forEach(_),this.h()},h(){t.__value=!0,ge(t,t.__value),a.__value=!1,ge(a,a.__value),c(e,"id",o="var-"+s[49].name),c(e,"class","svelte-1xstyb8"),s[5][s[49].name]===void 0&&gt(p)},m(v,h){ne(v,e,h),n(e,t),n(e,a),tt(e,s[5][s[49].name],!0),i||(u=Y(e,"change",p),i=!0)},p(v,h){s=v,h[0]&64&&o!==(o="var-"+s[49].name)&&c(e,"id",o),h[0]&96&&tt(e,s[5][s[49].name])},d(v){v&&_(e),i=!1,u()}}}function kl(s){let e,t,l=(s[49].displayName||s[49].name)+"",a,r,o,i,u,p,v=s[49].description&&gl(s);function h(m,z){return m[49].valueType==="boolean"?Us:m[49].valueType==="number"?Bs:m[49].valueType==="string"?Ss:Fs}let k=h(s),b=k(s);return{c(){e=d("div"),t=d("label"),a=ee(l),r=E(),v&&v.c(),i=E(),b.c(),u=E(),this.h()},l(m){e=f(m,"DIV",{class:!0});var z=g(e);t=f(z,"LABEL",{for:!0,class:!0});var T=g(t);a=x(T,l),r=y(T),v&&v.l(T),T.forEach(_),i=y(z),b.l(z),u=y(z),z.forEach(_),this.h()},h(){c(t,"for",o="var-"+s[49].name),c(t,"class","svelte-1xstyb8"),c(e,"class","variable-input svelte-1xstyb8")},m(m,z){ne(m,e,z),n(e,t),n(t,a),n(t,r),v&&v.m(t,null),n(e,i),b.m(e,null),n(e,u),p=!0},p(m,z){(!p||z[0]&64)&&l!==(l=(m[49].displayName||m[49].name)+"")&&Be(a,l),m[49].description?v?(v.p(m,z),z[0]&64&&D(v,1)):(v=gl(m),v.c(),D(v,1),v.m(t,null)):v&&(Je(),L(v,1,1,()=>{v=null}),Ke()),(!p||z[0]&64&&o!==(o="var-"+m[49].name))&&c(t,"for",o),k===(k=h(m))&&b?b.p(m,z):(b.d(1),b=k(m),b&&(b.c(),b.m(e,u)))},i(m){p||(D(v),p=!0)},o(m){L(v),p=!1},d(m){m&&_(e),v&&v.d(),b.d()}}}function yl(s){let e,t,l,a,r,o;return t=new al({props:{size:16}}),{c(){e=d("button"),Ie(t.$$.fragment),l=ee(`
									Test Formula`),this.h()},l(i){e=f(i,"BUTTON",{class:!0});var u=g(e);Ve(t.$$.fragment,u),l=x(u,`
									Test Formula`),u.forEach(_),this.h()},h(){c(e,"class","btn btn-primary svelte-1xstyb8")},m(i,u){ne(i,e,u),Te(t,e,null),n(e,l),a=!0,r||(o=Y(e,"click",s[21]),r=!0)},p:xe,i(i){a||(D(t.$$.fragment,i),a=!0)},o(i){L(t.$$.fragment,i),a=!1},d(i){i&&_(e),ze(t),r=!1,o()}}}function El(s){let e,t,l,a,r,o;return t=new Kt({props:{size:16}}),{c(){e=d("div"),Ie(t.$$.fragment),l=E(),a=d("span"),r=ee(s[9]),this.h()},l(i){e=f(i,"DIV",{class:!0});var u=g(e);Ve(t.$$.fragment,u),l=y(u),a=f(u,"SPAN",{});var p=g(a);r=x(p,s[9]),p.forEach(_),u.forEach(_),this.h()},h(){c(e,"class","validation-result success svelte-1xstyb8")},m(i,u){ne(i,e,u),Te(t,e,null),n(e,l),n(e,a),n(a,r),o=!0},p(i,u){(!o||u[0]&512)&&Be(r,i[9])},i(i){o||(D(t.$$.fragment,i),o=!0)},o(i){L(t.$$.fragment,i),o=!1},d(i){i&&_(e),ze(t)}}}function Cl(s){let e,t,l,a,r,o;return t=new ll({props:{size:16}}),{c(){e=d("div"),Ie(t.$$.fragment),l=E(),a=d("span"),r=ee(s[10]),this.h()},l(i){e=f(i,"DIV",{class:!0});var u=g(e);Ve(t.$$.fragment,u),l=y(u),a=f(u,"SPAN",{});var p=g(a);r=x(p,s[10]),p.forEach(_),u.forEach(_),this.h()},h(){c(e,"class","validation-result error svelte-1xstyb8")},m(i,u){ne(i,e,u),Te(t,e,null),n(e,l),n(e,a),n(a,r),o=!0},p(i,u){(!o||u[0]&1024)&&Be(r,i[10])},i(i){o||(D(t.$$.fragment,i),o=!0)},o(i){L(t.$$.fragment,i),o=!1},d(i){i&&_(e),ze(t)}}}function zl(s){let e,t,l,a,r,o;return t=new Kt({props:{size:20}}),{c(){e=d("div"),Ie(t.$$.fragment),l=E(),a=d("span"),r=ee(s[7]),this.h()},l(i){e=f(i,"DIV",{class:!0});var u=g(e);Ve(t.$$.fragment,u),l=y(u),a=f(u,"SPAN",{});var p=g(a);r=x(p,s[7]),p.forEach(_),u.forEach(_),this.h()},h(){c(e,"class","test-result success svelte-1xstyb8")},m(i,u){ne(i,e,u),Te(t,e,null),n(e,l),n(e,a),n(a,r),o=!0},p(i,u){(!o||u[0]&128)&&Be(r,i[7])},i(i){o||(D(t.$$.fragment,i),o=!0)},o(i){L(t.$$.fragment,i),o=!1},d(i){i&&_(e),ze(t)}}}function Tl(s){let e,t,l,a,r,o;return t=new ll({props:{size:20}}),{c(){e=d("div"),Ie(t.$$.fragment),l=E(),a=d("span"),r=ee(s[8]),this.h()},l(i){e=f(i,"DIV",{class:!0});var u=g(e);Ve(t.$$.fragment,u),l=y(u),a=f(u,"SPAN",{});var p=g(a);r=x(p,s[8]),p.forEach(_),u.forEach(_),this.h()},h(){c(e,"class","test-result error svelte-1xstyb8")},m(i,u){ne(i,e,u),Te(t,e,null),n(e,l),n(e,a),n(a,r),o=!0},p(i,u){(!o||u[0]&256)&&Be(r,i[8])},i(i){o||(D(t.$$.fragment,i),o=!0)},o(i){L(t.$$.fragment,i),o=!1},d(i){i&&_(e),ze(t)}}}function Vl(s){let e,t,l,a,r,o,i,u="Number",p,v="Boolean",h,k="Text",b,m,z,T,O,N,P,A,S,V,J,R,X,j;return N=new Kt({props:{size:14}}),V=new ts({props:{size:14}}),{c(){e=d("div"),t=d("input"),l=E(),a=d("input"),r=E(),o=d("select"),i=d("option"),i.textContent=u,p=d("option"),p.textContent=v,h=d("option"),h.textContent=k,b=E(),m=d("input"),z=E(),T=d("div"),O=d("button"),Ie(N.$$.fragment),P=ee(`
												Create`),A=E(),S=d("button"),Ie(V.$$.fragment),J=ee(`
												Cancel`),this.h()},l(Q){e=f(Q,"DIV",{class:!0});var U=g(e);t=f(U,"INPUT",{type:!0,placeholder:!0,class:!0}),l=y(U),a=f(U,"INPUT",{type:!0,placeholder:!0,class:!0}),r=y(U),o=f(U,"SELECT",{class:!0});var ie=g(o);i=f(ie,"OPTION",{"data-svelte-h":!0}),de(i)!=="svelte-n80m5q"&&(i.textContent=u),p=f(ie,"OPTION",{"data-svelte-h":!0}),de(p)!=="svelte-ymhg32"&&(p.textContent=v),h=f(ie,"OPTION",{"data-svelte-h":!0}),de(h)!=="svelte-2z0w0c"&&(h.textContent=k),ie.forEach(_),b=y(U),m=f(U,"INPUT",{type:!0,placeholder:!0,class:!0}),z=y(U),T=f(U,"DIV",{class:!0});var K=g(T);O=f(K,"BUTTON",{class:!0});var re=g(O);Ve(N.$$.fragment,re),P=x(re,`
												Create`),re.forEach(_),A=y(K),S=f(K,"BUTTON",{class:!0});var me=g(S);Ve(V.$$.fragment,me),J=x(me,`
												Cancel`),me.forEach(_),K.forEach(_),U.forEach(_),this.h()},h(){c(t,"type","text"),c(t,"placeholder","Variable name (e.g., discount_rate)"),c(t,"class","variable-input svelte-1xstyb8"),c(a,"type","text"),c(a,"placeholder","Display name (e.g., Discount Rate)"),c(a,"class","variable-input svelte-1xstyb8"),i.__value="number",ge(i,i.__value),p.__value="boolean",ge(p,p.__value),h.__value="string",ge(h,h.__value),c(o,"class","variable-input svelte-1xstyb8"),s[13].valueType===void 0&&gt(()=>s[38].call(o)),c(m,"type","text"),c(m,"placeholder","Description (optional)"),c(m,"class","variable-input svelte-1xstyb8"),c(O,"class","btn-save-variable svelte-1xstyb8"),c(S,"class","btn-cancel-variable svelte-1xstyb8"),c(T,"class","create-variable-actions svelte-1xstyb8"),c(e,"class","create-variable-form svelte-1xstyb8")},m(Q,U){ne(Q,e,U),n(e,t),ge(t,s[13].name),n(e,l),n(e,a),ge(a,s[13].displayName),n(e,r),n(e,o),n(o,i),n(o,p),n(o,h),tt(o,s[13].valueType,!0),n(e,b),n(e,m),ge(m,s[13].description),n(e,z),n(e,T),n(T,O),Te(N,O,null),n(O,P),n(T,A),n(T,S),Te(V,S,null),n(S,J),R=!0,X||(j=[Y(t,"input",s[36]),Y(a,"input",s[37]),Y(o,"change",s[38]),Y(m,"input",s[39]),Y(O,"click",s[25]),Y(S,"click",s[40])],X=!0)},p(Q,U){U[0]&8192&&t.value!==Q[13].name&&ge(t,Q[13].name),U[0]&8192&&a.value!==Q[13].displayName&&ge(a,Q[13].displayName),U[0]&8192&&tt(o,Q[13].valueType),U[0]&8192&&m.value!==Q[13].description&&ge(m,Q[13].description)},i(Q){R||(D(N.$$.fragment,Q),D(V.$$.fragment,Q),R=!0)},o(Q){L(N.$$.fragment,Q),L(V.$$.fragment,Q),R=!1},d(Q){Q&&_(e),ze(N),ze(V),X=!1,_t(j)}}}function Ms(s){let e,t="No variables available";return{c(){e=d("p"),e.textContent=t,this.h()},l(l){e=f(l,"P",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-i52oqm"&&(e.textContent=t),this.h()},h(){c(e,"class","no-items svelte-1xstyb8")},m(l,a){ne(l,e,a)},p:xe,d(l){l&&_(e)}}}function Hs(s){let e,t=Ue(s[1]),l=[];for(let a=0;a<t.length;a+=1)l[a]=Il(dl(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=vt()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);e=vt()},m(a,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(a,r);ne(a,e,r)},p(a,r){if(r[0]&524290){t=Ue(a[1]);let o;for(o=0;o<t.length;o+=1){const i=dl(a,t,o);l[o]?l[o].p(i,r):(l[o]=Il(i),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(a){a&&_(e),st(l,a)}}}function Il(s){let e,t,l=s[49].name+"",a,r,o,i=s[49].valueType+"",u,p,v,h,k;function b(){return s[41](s[49])}return{c(){e=d("button"),t=d("span"),a=ee(l),r=E(),o=d("span"),u=ee(i),p=E(),this.h()},l(m){e=f(m,"BUTTON",{class:!0,title:!0});var z=g(e);t=f(z,"SPAN",{class:!0});var T=g(t);a=x(T,l),T.forEach(_),r=y(z),o=f(z,"SPAN",{class:!0});var O=g(o);u=x(O,i),O.forEach(_),p=y(z),z.forEach(_),this.h()},h(){c(t,"class","variable-name svelte-1xstyb8"),c(o,"class","variable-type svelte-1xstyb8"),c(e,"class","variable-chip svelte-1xstyb8"),c(e,"title",v=s[49].description||"")},m(m,z){ne(m,e,z),n(e,t),n(t,a),n(e,r),n(e,o),n(o,u),n(e,p),h||(k=Y(e,"click",b),h=!0)},p(m,z){s=m,z[0]&2&&l!==(l=s[49].name+"")&&Be(a,l),z[0]&2&&i!==(i=s[49].valueType+"")&&Be(u,i),z[0]&2&&v!==(v=s[49].description||"")&&c(e,"title",v)},d(m){m&&_(e),h=!1,k()}}}function Dl(s){let e,t,l=s[46].label+"",a,r,o,i=s[46].formula+"",u,p,v,h;function k(){return s[42](s[46])}return{c(){e=d("button"),t=d("span"),a=ee(l),r=E(),o=d("code"),u=ee(i),p=E(),this.h()},l(b){e=f(b,"BUTTON",{class:!0});var m=g(e);t=f(m,"SPAN",{class:!0});var z=g(t);a=x(z,l),z.forEach(_),r=y(m),o=f(m,"CODE",{class:!0});var T=g(o);u=x(T,i),T.forEach(_),p=y(m),m.forEach(_),this.h()},h(){c(t,"class","snippet-label svelte-1xstyb8"),c(o,"class","snippet-formula svelte-1xstyb8"),c(e,"class","snippet-item svelte-1xstyb8")},m(b,m){ne(b,e,m),n(e,t),n(t,a),n(e,r),n(e,o),n(o,u),n(e,p),v||(h=Y(e,"click",k),v=!0)},p(b,m){s=b,m[0]&16&&l!==(l=s[46].label+"")&&Be(a,l),m[0]&16&&i!==(i=s[46].formula+"")&&Be(u,i)},d(b){b&&_(e),v=!1,h()}}}function Rs(s){let e,t,l=s[2]&&_l(s);return{c(){l&&l.c(),e=vt()},l(a){l&&l.l(a),e=vt()},m(a,r){l&&l.m(a,r),ne(a,e,r),t=!0},p(a,r){a[2]?l?(l.p(a,r),r[0]&4&&D(l,1)):(l=_l(a),l.c(),D(l,1),l.m(e.parentNode,e)):l&&(Je(),L(l,1,1,()=>{l=null}),Ke())},i(a){t||(D(l),t=!0)},o(a){L(l),t=!1},d(a){a&&_(e),l&&l.d(a)}}}function js(s,e,t){let l,a,{show:r=!1}=e,{title:o="Formula Editor"}=e,{formula:i=""}=e,{variables:u=[]}=e,{isConditionFormula:p=!1}=e;const v=ss();let h={},k="",b="",m="",z="",T="editor",O=!1,N={name:"",displayName:"",valueType:"number",description:""};function P(C){if(!C)return[];const Z=C.match(/\b[a-zA-Z_][a-zA-Z0-9_]*\b/g)||[],H=u.map(M=>M.name);return[...new Set(Z)].filter(M=>H.includes(M)&&!["Math","true","false","null","undefined"].includes(M))}const A=[{label:"Basic Price",formula:"base_price * quantity"},{label:"Percentage Discount",formula:"base_price * (1 - discount_percentage / 100)"},{label:"Tiered Pricing",formula:"quantity <= 10 ? base_price : quantity <= 50 ? base_price * 0.9 : base_price * 0.8"},{label:"Member Discount",formula:"base_price * (is_member ? 0.9 : 1.0)"},{label:"Bulk Discount",formula:"base_price * quantity * (quantity >= 100 ? 0.7 : quantity >= 50 ? 0.8 : quantity >= 10 ? 0.9 : 1.0)"},{label:"Time-based",formula:"base_price * (is_weekend ? 1.2 : 1.0)"},{label:"Tax Calculation",formula:"base_price * (1 + tax_rate)"},{label:"Minimum Charge",formula:"Math.max(base_price * quantity, minimum_charge)"}],S=[{label:"Quantity Check",formula:"quantity >= 10"},{label:"Member Only",formula:"is_member == true"},{label:"Date Range",formula:"date >= start_date && date <= end_date"},{label:"Location Based",formula:'location == "US" || location == "CA"'},{label:"Product Type",formula:'product_type == "premium"'},{label:"Combined",formula:"is_member && quantity >= 10"}],V=[{symbol:"+",description:"Addition"},{symbol:"-",description:"Subtraction"},{symbol:"*",description:"Multiplication"},{symbol:"/",description:"Division"},{symbol:"%",description:"Modulo"},{symbol:"**",description:"Exponentiation"},{symbol:"?:",description:"Ternary (condition ? true : false)"},{symbol:">",description:"Greater than"},{symbol:"<",description:"Less than"},{symbol:">=",description:"Greater than or equal"},{symbol:"<=",description:"Less than or equal"},{symbol:"==",description:"Equal to"},{symbol:"!=",description:"Not equal to"},{symbol:"&&",description:"Logical AND"},{symbol:"||",description:"Logical OR"},{symbol:"!",description:"Logical NOT"}],J=[{name:"Math.max(a, b)",description:"Returns the larger value"},{name:"Math.min(a, b)",description:"Returns the smaller value"},{name:"Math.round(x)",description:"Rounds to nearest integer"},{name:"Math.floor(x)",description:"Rounds down"},{name:"Math.ceil(x)",description:"Rounds up"},{name:"Math.abs(x)",description:"Absolute value"},{name:"Math.pow(x, y)",description:"x to the power of y"},{name:"Math.sqrt(x)",description:"Square root"}];function R(C){t(0,i=C)}function X(C){t(0,i=i?`${i} ${C}`:C)}function j(){if(t(10,z=""),t(9,m=""),!i){t(10,z="Formula is empty");return}try{const C={};a.forEach(q=>{C[q.name]=q.valueType==="boolean"?!1:q.valueType==="number"?1:q.valueType==="string"?"test":null});const Z={...C,Math},H=Object.keys(Z),ue=Object.values(Z);new Function(...H,`return ${i}`)(...ue),t(9,m="Formula syntax is valid ✓")}catch(C){t(10,z=`Syntax error: ${C.message}`)}}async function Q(){if(t(8,b=""),t(7,k=""),!i){t(8,b="Please enter a formula");return}try{const C={...h,Math},Z=Object.keys(C),H=Object.values(C),M=new Function(...Z,`return ${i}`)(...H);p?t(7,k=M?"TRUE ✓ (Template will apply)":"FALSE ✗ (Template will not apply)"):t(7,k=`Result: ${typeof M=="number"?M.toFixed(2):M}`)}catch(C){t(8,b=`Error: ${C.message}`)}}function U(){v("save",i),ie()}function ie(){t(2,r=!1),t(8,b=""),t(7,k=""),t(10,z=""),t(9,m=""),t(11,T="editor")}function K(){navigator.clipboard.writeText(i)}function re(){if(!N.name||!N.displayName){alert("Please provide both name and display name for the variable");return}v("createVariable",N),t(1,u=[...u,{name:N.name,displayName:N.displayName,valueType:N.valueType,description:N.description}]),t(13,N={name:"",displayName:"",valueType:"number",description:""}),t(12,O=!1)}function me(C){Qt.call(this,s,C)}const Ae=()=>t(11,T="editor"),be=()=>t(11,T="help");function ve(){i=this.value,t(0,i)}function pe(C){h[C.name]=bt(this),t(5,h),t(6,a),t(26,l),t(1,u),t(0,i)}function Ne(C){h[C.name]=Gt(this.value),t(5,h),t(6,a),t(26,l),t(1,u),t(0,i)}function se(C){h[C.name]=this.value,t(5,h),t(6,a),t(26,l),t(1,u),t(0,i)}function Ee(C){h[C.name]=this.value,t(5,h),t(6,a),t(26,l),t(1,u),t(0,i)}const _e=()=>t(12,O=!O);function ke(){N.name=this.value,t(13,N)}function I(){N.displayName=this.value,t(13,N)}function B(){N.valueType=bt(this),t(13,N)}function we(){N.description=this.value,t(13,N)}const ce=()=>t(12,O=!1),W=C=>X(C.name),ae=C=>R(C.formula);return s.$$set=C=>{"show"in C&&t(2,r=C.show),"title"in C&&t(3,o=C.title),"formula"in C&&t(0,i=C.formula),"variables"in C&&t(1,u=C.variables),"isConditionFormula"in C&&t(4,p=C.isConditionFormula)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(26,l=P(i)),s.$$.dirty[0]&67108866&&t(6,a=u.filter(C=>l.includes(C.name))),s.$$.dirty[0]&67108960&&(a.length>0?(Object.keys(h).forEach(C=>{l.includes(C)||delete h[C]}),a.forEach(C=>{C.name in h||t(5,h[C.name]=C.defaultValue??(C.valueType==="boolean"?!1:C.valueType==="number"?0:C.valueType==="string"?"":null),h)})):t(5,h={}))},[i,u,r,o,p,h,a,k,b,m,z,T,O,N,A,S,V,J,R,X,j,Q,U,ie,K,re,l,me,Ae,be,ve,pe,Ne,se,Ee,_e,ke,I,B,we,ce,W,ae]}class Xs extends kt{constructor(e){super(),yt(this,e,js,Rs,Et,{show:2,title:3,formula:0,variables:1,isConditionFormula:4},null,[-1,-1])}}function Nl(s,e,t){const l=s.slice();return l[73]=e[t],l[74]=e,l[75]=t,l}function wl(s,e,t){const l=s.slice();return l[76]=e[t],l}function $l(s,e,t){const l=s.slice();return l[79]=e[t],l}function Ol(s,e,t){const l=s.slice();return l[76]=e[t],l}function Al(s,e,t){const l=s.slice();return l[86]=e[t],l}function Pl(s,e,t){const l=s.slice();return l[79]=e[t],l}function Ll(s,e,t){const l=s.slice();return l[86]=e[t],l}function ql(s,e,t){const l=s.slice();return l[76]=e[t],l}function Fl(s){let e,t,l="All Categories",a,r,o=Ue(s[17]),i=[];for(let u=0;u<o.length;u+=1)i[u]=Sl(ql(s,o,u));return{c(){e=d("select"),t=d("option"),t.textContent=l;for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=f(u,"SELECT",{class:!0});var p=g(e);t=f(p,"OPTION",{"data-svelte-h":!0}),de(t)!=="svelte-16sr5ty"&&(t.textContent=l);for(let v=0;v<i.length;v+=1)i[v].l(p);p.forEach(_),this.h()},h(){t.__value="all",ge(t,t.__value),c(e,"class","filter-select svelte-10nakzo"),s[1]===void 0&&gt(()=>s[33].call(e))},m(u,p){ne(u,e,p),n(e,t);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(e,null);tt(e,s[1],!0),a||(r=Y(e,"change",s[33]),a=!0)},p(u,p){if(p[0]&131072){o=Ue(u[17]);let v;for(v=0;v<o.length;v+=1){const h=ql(u,o,v);i[v]?i[v].p(h,p):(i[v]=Sl(h),i[v].c(),i[v].m(e,null))}for(;v<i.length;v+=1)i[v].d(1);i.length=o.length}p[0]&131074&&tt(e,u[1])},d(u){u&&_(e),st(i,u),a=!1,r()}}}function Sl(s){let e,t=s[76].label+"",l;return{c(){e=d("option"),l=ee(t),this.h()},l(a){e=f(a,"OPTION",{});var r=g(e);l=x(r,t),r.forEach(_),this.h()},h(){e.__value=s[76].value,ge(e,e.__value)},m(a,r){ne(a,e,r),n(e,l)},p:xe,d(a){a&&_(e)}}}function Qs(s){let e,t,l='<h3 class="svelte-10nakzo">Available Variables</h3> <p class="svelte-10nakzo">These variables can be used in your pricing formulas</p>',a,r,o,i=Ue(s[2]),u=[];for(let v=0;v<i.length;v+=1)u[v]=Bl(Al(s,i,v));const p=v=>L(u[v],1,1,()=>{u[v]=null});return{c(){e=d("div"),t=d("div"),t.innerHTML=l,a=E(),r=d("div");for(let v=0;v<u.length;v+=1)u[v].c();this.h()},l(v){e=f(v,"DIV",{class:!0});var h=g(e);t=f(h,"DIV",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-pvtv21"&&(t.innerHTML=l),a=y(h),r=f(h,"DIV",{class:!0});var k=g(r);for(let b=0;b<u.length;b+=1)u[b].l(k);k.forEach(_),h.forEach(_),this.h()},h(){c(t,"class","variables-header svelte-10nakzo"),c(r,"class","variables-grid svelte-10nakzo"),c(e,"class","variables-container svelte-10nakzo")},m(v,h){ne(v,e,h),n(e,t),n(e,a),n(e,r);for(let k=0;k<u.length;k+=1)u[k]&&u[k].m(r,null);o=!0},p(v,h){if(h[0]&4){i=Ue(v[2]);let k;for(k=0;k<i.length;k+=1){const b=Al(v,i,k);u[k]?(u[k].p(b,h),D(u[k],1)):(u[k]=Bl(b),u[k].c(),D(u[k],1),u[k].m(r,null))}for(Je(),k=i.length;k<u.length;k+=1)p(k);Ke()}},i(v){if(!o){for(let h=0;h<i.length;h+=1)D(u[h]);o=!0}},o(v){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)L(u[h]);o=!1},d(v){v&&_(e),st(u,v)}}}function Zs(s){let e,t,l,a;const r=[Ks,Js,Gs],o=[];function i(u,p){return u[3]?0:u[16].length===0?1:2}return e=i(s),t=o[e]=r[e](s),{c(){t.c(),l=vt()},l(u){t.l(u),l=vt()},m(u,p){o[e].m(u,p),ne(u,l,p),a=!0},p(u,p){let v=e;e=i(u),e===v?o[e].p(u,p):(Je(),L(o[v],1,1,()=>{o[v]=null}),Ke(),t=o[e],t?t.p(u,p):(t=o[e]=r[e](u),t.c()),D(t,1),t.m(l.parentNode,l))},i(u){a||(D(t),a=!0)},o(u){L(t),a=!1},d(u){u&&_(l),o[e].d(u)}}}function Bl(s){let e,t,l,a,r,o,i=s[86].name+"",u,p,v,h=s[86].display_name+"",k,b,m,z=s[86].type+"",T,O,N;return l=new nl({props:{size:20}}),{c(){e=d("div"),t=d("div"),Ie(l.$$.fragment),a=E(),r=d("div"),o=d("code"),u=ee(i),p=E(),v=d("p"),k=ee(h),b=E(),m=d("span"),T=ee(z),O=E(),this.h()},l(P){e=f(P,"DIV",{class:!0});var A=g(e);t=f(A,"DIV",{class:!0});var S=g(t);Ve(l.$$.fragment,S),S.forEach(_),a=y(A),r=f(A,"DIV",{class:!0});var V=g(r);o=f(V,"CODE",{class:!0});var J=g(o);u=x(J,i),J.forEach(_),p=y(V),v=f(V,"P",{class:!0});var R=g(v);k=x(R,h),R.forEach(_),b=y(V),m=f(V,"SPAN",{class:!0});var X=g(m);T=x(X,z),X.forEach(_),V.forEach(_),O=y(A),A.forEach(_),this.h()},h(){c(t,"class","variable-icon svelte-10nakzo"),c(o,"class","variable-name svelte-10nakzo"),c(v,"class","variable-display svelte-10nakzo"),c(m,"class","variable-type svelte-10nakzo"),c(r,"class","variable-details svelte-10nakzo"),c(e,"class","variable-card svelte-10nakzo")},m(P,A){ne(P,e,A),n(e,t),Te(l,t,null),n(e,a),n(e,r),n(r,o),n(o,u),n(r,p),n(r,v),n(v,k),n(r,b),n(r,m),n(m,T),n(e,O),N=!0},p(P,A){(!N||A[0]&4)&&i!==(i=P[86].name+"")&&Be(u,i),(!N||A[0]&4)&&h!==(h=P[86].display_name+"")&&Be(k,h),(!N||A[0]&4)&&z!==(z=P[86].type+"")&&Be(T,z)},i(P){N||(D(l.$$.fragment,P),N=!0)},o(P){L(l.$$.fragment,P),N=!1},d(P){P&&_(e),ze(l)}}}function Gs(s){let e,t,l=Ue(s[16]),a=[];for(let o=0;o<l.length;o+=1)a[o]=Rl(Pl(s,l,o));const r=o=>L(a[o],1,1,()=>{a[o]=null});return{c(){e=d("div");for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=f(o,"DIV",{class:!0});var i=g(e);for(let u=0;u<a.length;u+=1)a[u].l(i);i.forEach(_),this.h()},h(){c(e,"class","template-grid svelte-10nakzo")},m(o,i){ne(o,e,i);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);t=!0},p(o,i){if(i[0]&4259840){l=Ue(o[16]);let u;for(u=0;u<l.length;u+=1){const p=Pl(o,l,u);a[u]?(a[u].p(p,i),D(a[u],1)):(a[u]=Rl(p),a[u].c(),D(a[u],1),a[u].m(e,null))}for(Je(),u=l.length;u<a.length;u+=1)r(u);Ke()}},i(o){if(!t){for(let i=0;i<l.length;i+=1)D(a[i]);t=!0}},o(o){a=a.filter(Boolean);for(let i=0;i<a.length;i+=1)L(a[i]);t=!1},d(o){o&&_(e),st(a,o)}}}function Js(s){let e,t,l,a,r="No pricing templates found",o,i,u="Create your first pricing template to start building dynamic pricing",p,v,h,k,b,m,z;return t=new Jt({props:{size:48,class:"text-gray-400"}}),h=new ls({props:{size:16}}),{c(){e=d("div"),Ie(t.$$.fragment),l=E(),a=d("h3"),a.textContent=r,o=E(),i=d("p"),i.textContent=u,p=E(),v=d("button"),Ie(h.$$.fragment),k=ee(`
						Create Template`),this.h()},l(T){e=f(T,"DIV",{class:!0});var O=g(e);Ve(t.$$.fragment,O),l=y(O),a=f(O,"H3",{class:!0,"data-svelte-h":!0}),de(a)!=="svelte-1sy6fq2"&&(a.textContent=r),o=y(O),i=f(O,"P",{class:!0,"data-svelte-h":!0}),de(i)!=="svelte-m3724d"&&(i.textContent=u),p=y(O),v=f(O,"BUTTON",{class:!0});var N=g(v);Ve(h.$$.fragment,N),k=x(N,`
						Create Template`),N.forEach(_),O.forEach(_),this.h()},h(){c(a,"class","svelte-10nakzo"),c(i,"class","svelte-10nakzo"),c(v,"class","btn btn-primary mt-4 svelte-10nakzo"),c(e,"class","empty-state svelte-10nakzo")},m(T,O){ne(T,e,O),Te(t,e,null),n(e,l),n(e,a),n(e,o),n(e,i),n(e,p),n(e,v),Te(h,v,null),n(v,k),b=!0,m||(z=Y(v,"click",s[34]),m=!0)},p:xe,i(T){b||(D(t.$$.fragment,T),D(h.$$.fragment,T),b=!0)},o(T){L(t.$$.fragment,T),L(h.$$.fragment,T),b=!1},d(T){T&&_(e),ze(t),ze(h),m=!1,z()}}}function Ks(s){let e,t='<div class="loading loading-spinner loading-lg text-cyan-600"></div>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-1alzzm6"&&(e.innerHTML=t),this.h()},h(){c(e,"class","loading-container svelte-10nakzo")},m(l,a){ne(l,e,a)},p:xe,i:xe,o:xe,d(l){l&&_(e)}}}function Ws(s){let e,t,l;return e=new ms({props:{size:12}}),{c(){Ie(e.$$.fragment),t=ee(`
										Inactive`)},l(a){Ve(e.$$.fragment,a),t=x(a,`
										Inactive`)},m(a,r){Te(e,a,r),ne(a,t,r),l=!0},i(a){l||(D(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){a&&_(t),ze(e,a)}}}function Ys(s){let e,t,l;return e=new Kt({props:{size:12}}),{c(){Ie(e.$$.fragment),t=ee(`
										Active`)},l(a){Ve(e.$$.fragment,a),t=x(a,`
										Active`)},m(a,r){Te(e,a,r),ne(a,t,r),l=!0},i(a){l||(D(e.$$.fragment,a),l=!0)},o(a){L(e.$$.fragment,a),l=!1},d(a){a&&_(t),ze(e,a)}}}function Ul(s){let e,t,l,a,r,o,i=s[79].condition_formula+"",u,p;return l=new ll({props:{size:14}}),{c(){e=d("div"),t=d("div"),Ie(l.$$.fragment),a=ee(`
											CONDITION`),r=E(),o=d("code"),u=ee(i),this.h()},l(v){e=f(v,"DIV",{class:!0});var h=g(e);t=f(h,"DIV",{class:!0});var k=g(t);Ve(l.$$.fragment,k),a=x(k,`
											CONDITION`),k.forEach(_),r=y(h),o=f(h,"CODE",{class:!0});var b=g(o);u=x(b,i),b.forEach(_),h.forEach(_),this.h()},h(){c(t,"class","formula-label svelte-10nakzo"),c(o,"class","formula-text svelte-10nakzo"),c(e,"class","formula-box condition-box svelte-10nakzo")},m(v,h){ne(v,e,h),n(e,t),Te(l,t,null),n(t,a),n(e,r),n(e,o),n(o,u),p=!0},p(v,h){(!p||h[0]&65536)&&i!==(i=v[79].condition_formula+"")&&Be(u,i)},i(v){p||(D(l.$$.fragment,v),p=!0)},o(v){L(l.$$.fragment,v),p=!1},d(v){v&&_(e),ze(l)}}}function Ml(s){let e,t,l="Required Variables:",a,r,o=Ue(s[79].variables.required),i=[];for(let u=0;u<o.length;u+=1)i[u]=Hl(Ll(s,o,u));return{c(){e=d("div"),t=d("p"),t.textContent=l,a=E(),r=d("div");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=f(u,"DIV",{class:!0});var p=g(e);t=f(p,"P",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-1uyg0t5"&&(t.textContent=l),a=y(p),r=f(p,"DIV",{class:!0});var v=g(r);for(let h=0;h<i.length;h+=1)i[h].l(v);v.forEach(_),p.forEach(_),this.h()},h(){c(t,"class","variables-label svelte-10nakzo"),c(r,"class","variables-list svelte-10nakzo"),c(e,"class","variables-section svelte-10nakzo")},m(u,p){ne(u,e,p),n(e,t),n(e,a),n(e,r);for(let v=0;v<i.length;v+=1)i[v]&&i[v].m(r,null)},p(u,p){if(p[0]&65536){o=Ue(u[79].variables.required);let v;for(v=0;v<o.length;v+=1){const h=Ll(u,o,v);i[v]?i[v].p(h,p):(i[v]=Hl(h),i[v].c(),i[v].m(r,null))}for(;v<i.length;v+=1)i[v].d(1);i.length=o.length}},d(u){u&&_(e),st(i,u)}}}function Hl(s){let e,t=s[86]+"",l;return{c(){e=d("span"),l=ee(t),this.h()},l(a){e=f(a,"SPAN",{class:!0});var r=g(e);l=x(r,t),r.forEach(_),this.h()},h(){c(e,"class","variable-badge svelte-10nakzo")},m(a,r){ne(a,e,r),n(e,l)},p(a,r){r[0]&65536&&t!==(t=a[86]+"")&&Be(l,t)},d(a){a&&_(e)}}}function Rl(s){let e,t,l,a,r,o,i,u,p,v,h,k,b=s[79].display_name+"",m,z,T,O=s[79].name+"",N,P,A,S=s[79].description+"",V,J,R,X,j,Q,U,ie,K=(s[79].price_formula||"No formula defined")+"",re,me,Ae,be=s[79].variables&&s[79].variables.required&&Array.isArray(s[79].variables.required),ve,pe,Ne,se=s[79].category+"",Ee,_e,ke,I,B,we;a=new Jt({props:{size:24}});const ce=[Ys,Ws],W=[];function ae(M,q){return M[79].is_active?0:1}i=ae(s),u=W[i]=ce[i](s),j=new sl({props:{size:14}});let C=s[79].condition_formula&&Ul(s),Z=be&&Ml(s);function H(){return s[35](s[79])}function ue(...M){return s[36](s[79],...M)}return{c(){e=d("div"),t=d("div"),l=d("div"),Ie(a.$$.fragment),r=E(),o=d("span"),u.c(),v=E(),h=d("div"),k=d("h3"),m=ee(b),z=E(),T=d("code"),N=ee(O),P=E(),A=d("p"),V=ee(S),J=E(),R=d("div"),X=d("div"),Ie(j.$$.fragment),Q=ee(`
										Formula`),U=E(),ie=d("code"),re=ee(K),me=E(),C&&C.c(),Ae=E(),Z&&Z.c(),ve=E(),pe=d("div"),Ne=d("span"),Ee=ee(se),ke=E(),this.h()},l(M){e=f(M,"DIV",{class:!0,role:!0,tabindex:!0});var q=g(e);t=f(q,"DIV",{class:!0});var $e=g(t);l=f($e,"DIV",{class:!0});var Le=g(l);Ve(a.$$.fragment,Le),Le.forEach(_),r=y($e),o=f($e,"SPAN",{class:!0});var qe=g(o);u.l(qe),qe.forEach(_),$e.forEach(_),v=y(q),h=f(q,"DIV",{class:!0});var oe=g(h);k=f(oe,"H3",{class:!0});var he=g(k);m=x(he,b),he.forEach(_),z=y(oe),T=f(oe,"CODE",{class:!0});var w=g(T);N=x(w,O),w.forEach(_),P=y(oe),A=f(oe,"P",{class:!0});var G=g(A);V=x(G,S),G.forEach(_),J=y(oe),R=f(oe,"DIV",{class:!0});var ye=g(R);X=f(ye,"DIV",{class:!0});var $=g(X);Ve(j.$$.fragment,$),Q=x($,`
										Formula`),$.forEach(_),U=y(ye),ie=f(ye,"CODE",{class:!0});var le=g(ie);re=x(le,K),le.forEach(_),ye.forEach(_),me=y(oe),C&&C.l(oe),Ae=y(oe),Z&&Z.l(oe),ve=y(oe),pe=f(oe,"DIV",{class:!0});var Pe=g(pe);Ne=f(Pe,"SPAN",{class:!0});var Me=g(Ne);Ee=x(Me,se),Me.forEach(_),Pe.forEach(_),oe.forEach(_),ke=y(q),q.forEach(_),this.h()},h(){c(l,"class","template-icon svelte-10nakzo"),c(o,"class",p="status-badge "+(s[79].is_active?"status-active":"status-inactive")+" svelte-10nakzo"),c(t,"class","template-header svelte-10nakzo"),c(k,"class","template-name svelte-10nakzo"),c(T,"class","template-code svelte-10nakzo"),c(A,"class","template-description svelte-10nakzo"),c(X,"class","formula-label svelte-10nakzo"),c(ie,"class","formula-text svelte-10nakzo"),c(R,"class","formula-box svelte-10nakzo"),c(Ne,"class",_e="category-badge "+es(s[79].category)+" svelte-10nakzo"),c(pe,"class","template-footer svelte-10nakzo"),c(h,"class","template-content svelte-10nakzo"),c(e,"class","template-card svelte-10nakzo"),c(e,"role","button"),c(e,"tabindex","0")},m(M,q){ne(M,e,q),n(e,t),n(t,l),Te(a,l,null),n(t,r),n(t,o),W[i].m(o,null),n(e,v),n(e,h),n(h,k),n(k,m),n(h,z),n(h,T),n(T,N),n(h,P),n(h,A),n(A,V),n(h,J),n(h,R),n(R,X),Te(j,X,null),n(X,Q),n(R,U),n(R,ie),n(ie,re),n(h,me),C&&C.m(h,null),n(h,Ae),Z&&Z.m(h,null),n(h,ve),n(h,pe),n(pe,Ne),n(Ne,Ee),n(e,ke),I=!0,B||(we=[Y(e,"click",H),Y(e,"keypress",ue)],B=!0)},p(M,q){s=M;let $e=i;i=ae(s),i!==$e&&(Je(),L(W[$e],1,1,()=>{W[$e]=null}),Ke(),u=W[i],u||(u=W[i]=ce[i](s),u.c()),D(u,1),u.m(o,null)),(!I||q[0]&65536&&p!==(p="status-badge "+(s[79].is_active?"status-active":"status-inactive")+" svelte-10nakzo"))&&c(o,"class",p),(!I||q[0]&65536)&&b!==(b=s[79].display_name+"")&&Be(m,b),(!I||q[0]&65536)&&O!==(O=s[79].name+"")&&Be(N,O),(!I||q[0]&65536)&&S!==(S=s[79].description+"")&&Be(V,S),(!I||q[0]&65536)&&K!==(K=(s[79].price_formula||"No formula defined")+"")&&Be(re,K),s[79].condition_formula?C?(C.p(s,q),q[0]&65536&&D(C,1)):(C=Ul(s),C.c(),D(C,1),C.m(h,Ae)):C&&(Je(),L(C,1,1,()=>{C=null}),Ke()),q[0]&65536&&(be=s[79].variables&&s[79].variables.required&&Array.isArray(s[79].variables.required)),be?Z?Z.p(s,q):(Z=Ml(s),Z.c(),Z.m(h,ve)):Z&&(Z.d(1),Z=null),(!I||q[0]&65536)&&se!==(se=s[79].category+"")&&Be(Ee,se),(!I||q[0]&65536&&_e!==(_e="category-badge "+es(s[79].category)+" svelte-10nakzo"))&&c(Ne,"class",_e)},i(M){I||(D(a.$$.fragment,M),D(u),D(j.$$.fragment,M),D(C),I=!0)},o(M){L(a.$$.fragment,M),L(u),L(j.$$.fragment,M),L(C),I=!1},d(M){M&&_(e),ze(a),W[i].d(),ze(j),C&&C.d(),Z&&Z.d(),B=!1,_t(we)}}}function jl(s){let e,t,l,a,r="Create New Pricing Template",o,i,u="×",p,v,h,k,b,m="Template Name",z,T,O,N,P,A="Display Name",S,V,J,R,X,j="Description",Q,U,ie,K,re,me,Ae="Category",be,ve,pe,Ne,se,Ee,_e,ke,I,B,we="Pricing Formula",ce,W,ae,C,Z,H,ue,M="Status",q,$e,Le,qe="Active",oe,he="Inactive",w,G,ye,$="Cancel",le,Pe,Me="Create Template",Re,Ze,je=Ue(s[17]),F=[];for(let te=0;te<je.length;te+=1)F[te]=Xl(Ol(s,je,te));let Oe=Ue(s[18]),De=[];for(let te=0;te<Oe.length;te+=1)De[te]=Ql($l(s,Oe,te));return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("h2"),a.textContent=r,o=E(),i=d("button"),i.textContent=u,p=E(),v=d("div"),h=d("div"),k=d("div"),b=d("label"),b.textContent=m,z=E(),T=d("input"),O=E(),N=d("div"),P=d("label"),P.textContent=A,S=E(),V=d("input"),J=E(),R=d("div"),X=d("label"),X.textContent=j,Q=E(),U=d("textarea"),ie=E(),K=d("div"),re=d("div"),me=d("label"),me.textContent=Ae,be=E(),ve=d("select");for(let te=0;te<F.length;te+=1)F[te].c();pe=E(),Ne=d("div"),se=d("label"),Ee=d("input"),_e=ee(`
							Set as default template`),ke=E(),I=d("div"),B=d("label"),B.textContent=we,ce=E(),W=d("textarea"),ae=E(),C=d("div");for(let te=0;te<De.length;te+=1)De[te].c();Z=E(),H=d("div"),ue=d("label"),ue.textContent=M,q=E(),$e=d("select"),Le=d("option"),Le.textContent=qe,oe=d("option"),oe.textContent=he,w=E(),G=d("div"),ye=d("button"),ye.textContent=$,le=E(),Pe=d("button"),Pe.textContent=Me,this.h()},l(te){e=f(te,"DIV",{class:!0});var Fe=g(e);t=f(Fe,"DIV",{class:!0});var fe=g(t);l=f(fe,"DIV",{class:!0});var Se=g(l);a=f(Se,"H2",{class:!0,"data-svelte-h":!0}),de(a)!=="svelte-jl3ti4"&&(a.textContent=r),o=y(Se),i=f(Se,"BUTTON",{class:!0,"data-svelte-h":!0}),de(i)!=="svelte-zhmxbr"&&(i.textContent=u),Se.forEach(_),p=y(fe),v=f(fe,"DIV",{class:!0});var Xe=g(v);h=f(Xe,"DIV",{class:!0});var nt=g(h);k=f(nt,"DIV",{class:!0});var ft=g(k);b=f(ft,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(b)!=="svelte-1oddaum"&&(b.textContent=m),z=y(ft),T=f(ft,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),ft.forEach(_),O=y(nt),N=f(nt,"DIV",{class:!0});var lt=g(N);P=f(lt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(P)!=="svelte-hz5k3f"&&(P.textContent=A),S=y(lt),V=f(lt,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),lt.forEach(_),nt.forEach(_),J=y(Xe),R=f(Xe,"DIV",{class:!0});var ht=g(R);X=f(ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(X)!=="svelte-1tds9bi"&&(X.textContent=j),Q=y(ht),U=f(ht,"TEXTAREA",{id:!0,rows:!0,placeholder:!0,class:!0}),g(U).forEach(_),ht.forEach(_),ie=y(Xe),K=f(Xe,"DIV",{class:!0});var ot=g(K);re=f(ot,"DIV",{class:!0});var dt=g(re);me=f(dt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(me)!=="svelte-4738v6"&&(me.textContent=Ae),be=y(dt),ve=f(dt,"SELECT",{id:!0,class:!0});var Vt=g(ve);for(let Ge=0;Ge<F.length;Ge+=1)F[Ge].l(Vt);Vt.forEach(_),dt.forEach(_),pe=y(ot),Ne=f(ot,"DIV",{class:!0});var it=g(Ne);se=f(it,"LABEL",{class:!0});var Qe=g(se);Ee=f(Qe,"INPUT",{type:!0,class:!0}),_e=x(Qe,`
							Set as default template`),Qe.forEach(_),it.forEach(_),ot.forEach(_),ke=y(Xe),I=f(Xe,"DIV",{class:!0});var ct=g(I);B=f(ct,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(B)!=="svelte-1y2xupw"&&(B.textContent=we),ce=y(ct),W=f(ct,"TEXTAREA",{id:!0,rows:!0,placeholder:!0,class:!0}),g(W).forEach(_),ae=y(ct),C=f(ct,"DIV",{class:!0});var pt=g(C);for(let Ge=0;Ge<De.length;Ge+=1)De[Ge].l(pt);pt.forEach(_),ct.forEach(_),Z=y(Xe),H=f(Xe,"DIV",{class:!0});var We=g(H);ue=f(We,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(ue)!=="svelte-10bnvs9"&&(ue.textContent=M),q=y(We),$e=f(We,"SELECT",{id:!0,class:!0});var Ct=g($e);Le=f(Ct,"OPTION",{"data-svelte-h":!0}),de(Le)!=="svelte-lzqo1w"&&(Le.textContent=qe),oe=f(Ct,"OPTION",{"data-svelte-h":!0}),de(oe)!=="svelte-1tz3wgs"&&(oe.textContent=he),Ct.forEach(_),We.forEach(_),Xe.forEach(_),w=y(fe),G=f(fe,"DIV",{class:!0});var ut=g(G);ye=f(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),de(ye)!=="svelte-vmem7k"&&(ye.textContent=$),le=y(ut),Pe=f(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),de(Pe)!=="svelte-ilw5ak"&&(Pe.textContent=Me),ut.forEach(_),fe.forEach(_),Fe.forEach(_),this.h()},h(){c(a,"class","svelte-10nakzo"),c(i,"class","btn-icon svelte-10nakzo"),c(l,"class","modal-header svelte-10nakzo"),c(b,"for","name"),c(b,"class","svelte-10nakzo"),c(T,"type","text"),c(T,"id","name"),c(T,"placeholder","e.g., standard_pricing, bulk_discount"),c(T,"class","svelte-10nakzo"),c(k,"class","form-group svelte-10nakzo"),c(P,"for","display_name"),c(P,"class","svelte-10nakzo"),c(V,"type","text"),c(V,"id","display_name"),c(V,"placeholder","e.g., Standard Pricing, Bulk Discount"),c(V,"class","svelte-10nakzo"),c(N,"class","form-group svelte-10nakzo"),c(h,"class","form-row svelte-10nakzo"),c(X,"for","description"),c(X,"class","svelte-10nakzo"),c(U,"id","description"),c(U,"rows","2"),c(U,"placeholder","Describe what this pricing template does"),c(U,"class","svelte-10nakzo"),c(R,"class","form-group svelte-10nakzo"),c(me,"for","category"),c(me,"class","svelte-10nakzo"),c(ve,"id","category"),c(ve,"class","svelte-10nakzo"),s[9].category===void 0&&gt(()=>s[41].call(ve)),c(re,"class","form-group svelte-10nakzo"),c(Ee,"type","checkbox"),c(Ee,"class","svelte-10nakzo"),c(se,"class","svelte-10nakzo"),c(Ne,"class","form-group svelte-10nakzo"),c(K,"class","form-row svelte-10nakzo"),c(B,"for","formula"),c(B,"class","svelte-10nakzo"),c(W,"id","formula"),c(W,"rows","4"),c(W,"placeholder","e.g., base_price * quantity * (1 - discount_rate / 100)"),c(W,"class","svelte-10nakzo"),c(C,"class","formula-templates svelte-10nakzo"),c(I,"class","form-group svelte-10nakzo"),c(ue,"for","is_active"),c(ue,"class","svelte-10nakzo"),Le.__value=!0,ge(Le,Le.__value),oe.__value=!1,ge(oe,oe.__value),c($e,"id","is_active"),c($e,"class","svelte-10nakzo"),s[9].is_active===void 0&&gt(()=>s[45].call($e)),c(H,"class","form-group svelte-10nakzo"),c(v,"class","modal-body svelte-10nakzo"),c(ye,"class","btn btn-secondary svelte-10nakzo"),c(Pe,"class","btn btn-primary svelte-10nakzo"),c(G,"class","modal-footer svelte-10nakzo"),c(t,"class","modal svelte-10nakzo"),c(e,"class","modal-overlay svelte-10nakzo")},m(te,Fe){ne(te,e,Fe),n(e,t),n(t,l),n(l,a),n(l,o),n(l,i),n(t,p),n(t,v),n(v,h),n(h,k),n(k,b),n(k,z),n(k,T),ge(T,s[9].name),n(h,O),n(h,N),n(N,P),n(N,S),n(N,V),ge(V,s[9].display_name),n(v,J),n(v,R),n(R,X),n(R,Q),n(R,U),ge(U,s[9].description),n(v,ie),n(v,K),n(K,re),n(re,me),n(re,be),n(re,ve);for(let fe=0;fe<F.length;fe+=1)F[fe]&&F[fe].m(ve,null);tt(ve,s[9].category,!0),n(K,pe),n(K,Ne),n(Ne,se),n(se,Ee),Ee.checked=s[9].is_default,n(se,_e),n(v,ke),n(v,I),n(I,B),n(I,ce),n(I,W),ge(W,s[9].formula),n(I,ae),n(I,C);for(let fe=0;fe<De.length;fe+=1)De[fe]&&De[fe].m(C,null);n(v,Z),n(v,H),n(H,ue),n(H,q),n(H,$e),n($e,Le),n($e,oe),tt($e,s[9].is_active,!0),n(t,w),n(t,G),n(G,ye),n(G,le),n(G,Pe),Re||(Ze=[Y(i,"click",s[37]),Y(T,"input",s[38]),Y(V,"input",s[39]),Y(U,"input",s[40]),Y(ve,"change",s[41]),Y(Ee,"change",s[42]),Y(W,"input",s[43]),Y($e,"change",s[45]),Y(ye,"click",s[46]),Y(Pe,"click",s[21]),Y(t,"click",Zt(s[29])),Y(e,"click",s[47])],Re=!0)},p(te,Fe){if(Fe[0]&131584&&T.value!==te[9].name&&ge(T,te[9].name),Fe[0]&131584&&V.value!==te[9].display_name&&ge(V,te[9].display_name),Fe[0]&131584&&ge(U,te[9].description),Fe[0]&131072){je=Ue(te[17]);let fe;for(fe=0;fe<je.length;fe+=1){const Se=Ol(te,je,fe);F[fe]?F[fe].p(Se,Fe):(F[fe]=Xl(Se),F[fe].c(),F[fe].m(ve,null))}for(;fe<F.length;fe+=1)F[fe].d(1);F.length=je.length}if(Fe[0]&131584&&tt(ve,te[9].category),Fe[0]&131584&&(Ee.checked=te[9].is_default),Fe[0]&131584&&ge(W,te[9].formula),Fe[0]&1310720){Oe=Ue(te[18]);let fe;for(fe=0;fe<Oe.length;fe+=1){const Se=$l(te,Oe,fe);De[fe]?De[fe].p(Se,Fe):(De[fe]=Ql(Se),De[fe].c(),De[fe].m(C,null))}for(;fe<De.length;fe+=1)De[fe].d(1);De.length=Oe.length}Fe[0]&131584&&tt($e,te[9].is_active)},d(te){te&&_(e),st(F,te),st(De,te),Re=!1,_t(Ze)}}}function Xl(s){let e,t=s[76].label+"",l;return{c(){e=d("option"),l=ee(t),this.h()},l(a){e=f(a,"OPTION",{});var r=g(e);l=x(r,t),r.forEach(_),this.h()},h(){e.__value=s[76].value,ge(e,e.__value)},m(a,r){ne(a,e,r),n(e,l)},p:xe,d(a){a&&_(e)}}}function Ql(s){let e,t,l=s[79].name+"",a,r,o,i=s[79].formula+"",u,p,v,h;function k(){return s[44](s[79])}return{c(){e=d("div"),t=d("h4"),a=ee(l),r=E(),o=d("code"),u=ee(i),p=E(),this.h()},l(b){e=f(b,"DIV",{class:!0});var m=g(e);t=f(m,"H4",{class:!0});var z=g(t);a=x(z,l),z.forEach(_),r=y(m),o=f(m,"CODE",{class:!0});var T=g(o);u=x(T,i),T.forEach(_),p=y(m),m.forEach(_),this.h()},h(){c(t,"class","svelte-10nakzo"),c(o,"class","svelte-10nakzo"),c(e,"class","template-option svelte-10nakzo")},m(b,m){ne(b,e,m),n(e,t),n(t,a),n(e,r),n(e,o),n(o,u),n(e,p),v||(h=Y(e,"click",k),v=!0)},p(b,m){s=b},d(b){b&&_(e),v=!1,h()}}}function Zl(s){let e,t,l,a,r="Edit Pricing Template",o,i,u="×",p,v,h,k,b,m="Template Name",z,T,O,N,P,A="Display Name",S,V,J,R,X,j="Description",Q,U,ie,K,re,me="Category",Ae,be,ve,pe,Ne,se="Pricing Formula",Ee,_e,ke,I,B,we,ce,W,ae,C="Condition Formula (Optional)",Z,H,ue,M,q,$e,Le,qe,oe="When should this pricing template apply?",he,w,G,ye="Status",$,le,Pe,Me="Active",Re,Ze="Inactive",je,F,Oe,De,te,Fe,fe,Se,Xe,nt="Cancel",ft,lt,ht="Save",ot,dt,Vt,it=Ue(s[17]),Qe=[];for(let Ce=0;Ce<it.length;Ce+=1)Qe[Ce]=Gl(wl(s,it,Ce));function ct(Ce,Ye){return Ce[8].price_formula?ea:xs}let pt=ct(s),We=pt(s);B=new il({props:{size:16}});function Ct(Ce,Ye){return Ce[8].condition_formula?la:ta}let ut=Ct(s),Ge=ut(s);return q=new il({props:{size:16}}),te=new ps({props:{size:16}}),{c(){e=d("div"),t=d("div"),l=d("div"),a=d("h2"),a.textContent=r,o=E(),i=d("button"),i.textContent=u,p=E(),v=d("div"),h=d("div"),k=d("div"),b=d("label"),b.textContent=m,z=E(),T=d("input"),O=E(),N=d("div"),P=d("label"),P.textContent=A,S=E(),V=d("input"),J=E(),R=d("div"),X=d("label"),X.textContent=j,Q=E(),U=d("textarea"),ie=E(),K=d("div"),re=d("label"),re.textContent=me,Ae=E(),be=d("select");for(let Ce=0;Ce<Qe.length;Ce+=1)Qe[Ce].c();ve=E(),pe=d("div"),Ne=d("label"),Ne.textContent=se,Ee=E(),_e=d("div"),We.c(),ke=E(),I=d("button"),Ie(B.$$.fragment),we=ee(`
							Edit Formula`),ce=E(),W=d("div"),ae=d("label"),ae.textContent=C,Z=E(),H=d("div"),Ge.c(),ue=E(),M=d("button"),Ie(q.$$.fragment),$e=ee(`
							Edit Condition`),Le=E(),qe=d("p"),qe.textContent=oe,he=E(),w=d("div"),G=d("label"),G.textContent=ye,$=E(),le=d("select"),Pe=d("option"),Pe.textContent=Me,Re=d("option"),Re.textContent=Ze,je=E(),F=d("div"),Oe=d("div"),De=d("button"),Ie(te.$$.fragment),Fe=ee(`
						Delete`),fe=E(),Se=d("div"),Xe=d("button"),Xe.textContent=nt,ft=E(),lt=d("button"),lt.textContent=ht,this.h()},l(Ce){e=f(Ce,"DIV",{class:!0});var Ye=g(e);t=f(Ye,"DIV",{class:!0});var He=g(t);l=f(He,"DIV",{class:!0});var mt=g(l);a=f(mt,"H2",{class:!0,"data-svelte-h":!0}),de(a)!=="svelte-1nvm4q6"&&(a.textContent=r),o=y(mt),i=f(mt,"BUTTON",{class:!0,"data-svelte-h":!0}),de(i)!=="svelte-1u15fkf"&&(i.textContent=u),mt.forEach(_),p=y(He),v=f(He,"DIV",{class:!0});var at=g(v);h=f(at,"DIV",{class:!0});var Pt=g(h);k=f(Pt,"DIV",{class:!0});var Lt=g(k);b=f(Lt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(b)!=="svelte-18piuwn"&&(b.textContent=m),z=y(Lt),T=f(Lt,"INPUT",{type:!0,id:!0,class:!0}),Lt.forEach(_),O=y(Pt),N=f(Pt,"DIV",{class:!0});var qt=g(N);P=f(qt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(P)!=="svelte-173qe4s"&&(P.textContent=A),S=y(qt),V=f(qt,"INPUT",{type:!0,id:!0,class:!0}),qt.forEach(_),Pt.forEach(_),J=y(at),R=f(at,"DIV",{class:!0});var Ft=g(R);X=f(Ft,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(X)!=="svelte-zrpr07"&&(X.textContent=j),Q=y(Ft),U=f(Ft,"TEXTAREA",{id:!0,rows:!0,class:!0}),g(U).forEach(_),Ft.forEach(_),ie=y(at),K=f(at,"DIV",{class:!0});var St=g(K);re=f(St,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(re)!=="svelte-1r0vl7n"&&(re.textContent=me),Ae=y(St),be=f(St,"SELECT",{id:!0,class:!0});var rl=g(be);for(let tl=0;tl<Qe.length;tl+=1)Qe[tl].l(rl);rl.forEach(_),St.forEach(_),ve=y(at),pe=f(at,"DIV",{class:!0});var Bt=g(pe);Ne=f(Bt,"LABEL",{class:!0,"data-svelte-h":!0}),de(Ne)!=="svelte-15cetug"&&(Ne.textContent=se),Ee=y(Bt),_e=f(Bt,"DIV",{class:!0});var Ut=g(_e);We.l(Ut),ke=y(Ut),I=f(Ut,"BUTTON",{type:!0,class:!0});var Wt=g(I);Ve(B.$$.fragment,Wt),we=x(Wt,`
							Edit Formula`),Wt.forEach(_),Ut.forEach(_),Bt.forEach(_),ce=y(at),W=f(at,"DIV",{class:!0});var zt=g(W);ae=f(zt,"LABEL",{class:!0,"data-svelte-h":!0}),de(ae)!=="svelte-yrmmba"&&(ae.textContent=C),Z=y(zt),H=f(zt,"DIV",{class:!0});var Mt=g(H);Ge.l(Mt),ue=y(Mt),M=f(Mt,"BUTTON",{type:!0,class:!0});var Yt=g(M);Ve(q.$$.fragment,Yt),$e=x(Yt,`
							Edit Condition`),Yt.forEach(_),Mt.forEach(_),Le=y(zt),qe=f(zt,"P",{class:!0,"data-svelte-h":!0}),de(qe)!=="svelte-qq94zu"&&(qe.textContent=oe),zt.forEach(_),he=y(at),w=f(at,"DIV",{class:!0});var Ht=g(w);G=f(Ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),de(G)!=="svelte-o9brmm"&&(G.textContent=ye),$=y(Ht),le=f(Ht,"SELECT",{id:!0,class:!0});var xt=g(le);Pe=f(xt,"OPTION",{"data-svelte-h":!0}),de(Pe)!=="svelte-lzqo1w"&&(Pe.textContent=Me),Re=f(xt,"OPTION",{"data-svelte-h":!0}),de(Re)!=="svelte-1tz3wgs"&&(Re.textContent=Ze),xt.forEach(_),Ht.forEach(_),at.forEach(_),je=y(He),F=f(He,"DIV",{class:!0});var Rt=g(F);Oe=f(Rt,"DIV",{class:!0});var ol=g(Oe);De=f(ol,"BUTTON",{class:!0});var el=g(De);Ve(te.$$.fragment,el),Fe=x(el,`
						Delete`),el.forEach(_),ol.forEach(_),fe=y(Rt),Se=f(Rt,"DIV",{class:!0});var jt=g(Se);Xe=f(jt,"BUTTON",{class:!0,"data-svelte-h":!0}),de(Xe)!=="svelte-1bez7mo"&&(Xe.textContent=nt),ft=y(jt),lt=f(jt,"BUTTON",{class:!0,"data-svelte-h":!0}),de(lt)!=="svelte-1jgffy"&&(lt.textContent=ht),jt.forEach(_),Rt.forEach(_),He.forEach(_),Ye.forEach(_),this.h()},h(){c(a,"class","svelte-10nakzo"),c(i,"class","btn-icon svelte-10nakzo"),c(l,"class","modal-header svelte-10nakzo"),c(b,"for","edit-name"),c(b,"class","svelte-10nakzo"),c(T,"type","text"),c(T,"id","edit-name"),c(T,"class","svelte-10nakzo"),c(k,"class","form-group svelte-10nakzo"),c(P,"for","edit-display_name"),c(P,"class","svelte-10nakzo"),c(V,"type","text"),c(V,"id","edit-display_name"),c(V,"class","svelte-10nakzo"),c(N,"class","form-group svelte-10nakzo"),c(h,"class","form-row svelte-10nakzo"),c(X,"for","edit-description"),c(X,"class","svelte-10nakzo"),c(U,"id","edit-description"),c(U,"rows","2"),c(U,"class","svelte-10nakzo"),c(R,"class","form-group svelte-10nakzo"),c(re,"for","edit-category"),c(re,"class","svelte-10nakzo"),c(be,"id","edit-category"),c(be,"class","svelte-10nakzo"),s[8].category===void 0&&gt(()=>s[52].call(be)),c(K,"class","form-group svelte-10nakzo"),c(Ne,"class","svelte-10nakzo"),c(I,"type","button"),c(I,"class","btn-edit-formula svelte-10nakzo"),c(_e,"class","formula-display svelte-10nakzo"),c(pe,"class","form-group svelte-10nakzo"),c(ae,"class","svelte-10nakzo"),c(M,"type","button"),c(M,"class","btn-edit-formula svelte-10nakzo"),c(H,"class","formula-display svelte-10nakzo"),c(qe,"class","help-text svelte-10nakzo"),c(W,"class","form-group svelte-10nakzo"),c(G,"for","edit-is_active"),c(G,"class","svelte-10nakzo"),Pe.__value=!0,ge(Pe,Pe.__value),Re.__value=!1,ge(Re,Re.__value),c(le,"id","edit-is_active"),c(le,"class","svelte-10nakzo"),s[8].is_active===void 0&&gt(()=>s[55].call(le)),c(w,"class","form-group svelte-10nakzo"),c(v,"class","modal-body svelte-10nakzo"),c(De,"class","btn btn-danger svelte-10nakzo"),c(Oe,"class","modal-footer-left svelte-10nakzo"),c(Xe,"class","btn btn-secondary svelte-10nakzo"),c(lt,"class","btn btn-primary svelte-10nakzo"),c(Se,"class","modal-footer-right svelte-10nakzo"),c(F,"class","modal-footer svelte-10nakzo"),c(t,"class","modal svelte-10nakzo"),c(e,"class","modal-overlay svelte-10nakzo")},m(Ce,Ye){ne(Ce,e,Ye),n(e,t),n(t,l),n(l,a),n(l,o),n(l,i),n(t,p),n(t,v),n(v,h),n(h,k),n(k,b),n(k,z),n(k,T),ge(T,s[8].name),n(h,O),n(h,N),n(N,P),n(N,S),n(N,V),ge(V,s[8].display_name),n(v,J),n(v,R),n(R,X),n(R,Q),n(R,U),ge(U,s[8].description),n(v,ie),n(v,K),n(K,re),n(K,Ae),n(K,be);for(let He=0;He<Qe.length;He+=1)Qe[He]&&Qe[He].m(be,null);tt(be,s[8].category,!0),n(v,ve),n(v,pe),n(pe,Ne),n(pe,Ee),n(pe,_e),We.m(_e,null),n(_e,ke),n(_e,I),Te(B,I,null),n(I,we),n(v,ce),n(v,W),n(W,ae),n(W,Z),n(W,H),Ge.m(H,null),n(H,ue),n(H,M),Te(q,M,null),n(M,$e),n(W,Le),n(W,qe),n(v,he),n(v,w),n(w,G),n(w,$),n(w,le),n(le,Pe),n(le,Re),tt(le,s[8].is_active,!0),n(t,je),n(t,F),n(F,Oe),n(Oe,De),Te(te,De,null),n(De,Fe),n(F,fe),n(F,Se),n(Se,Xe),n(Se,ft),n(Se,lt),ot=!0,dt||(Vt=[Y(i,"click",s[48]),Y(T,"input",s[49]),Y(V,"input",s[50]),Y(U,"input",s[51]),Y(be,"change",s[52]),Y(I,"click",s[53]),Y(M,"click",s[54]),Y(le,"change",s[55]),Y(De,"click",s[56]),Y(Xe,"click",s[57]),Y(lt,"click",s[23]),Y(t,"click",Zt(s[28])),Y(e,"click",s[58])],dt=!0)},p(Ce,Ye){if(Ye[0]&131328&&T.value!==Ce[8].name&&ge(T,Ce[8].name),Ye[0]&131328&&V.value!==Ce[8].display_name&&ge(V,Ce[8].display_name),Ye[0]&131328&&ge(U,Ce[8].description),Ye[0]&131072){it=Ue(Ce[17]);let He;for(He=0;He<it.length;He+=1){const mt=wl(Ce,it,He);Qe[He]?Qe[He].p(mt,Ye):(Qe[He]=Gl(mt),Qe[He].c(),Qe[He].m(be,null))}for(;He<Qe.length;He+=1)Qe[He].d(1);Qe.length=it.length}Ye[0]&131328&&tt(be,Ce[8].category),pt===(pt=ct(Ce))&&We?We.p(Ce,Ye):(We.d(1),We=pt(Ce),We&&(We.c(),We.m(_e,ke))),ut===(ut=Ct(Ce))&&Ge?Ge.p(Ce,Ye):(Ge.d(1),Ge=ut(Ce),Ge&&(Ge.c(),Ge.m(H,ue))),Ye[0]&131328&&tt(le,Ce[8].is_active)},i(Ce){ot||(D(B.$$.fragment,Ce),D(q.$$.fragment,Ce),D(te.$$.fragment,Ce),ot=!0)},o(Ce){L(B.$$.fragment,Ce),L(q.$$.fragment,Ce),L(te.$$.fragment,Ce),ot=!1},d(Ce){Ce&&_(e),st(Qe,Ce),We.d(),ze(B),Ge.d(),ze(q),ze(te),dt=!1,_t(Vt)}}}function Gl(s){let e,t=s[76].label+"",l;return{c(){e=d("option"),l=ee(t),this.h()},l(a){e=f(a,"OPTION",{});var r=g(e);l=x(r,t),r.forEach(_),this.h()},h(){e.__value=s[76].value,ge(e,e.__value)},m(a,r){ne(a,e,r),n(e,l)},p:xe,d(a){a&&_(e)}}}function xs(s){let e,t="No formula defined";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=f(l,"SPAN",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-1bbpicj"&&(e.textContent=t),this.h()},h(){c(e,"class","formula-placeholder svelte-10nakzo")},m(l,a){ne(l,e,a)},p:xe,d(l){l&&_(e)}}}function ea(s){let e,t=s[8].price_formula+"",l;return{c(){e=d("code"),l=ee(t),this.h()},l(a){e=f(a,"CODE",{class:!0});var r=g(e);l=x(r,t),r.forEach(_),this.h()},h(){c(e,"class","formula-code svelte-10nakzo")},m(a,r){ne(a,e,r),n(e,l)},p(a,r){r[0]&256&&t!==(t=a[8].price_formula+"")&&Be(l,t)},d(a){a&&_(e)}}}function ta(s){let e,t="No condition defined";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=f(l,"SPAN",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-a70p60"&&(e.textContent=t),this.h()},h(){c(e,"class","formula-placeholder svelte-10nakzo")},m(l,a){ne(l,e,a)},p:xe,d(l){l&&_(e)}}}function la(s){let e,t=s[8].condition_formula+"",l;return{c(){e=d("code"),l=ee(t),this.h()},l(a){e=f(a,"CODE",{class:!0});var r=g(e);l=x(r,t),r.forEach(_),this.h()},h(){c(e,"class","formula-code condition svelte-10nakzo")},m(a,r){ne(a,e,r),n(e,l)},p(a,r){r[0]&256&&t!==(t=a[8].condition_formula+"")&&Be(l,t)},d(a){a&&_(e)}}}function Jl(s){var we;let e,t,l,a,r,o=s[8].display_name+"",i,u,p,v="×",h,k,b,m,z,T,O,N,P=s[8].price_formula+"",A,S,V,J,R="Test Variables",X,j,Q=((we=s[8].variables)==null?void 0:we.required)&&Array.isArray(s[8].variables.required),U,ie,K,re,me,Ae,be,ve,pe,Ne="Close",se,Ee,_e;z=new sl({props:{size:14}});let ke=Q&&Kl(s);K=new al({props:{size:16}});let I=s[11]&&Yl(s),B=s[12]&&xl(s);return{c(){e=d("div"),t=d("div"),l=d("div"),a=d("h2"),r=ee("Test Formula - "),i=ee(o),u=E(),p=d("button"),p.textContent=v,h=E(),k=d("div"),b=d("div"),m=d("div"),Ie(z.$$.fragment),T=ee(`
						Formula`),O=E(),N=d("code"),A=ee(P),S=E(),V=d("div"),J=d("h3"),J.textContent=R,X=E(),j=d("div"),ke&&ke.c(),U=E(),ie=d("button"),Ie(K.$$.fragment),re=ee(`
						Run Test`),me=E(),I&&I.c(),Ae=E(),B&&B.c(),be=E(),ve=d("div"),pe=d("button"),pe.textContent=Ne,this.h()},l(ce){e=f(ce,"DIV",{class:!0});var W=g(e);t=f(W,"DIV",{class:!0});var ae=g(t);l=f(ae,"DIV",{class:!0});var C=g(l);a=f(C,"H2",{class:!0});var Z=g(a);r=x(Z,"Test Formula - "),i=x(Z,o),Z.forEach(_),u=y(C),p=f(C,"BUTTON",{class:!0,"data-svelte-h":!0}),de(p)!=="svelte-12624uf"&&(p.textContent=v),C.forEach(_),h=y(ae),k=f(ae,"DIV",{class:!0});var H=g(k);b=f(H,"DIV",{class:!0});var ue=g(b);m=f(ue,"DIV",{class:!0});var M=g(m);Ve(z.$$.fragment,M),T=x(M,`
						Formula`),M.forEach(_),O=y(ue),N=f(ue,"CODE",{class:!0});var q=g(N);A=x(q,P),q.forEach(_),ue.forEach(_),S=y(H),V=f(H,"DIV",{class:!0});var $e=g(V);J=f($e,"H3",{"data-svelte-h":!0}),de(J)!=="svelte-uhbwrt"&&(J.textContent=R),X=y($e),j=f($e,"DIV",{class:!0});var Le=g(j);ke&&ke.l(Le),Le.forEach(_),U=y($e),ie=f($e,"BUTTON",{class:!0});var qe=g(ie);Ve(K.$$.fragment,qe),re=x(qe,`
						Run Test`),qe.forEach(_),$e.forEach(_),me=y(H),I&&I.l(H),Ae=y(H),B&&B.l(H),H.forEach(_),be=y(ae),ve=f(ae,"DIV",{class:!0});var oe=g(ve);pe=f(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),de(pe)!=="svelte-17vhqle"&&(pe.textContent=Ne),oe.forEach(_),ae.forEach(_),W.forEach(_),this.h()},h(){c(a,"class","svelte-10nakzo"),c(p,"class","btn-icon svelte-10nakzo"),c(l,"class","modal-header svelte-10nakzo"),c(m,"class","formula-label svelte-10nakzo"),c(N,"class","formula-text svelte-10nakzo"),c(b,"class","formula-box svelte-10nakzo"),c(j,"class","test-variables svelte-10nakzo"),c(ie,"class","btn btn-primary svelte-10nakzo"),c(V,"class","test-section svelte-10nakzo"),c(k,"class","modal-body svelte-10nakzo"),c(pe,"class","btn btn-secondary svelte-10nakzo"),c(ve,"class","modal-footer svelte-10nakzo"),c(t,"class","modal svelte-10nakzo"),c(e,"class","modal-overlay svelte-10nakzo")},m(ce,W){ne(ce,e,W),n(e,t),n(t,l),n(l,a),n(a,r),n(a,i),n(l,u),n(l,p),n(t,h),n(t,k),n(k,b),n(b,m),Te(z,m,null),n(m,T),n(b,O),n(b,N),n(N,A),n(k,S),n(k,V),n(V,J),n(V,X),n(V,j),ke&&ke.m(j,null),n(V,U),n(V,ie),Te(K,ie,null),n(ie,re),n(k,me),I&&I.m(k,null),n(k,Ae),B&&B.m(k,null),n(t,be),n(t,ve),n(ve,pe),se=!0,Ee||(_e=[Y(p,"click",s[59]),Y(ie,"click",s[25]),Y(pe,"click",s[61]),Y(t,"click",Zt(s[27])),Y(e,"click",s[62])],Ee=!0)},p(ce,W){var ae;(!se||W[0]&256)&&o!==(o=ce[8].display_name+"")&&Be(i,o),(!se||W[0]&256)&&P!==(P=ce[8].price_formula+"")&&Be(A,P),W[0]&256&&(Q=((ae=ce[8].variables)==null?void 0:ae.required)&&Array.isArray(ce[8].variables.required)),Q?ke?ke.p(ce,W):(ke=Kl(ce),ke.c(),ke.m(j,null)):ke&&(ke.d(1),ke=null),ce[11]?I?I.p(ce,W):(I=Yl(ce),I.c(),I.m(k,Ae)):I&&(I.d(1),I=null),ce[12]?B?B.p(ce,W):(B=xl(ce),B.c(),B.m(k,null)):B&&(B.d(1),B=null)},i(ce){se||(D(z.$$.fragment,ce),D(K.$$.fragment,ce),se=!0)},o(ce){L(z.$$.fragment,ce),L(K.$$.fragment,ce),se=!1},d(ce){ce&&_(e),ze(z),ke&&ke.d(),ze(K),I&&I.d(),B&&B.d(),Ee=!1,_t(_e)}}}function Kl(s){let e,t=Ue(s[8].variables.required),l=[];for(let a=0;a<t.length;a+=1)l[a]=Wl(Nl(s,t,a));return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=vt()},l(a){for(let r=0;r<l.length;r+=1)l[r].l(a);e=vt()},m(a,r){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(a,r);ne(a,e,r)},p(a,r){if(r[0]&1280){t=Ue(a[8].variables.required);let o;for(o=0;o<t.length;o+=1){const i=Nl(a,t,o);l[o]?l[o].p(i,r):(l[o]=Wl(i),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(a){a&&_(e),st(l,a)}}}function Wl(s){let e,t,l=s[73]+"",a,r,o,i,u,p,v,h;function k(){s[60].call(i,s[73])}return{c(){e=d("div"),t=d("label"),a=ee(l),o=E(),i=d("input"),p=E(),this.h()},l(b){e=f(b,"DIV",{class:!0});var m=g(e);t=f(m,"LABEL",{for:!0,class:!0});var z=g(t);a=x(z,l),z.forEach(_),o=y(m),i=f(m,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),p=y(m),m.forEach(_),this.h()},h(){c(t,"for",r="test-"+s[73]),c(t,"class","svelte-10nakzo"),c(i,"type","number"),c(i,"id",u="test-"+s[73]),c(i,"placeholder","Enter value"),c(i,"class","svelte-10nakzo"),c(e,"class","test-variable svelte-10nakzo")},m(b,m){ne(b,e,m),n(e,t),n(t,a),n(e,o),n(e,i),ge(i,s[10][s[73]]),n(e,p),v||(h=Y(i,"input",k),v=!0)},p(b,m){s=b,m[0]&256&&l!==(l=s[73]+"")&&Be(a,l),m[0]&131328&&r!==(r="test-"+s[73])&&c(t,"for",r),m[0]&131328&&u!==(u="test-"+s[73])&&c(i,"id",u),m[0]&132352&&Gt(i.value)!==s[10][s[73]]&&ge(i,s[10][s[73]])},d(b){b&&_(e),v=!1,h()}}}function Yl(s){let e,t,l="Test Result",a,r,o,i=s[11].output+"",u,p,v,h,k=s[11].execution_time+"",b;return{c(){e=d("div"),t=d("h4"),t.textContent=l,a=E(),r=d("div"),o=ee("$"),u=ee(i),p=E(),v=d("div"),h=ee("Execution time: "),b=ee(k),this.h()},l(m){e=f(m,"DIV",{class:!0});var z=g(e);t=f(z,"H4",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-drtwyd"&&(t.textContent=l),a=y(z),r=f(z,"DIV",{class:!0});var T=g(r);o=x(T,"$"),u=x(T,i),T.forEach(_),p=y(z),v=f(z,"DIV",{class:!0});var O=g(v);h=x(O,"Execution time: "),b=x(O,k),O.forEach(_),z.forEach(_),this.h()},h(){c(t,"class","svelte-10nakzo"),c(r,"class","test-output svelte-10nakzo"),c(v,"class","test-details svelte-10nakzo"),c(e,"class","test-result success svelte-10nakzo")},m(m,z){ne(m,e,z),n(e,t),n(e,a),n(e,r),n(r,o),n(r,u),n(e,p),n(e,v),n(v,h),n(v,b)},p(m,z){z[0]&2048&&i!==(i=m[11].output+"")&&Be(u,i),z[0]&2048&&k!==(k=m[11].execution_time+"")&&Be(b,k)},d(m){m&&_(e)}}}function xl(s){let e,t,l="Test Error",a,r,o;return{c(){e=d("div"),t=d("h4"),t.textContent=l,a=E(),r=d("p"),o=ee(s[12]),this.h()},l(i){e=f(i,"DIV",{class:!0});var u=g(e);t=f(u,"H4",{class:!0,"data-svelte-h":!0}),de(t)!=="svelte-14zy3o"&&(t.textContent=l),a=y(u),r=f(u,"P",{class:!0});var p=g(r);o=x(p,s[12]),p.forEach(_),u.forEach(_),this.h()},h(){c(t,"class","svelte-10nakzo"),c(r,"class","error-message svelte-10nakzo"),c(e,"class","test-result error svelte-10nakzo")},m(i,u){ne(i,e,u),n(e,t),n(e,a),n(e,r),n(r,o)},p(i,u){u[0]&4096&&Be(o,i[12])},d(i){i&&_(e)}}}function sa(s){let e,t,l,a,r,o,i,u,p,v,h,k="Pricing & Formulas",b,m,z="Configure dynamic pricing rules and formulas for your products",T,O,N,P,A,S,V,J,R,X,j,Q,U,ie,K,re,me,Ae,be,ve,pe,Ne,se,Ee,_e,ke,I,B,we,ce,W,ae,C,Z,H,ue,M;a=new ds({props:{size:20}}),p=new Jt({props:{size:24}}),P=new vs({props:{size:16}}),R=new nl({props:{size:16}}),me=new _s({props:{size:16}});let q=s[4]==="templates"&&Fl(s);_e=new hs({props:{size:16}});const $e=[Zs,Qs],Le=[];function qe($,le){return $[4]==="templates"?0:$[4]==="variables"?1:-1}~(I=qe(s))&&(B=Le[I]=$e[I](s));let oe=s[5]&&jl(s),he=s[6]&&s[8]&&Zl(s),w=s[7]&&s[8]&&Jl(s);function G($){s[63]($)}let ye={title:s[14]==="price"?"Edit Pricing Formula":"Edit Condition Formula",formula:s[15],variables:s[2],isConditionFormula:s[14]==="condition"};return s[13]!==void 0&&(ye.show=s[13]),C=new Xs({props:ye}),as.push(()=>ns(C,"show",G)),C.$on("createVariable",s[64]),C.$on("save",s[65]),{c(){e=d("div"),t=d("div"),l=d("a"),Ie(a.$$.fragment),r=E(),o=d("div"),i=d("div"),u=d("div"),Ie(p.$$.fragment),v=E(),h=d("h1"),h.textContent=k,b=E(),m=d("p"),m.textContent=z,T=E(),O=d("div"),N=d("button"),Ie(P.$$.fragment),A=ee(`
			Templates`),V=E(),J=d("button"),Ie(R.$$.fragment),X=ee(`
			Variables`),Q=E(),U=d("div"),ie=d("div"),K=d("div"),re=d("div"),Ie(me.$$.fragment),Ae=E(),be=d("input"),pe=E(),q&&q.c(),Ne=E(),se=d("div"),Ee=d("button"),Ie(_e.$$.fragment),ke=E(),B&&B.c(),we=E(),oe&&oe.c(),ce=E(),he&&he.c(),W=E(),w&&w.c(),ae=E(),Ie(C.$$.fragment),this.h()},l($){e=f($,"DIV",{class:!0});var le=g(e);t=f(le,"DIV",{class:!0});var Pe=g(t);l=f(Pe,"A",{href:!0,class:!0});var Me=g(l);Ve(a.$$.fragment,Me),Me.forEach(_),r=y(Pe),o=f(Pe,"DIV",{class:!0});var Re=g(o);i=f(Re,"DIV",{class:!0});var Ze=g(i);u=f(Ze,"DIV",{class:!0});var je=g(u);Ve(p.$$.fragment,je),v=y(je),h=f(je,"H1",{class:!0,"data-svelte-h":!0}),de(h)!=="svelte-1fvvr2f"&&(h.textContent=k),je.forEach(_),b=y(Ze),m=f(Ze,"P",{class:!0,"data-svelte-h":!0}),de(m)!=="svelte-90aj7"&&(m.textContent=z),Ze.forEach(_),Re.forEach(_),Pe.forEach(_),T=y(le),O=f(le,"DIV",{class:!0});var F=g(O);N=f(F,"BUTTON",{class:!0});var Oe=g(N);Ve(P.$$.fragment,Oe),A=x(Oe,`
			Templates`),Oe.forEach(_),V=y(F),J=f(F,"BUTTON",{class:!0});var De=g(J);Ve(R.$$.fragment,De),X=x(De,`
			Variables`),De.forEach(_),F.forEach(_),Q=y(le),U=f(le,"DIV",{class:!0});var te=g(U);ie=f(te,"DIV",{class:!0});var Fe=g(ie);K=f(Fe,"DIV",{class:!0});var fe=g(K);re=f(fe,"DIV",{class:!0});var Se=g(re);Ve(me.$$.fragment,Se),Ae=y(Se),be=f(Se,"INPUT",{type:!0,placeholder:!0,class:!0}),Se.forEach(_),pe=y(fe),q&&q.l(fe),fe.forEach(_),Ne=y(Fe),se=f(Fe,"DIV",{class:!0});var Xe=g(se);Ee=f(Xe,"BUTTON",{class:!0});var nt=g(Ee);Ve(_e.$$.fragment,nt),nt.forEach(_),Xe.forEach(_),Fe.forEach(_),ke=y(te),B&&B.l(te),te.forEach(_),le.forEach(_),we=y($),oe&&oe.l($),ce=y($),he&&he.l($),W=y($),w&&w.l($),ae=y($),Ve(C.$$.fragment,$),this.h()},h(){c(l,"href","/admin/extensions/products"),c(l,"class","back-button svelte-10nakzo"),c(h,"class","svelte-10nakzo"),c(u,"class","header-title svelte-10nakzo"),c(m,"class","header-subtitle svelte-10nakzo"),c(i,"class","header-left"),c(o,"class","header-content svelte-10nakzo"),c(t,"class","page-header svelte-10nakzo"),c(N,"class",S="tab "+(s[4]==="templates"?"active":"")+" svelte-10nakzo"),c(J,"class",j="tab "+(s[4]==="variables"?"active":"")+" svelte-10nakzo"),c(O,"class","tabs svelte-10nakzo"),c(be,"type","text"),c(be,"placeholder",ve="Search "+s[4]+"..."),c(be,"class","svelte-10nakzo"),c(re,"class","search-box svelte-10nakzo"),c(K,"class","toolbar-left svelte-10nakzo"),c(Ee,"class","btn-icon svelte-10nakzo"),c(se,"class","toolbar-right svelte-10nakzo"),c(ie,"class","toolbar svelte-10nakzo"),c(U,"class","content-card svelte-10nakzo"),c(e,"class","page-container svelte-10nakzo")},m($,le){ne($,e,le),n(e,t),n(t,l),Te(a,l,null),n(t,r),n(t,o),n(o,i),n(i,u),Te(p,u,null),n(u,v),n(u,h),n(i,b),n(i,m),n(e,T),n(e,O),n(O,N),Te(P,N,null),n(N,A),n(O,V),n(O,J),Te(R,J,null),n(J,X),n(e,Q),n(e,U),n(U,ie),n(ie,K),n(K,re),Te(me,re,null),n(re,Ae),n(re,be),ge(be,s[0]),n(K,pe),q&&q.m(K,null),n(ie,Ne),n(ie,se),n(se,Ee),Te(_e,Ee,null),n(U,ke),~I&&Le[I].m(U,null),ne($,we,le),oe&&oe.m($,le),ne($,ce,le),he&&he.m($,le),ne($,W,le),w&&w.m($,le),ne($,ae,le),Te(C,$,le),H=!0,ue||(M=[Y(N,"click",s[30]),Y(J,"click",s[31]),Y(be,"input",s[32])],ue=!0)},p($,le){(!H||le[0]&16&&S!==(S="tab "+($[4]==="templates"?"active":"")+" svelte-10nakzo"))&&c(N,"class",S),(!H||le[0]&16&&j!==(j="tab "+($[4]==="variables"?"active":"")+" svelte-10nakzo"))&&c(J,"class",j),(!H||le[0]&16&&ve!==(ve="Search "+$[4]+"..."))&&c(be,"placeholder",ve),le[0]&1&&be.value!==$[0]&&ge(be,$[0]),$[4]==="templates"?q?q.p($,le):(q=Fl($),q.c(),q.m(K,null)):q&&(q.d(1),q=null);let Pe=I;I=qe($),I===Pe?~I&&Le[I].p($,le):(B&&(Je(),L(Le[Pe],1,1,()=>{Le[Pe]=null}),Ke()),~I?(B=Le[I],B?B.p($,le):(B=Le[I]=$e[I]($),B.c()),D(B,1),B.m(U,null)):B=null),$[5]?oe?oe.p($,le):(oe=jl($),oe.c(),oe.m(ce.parentNode,ce)):oe&&(oe.d(1),oe=null),$[6]&&$[8]?he?(he.p($,le),le[0]&320&&D(he,1)):(he=Zl($),he.c(),D(he,1),he.m(W.parentNode,W)):he&&(Je(),L(he,1,1,()=>{he=null}),Ke()),$[7]&&$[8]?w?(w.p($,le),le[0]&384&&D(w,1)):(w=Jl($),w.c(),D(w,1),w.m(ae.parentNode,ae)):w&&(Je(),L(w,1,1,()=>{w=null}),Ke());const Me={};le[0]&16384&&(Me.title=$[14]==="price"?"Edit Pricing Formula":"Edit Condition Formula"),le[0]&32768&&(Me.formula=$[15]),le[0]&4&&(Me.variables=$[2]),le[0]&16384&&(Me.isConditionFormula=$[14]==="condition"),!Z&&le[0]&8192&&(Z=!0,Me.show=$[13],rs(()=>Z=!1)),C.$set(Me)},i($){H||(D(a.$$.fragment,$),D(p.$$.fragment,$),D(P.$$.fragment,$),D(R.$$.fragment,$),D(me.$$.fragment,$),D(_e.$$.fragment,$),D(B),D(he),D(w),D(C.$$.fragment,$),H=!0)},o($){L(a.$$.fragment,$),L(p.$$.fragment,$),L(P.$$.fragment,$),L(R.$$.fragment,$),L(me.$$.fragment,$),L(_e.$$.fragment,$),L(B),L(he),L(w),L(C.$$.fragment,$),H=!1},d($){$&&(_(e),_(we),_(ce),_(W),_(ae)),ze(a),ze(p),ze(P),ze(R),ze(me),q&&q.d(),ze(_e),~I&&Le[I].d(),oe&&oe.d($),he&&he.d($),w&&w.d($),ze(C,$),ue=!1,_t(M)}}}function es(s){switch(s){case"ecommerce":return"bg-blue-100 text-blue-700";case"subscription":return"bg-purple-100 text-purple-700";case"service":return"bg-orange-100 text-orange-700";case"custom":return"bg-gray-100 text-gray-700";default:return"bg-gray-100 text-gray-700"}}function Xt(s){const e=/\b[a-z_][a-z0-9_]*\b/gi,t=s.match(e)||[],l=["if","else","min","max","round","floor","ceil","abs"];return[...new Set(t.filter(a=>!l.includes(a.toLowerCase())))]}function aa(s,e,t){let l,a=[],r=[],o=!0,i="templates",u="",p="all",v=!1,h=!1,k=!1,b=null,m={name:"",display_name:"",description:"",category:"discount",price_formula:"",condition_formula:"",variables:{},is_active:!0},z={},T=null,O="",N=!1,P=null,A="";const S=[{value:"discount",label:"Discount"},{value:"membership",label:"Membership"},{value:"complex",label:"Complex"},{value:"custom",label:"Custom"}],V=[{name:"Simple Markup",formula:"base_price * (1 + markup_percentage / 100)",variables:["base_price","markup_percentage"]},{name:"Quantity Discount",formula:"base_price * quantity * (1 - min(quantity * 0.01, 0.3))",variables:["base_price","quantity"]},{name:"Tiered Pricing",formula:"quantity <= 10 ? base_price * quantity : quantity <= 50 ? base_price * quantity * 0.9 : base_price * quantity * 0.8",variables:["base_price","quantity"]},{name:"Subscription",formula:'monthly_price * (billing_cycle == "yearly" ? 10 : billing_cycle == "quarterly" ? 2.7 : 1)',variables:["monthly_price","billing_cycle"]}];os(async()=>{is()&&await J()});async function J(){try{t(3,o=!0);const[F,Oe]=await Promise.all([Tt.get("/admin/ext/products/pricing-templates"),Tt.get("/admin/ext/products/variables")]);t(26,a=F||[]),t(2,r=Oe||[])}catch(F){console.error("Failed to load pricing data:",F),t(26,a=[]),t(2,r=[])}finally{t(3,o=!1)}}function R(F){t(9,m.price_formula=F.formula,m),t(9,m.variables={required:F.variables},m)}async function X(){try{const F=Xt(m.price_formula||""),Oe=Xt(m.condition_formula||""),De=[...new Set([...F,...Oe])];t(9,m.variables={required:De},m),await Tt.post("/admin/ext/products/pricing-templates",m)&&(t(9,m={name:"",display_name:"",description:"",category:"discount",price_formula:"",condition_formula:"",variables:{},priority:0,is_active:!0}),t(5,v=!1),await J())}catch(F){console.error("Failed to create pricing template:",F),alert("Failed to create pricing template")}}async function j(F){t(8,b={...F}),t(6,h=!0)}async function Q(){if(b)try{const F=Xt(b.price_formula||""),Oe=Xt(b.condition_formula||""),De=[...new Set([...F,...Oe])];t(8,b.variables={required:De},b),await Tt.put(`/products/pricing-templates/${b.id}`,b)&&(t(6,h=!1),t(8,b=null),await J())}catch(F){console.error("Failed to update pricing template:",F),alert("Failed to update pricing template")}}async function U(F){if(confirm("Are you sure you want to delete this pricing template? Products using this template will need to be updated."))try{await Tt.delete(`/products/pricing-templates/${F}`),await J()}catch(Oe){console.error("Failed to delete pricing template:",Oe),alert("Failed to delete pricing template")}}async function ie(){if(b)try{t(12,O=""),t(11,T={input:{...z},output:99.99,execution_time:"0.5ms"})}catch(F){t(12,O="Failed to evaluate formula: "+F),t(11,T=null)}}function K(F){Qt.call(this,s,F)}function re(F){Qt.call(this,s,F)}function me(F){Qt.call(this,s,F)}const Ae=()=>t(4,i="templates"),be=()=>t(4,i="variables");function ve(){u=this.value,t(0,u)}function pe(){p=bt(this),t(1,p),t(17,S)}const Ne=()=>t(5,v=!0),se=F=>j(F),Ee=(F,Oe)=>Oe.key==="Enter"&&j(F),_e=()=>t(5,v=!1);function ke(){m.name=this.value,t(9,m),t(17,S)}function I(){m.display_name=this.value,t(9,m),t(17,S)}function B(){m.description=this.value,t(9,m),t(17,S)}function we(){m.category=bt(this),t(9,m),t(17,S)}function ce(){m.is_default=this.checked,t(9,m),t(17,S)}function W(){m.formula=this.value,t(9,m),t(17,S)}const ae=F=>R(F);function C(){m.is_active=bt(this),t(9,m),t(17,S)}const Z=()=>t(5,v=!1),H=()=>t(5,v=!1),ue=()=>t(6,h=!1);function M(){b.name=this.value,t(8,b),t(17,S)}function q(){b.display_name=this.value,t(8,b),t(17,S)}function $e(){b.description=this.value,t(8,b),t(17,S)}function Le(){b.category=bt(this),t(8,b),t(17,S)}const qe=()=>{t(14,P="price"),t(15,A=b.price_formula||""),t(13,N=!0)},oe=()=>{t(14,P="condition"),t(15,A=b.condition_formula||""),t(13,N=!0)};function he(){b.is_active=bt(this),t(8,b),t(17,S)}const w=()=>{confirm("Are you sure you want to delete this pricing template? Products using this template will need to be updated.")&&(U(b.id),t(6,h=!1))},G=()=>t(6,h=!1),ye=()=>t(6,h=!1),$=()=>t(7,k=!1);function le(F){z[F]=Gt(this.value),t(10,z)}const Pe=()=>t(7,k=!1),Me=()=>t(7,k=!1);function Re(F){N=F,t(13,N)}const Ze=async F=>{const Oe=F.detail;try{await Tt.post("/ext/products/variables",{name:Oe.name,display_name:Oe.displayName,value_type:Oe.valueType,type:"user",description:Oe.description,is_active:!0})&&await J()}catch(De){console.error("Failed to create variable:",De),alert("Failed to create variable")}},je=F=>{b&&(P==="price"?t(8,b.price_formula=F.detail,b):P==="condition"&&t(8,b.condition_formula=F.detail,b)),t(13,N=!1),t(14,P=null)};return s.$$.update=()=>{s.$$.dirty[0]&67108867&&t(16,l=a.filter(F=>{var te;const Oe=F.name.toLowerCase().includes(u.toLowerCase())||F.display_name.toLowerCase().includes(u.toLowerCase())||((te=F.description)==null?void 0:te.toLowerCase().includes(u.toLowerCase())),De=p==="all"||F.category===p;return Oe&&De}))},[u,p,r,o,i,v,h,k,b,m,z,T,O,N,P,A,l,S,V,J,R,X,j,Q,U,ie,a,K,re,me,Ae,be,ve,pe,Ne,se,Ee,_e,ke,I,B,we,ce,W,ae,C,Z,H,ue,M,q,$e,Le,qe,oe,he,w,G,ye,$,le,Pe,Me,Re,Ze,je]}class Ia extends kt{constructor(e){super(),yt(this,e,aa,sa,Et,{},null,[-1,-1,-1])}}export{Ia as component};
