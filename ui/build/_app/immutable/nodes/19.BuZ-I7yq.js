import{S as gl,i as jl,s as El,d,w as be,o as F,p as P,D as Kt,b as le,c as e,x as ge,E as H,C as t,e as a,f as c,F as M,h as _,g as Y,y as je,j as r,k as h,t as Z,z as Ee,H as Ll,a as kl,n as dt,I as Il,B as Hs,K as w,M as Ct,L as pl,J as Xt,N as yl,O as Tl}from"../chunks/BDqP8p-g.js";import{e as Cl}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{a as As}from"../chunks/DCFqKId7.js";import{r as Ml}from"../chunks/ywsRGr9m.js";import{R as Dl}from"../chunks/Z-2Wz0nd.js";import{C as Vl}from"../chunks/CDK99suQ.js";import{A as Bs}from"../chunks/CEm0GgIa.js";import{S as wl}from"../chunks/DduNUdgN.js";import{S as xl}from"../chunks/DtQofH0C.js";import{M as Sl}from"../chunks/CArLvK4v.js";import{H as Al}from"../chunks/C5ZGxTFH.js";import{S as Hl}from"../chunks/BPgOh3dn.js";function Bl(o,s,l){const n=o.slice();return n[28]=s[l],n}function fl(o){let s,l,n,i;return l=new Vl({props:{size:16,class:"mr-2"}}),{c(){s=r("div"),Ee(l.$$.fragment),n=Z(`
					Settings saved`),this.h()},l(f){s=a(f,"DIV",{class:!0});var u=c(s);je(l.$$.fragment,u),n=Y(u,`
					Settings saved`),u.forEach(d),this.h()},h(){t(s,"class","flex items-center text-green-600 px-3 py-2 bg-green-50 rounded")},m(f,u){le(f,s,u),ge(l,s,null),e(s,n),i=!0},i(f){i||(P(l.$$.fragment,f),i=!0)},o(f){F(l.$$.fragment,f),i=!1},d(f){f&&d(s),be(l)}}}function vl(o){let s,l,n,i,f,u;return l=new Bs({props:{size:18}}),{c(){s=r("div"),Ee(l.$$.fragment),n=h(),i=r("span"),f=Z(o[4]),this.h()},l(v){s=a(v,"DIV",{class:!0});var p=c(s);je(l.$$.fragment,p),n=_(p),i=a(p,"SPAN",{});var b=c(i);f=Y(b,o[4]),b.forEach(d),p.forEach(d),this.h()},h(){t(s,"class","error-banner svelte-sjn19d")},m(v,p){le(v,s,p),ge(l,s,null),e(s,n),e(s,i),e(i,f),u=!0},p(v,p){(!u||p&16)&&kl(f,v[4])},i(v){u||(P(l.$$.fragment,v),u=!0)},o(v){F(l.$$.fragment,v),u=!1},d(v){v&&d(s),be(l)}}}function Pl(o){let s,l,n,i,f="Failed to load settings. Please try refreshing the page.",u;return l=new Bs({props:{size:18}}),{c(){s=r("div"),Ee(l.$$.fragment),n=h(),i=r("span"),i.textContent=f,this.h()},l(v){s=a(v,"DIV",{class:!0});var p=c(s);je(l.$$.fragment,p),n=_(p),i=a(p,"SPAN",{"data-svelte-h":!0}),M(i)!=="svelte-1y1qfo9"&&(i.textContent=f),p.forEach(d),this.h()},h(){t(s,"class","error-banner svelte-sjn19d")},m(v,p){le(v,s,p),ge(l,s,null),e(s,n),e(s,i),u=!0},p:dt,i(v){u||(P(l.$$.fragment,v),u=!0)},o(v){F(l.$$.fragment,v),u=!1},d(v){v&&d(s),be(l)}}}function Nl(o){let s,l,n,i,f,u,v,p,b,N,$='<span class="label-text font-medium svelte-sjn19d">Application Name</span>',L,k,A,g,I,R='<span class="label-text font-medium svelte-sjn19d">Application URL</span>',D,B,U,V,j,T,X="Allow User Signup",Q,ee,x,y,te,q,z="Require Email Confirmation",C,S,ne,J,se,qe='<span class="label-text font-medium svelte-sjn19d">Notification Banner</span>',Fe,W,Jt,Re,Ps='<span class="label-text-alt svelte-sjn19d">Leave empty to hide the notification banner</span>',Wt,ct,Ie,$e,Oe,Qt,Yt,ye,Te,Ge,Ns='<span class="label-text font-medium svelte-sjn19d">Session Timeout</span> <span class="label-text-alt svelte-sjn19d">minutes</span>',Zt,re,es,Ce,Ke,Us='<span class="label-text font-medium svelte-sjn19d">Minimum Password Length</span>',ts,ae,ss,ut,ie,Xe,Je,ls,ns,pt,Me,De,as,We,zs="Enable SMTP",rs,is,ft,oe,Qe,Ye,os,ds,fe,Ve,Ze,qs='<span class="label-text font-medium svelte-sjn19d">Storage Provider</span>',cs,de,Le,Fs="Local Filesystem",ke,Rs="Amazon S3",us,we,et,$s='<span class="label-text font-medium svelte-sjn19d">Max Upload Size</span>',ps,ve,Mt,fs,xe,tt,Os='<span class="label-text font-medium svelte-sjn19d">Allowed File Types</span> <span class="label-text-alt svelte-sjn19d">comma-separated MIME types</span>',vs,_e,_s,hs,vt,Se,st,Gs="Developer Options",ms,Ae,_t,He,Be,bs,lt,Ks="Enable API Logging",gs,ht,Pe,Ne,js,nt,Xs="Enable Debug Mode",Es,mt,ce,at,rt,Ls,ks,bt,Ue,ze,Is,it,Js="Enable Maintenance Mode",ys,Ts,gt,he,ue,pe,jt,Cs,Ws;f=new wl({props:{size:20}}),Oe=new xl({props:{size:20}}),Je=new Sl({props:{size:20}});let O=o[0].smtp_enabled&&_l(o);Ye=new Al({props:{size:20}});let G=o[0].storage_provider==="s3"&&hl(o);rt=new Bs({props:{size:20,class:"text-warning"}});let K=o[0].maintenance_mode&&ml(o);const Qs=[ql,zl],ot=[];function Ys(m,E){return m[2]?0:1}return ue=Ys(o),pe=ot[ue]=Qs[ue](o),{c(){s=r("div"),l=r("div"),n=r("div"),i=r("h2"),Ee(f.$$.fragment),u=Z(`
						General Settings`),v=h(),p=r("div"),b=r("div"),N=r("label"),N.innerHTML=$,L=h(),k=r("input"),A=h(),g=r("div"),I=r("label"),I.innerHTML=R,D=h(),B=r("input"),U=h(),V=r("div"),j=r("label"),T=r("span"),T.textContent=X,Q=h(),ee=r("input"),x=h(),y=r("div"),te=r("label"),q=r("span"),q.textContent=z,C=h(),S=r("input"),ne=h(),J=r("div"),se=r("label"),se.innerHTML=qe,Fe=h(),W=r("textarea"),Jt=h(),Re=r("label"),Re.innerHTML=Ps,Wt=h(),ct=r("div"),Ie=r("div"),$e=r("h2"),Ee(Oe.$$.fragment),Qt=Z(`
						Security`),Yt=h(),ye=r("div"),Te=r("div"),Ge=r("label"),Ge.innerHTML=Ns,Zt=h(),re=r("input"),es=h(),Ce=r("div"),Ke=r("label"),Ke.innerHTML=Us,ts=h(),ae=r("input"),ss=h(),ut=r("div"),ie=r("div"),Xe=r("h2"),Ee(Je.$$.fragment),ls=Z(`
						Email Configuration`),ns=h(),pt=r("div"),Me=r("label"),De=r("input"),as=h(),We=r("span"),We.textContent=zs,rs=h(),O&&O.c(),is=h(),ft=r("div"),oe=r("div"),Qe=r("h2"),Ee(Ye.$$.fragment),os=Z(`
						Storage Configuration`),ds=h(),fe=r("div"),Ve=r("div"),Ze=r("label"),Ze.innerHTML=qs,cs=h(),de=r("select"),Le=r("option"),Le.textContent=Fs,ke=r("option"),ke.textContent=Rs,us=h(),we=r("div"),et=r("label"),et.innerHTML=$s,ps=h(),ve=r("input"),fs=h(),xe=r("div"),tt=r("label"),tt.innerHTML=Os,vs=h(),_e=r("input"),_s=h(),G&&G.c(),hs=h(),vt=r("div"),Se=r("div"),st=r("h2"),st.textContent=Gs,ms=h(),Ae=r("div"),_t=r("div"),He=r("label"),Be=r("input"),bs=h(),lt=r("span"),lt.textContent=Ks,gs=h(),ht=r("div"),Pe=r("label"),Ne=r("input"),js=h(),nt=r("span"),nt.textContent=Xs,Es=h(),mt=r("div"),ce=r("div"),at=r("h2"),Ee(rt.$$.fragment),Ls=Z(`
						Maintenance Mode`),ks=h(),bt=r("div"),Ue=r("label"),ze=r("input"),Is=h(),it=r("span"),it.textContent=Js,ys=h(),K&&K.c(),Ts=h(),gt=r("div"),he=r("button"),pe.c(),this.h()},l(m){s=a(m,"DIV",{class:!0});var E=c(s);l=a(E,"DIV",{class:!0});var Et=c(l);n=a(Et,"DIV",{class:!0});var Dt=c(n);i=a(Dt,"H2",{class:!0});var Ms=c(i);je(f.$$.fragment,Ms),u=Y(Ms,`
						General Settings`),Ms.forEach(d),v=_(Dt),p=a(Dt,"DIV",{class:!0});var me=c(p);b=a(me,"DIV",{class:!0});var Vt=c(b);N=a(Vt,"LABEL",{class:!0,"data-svelte-h":!0}),M(N)!=="svelte-bnlrta"&&(N.innerHTML=$),L=_(Vt),k=a(Vt,"INPUT",{type:!0,class:!0,placeholder:!0}),Vt.forEach(d),A=_(me),g=a(me,"DIV",{class:!0});var wt=c(g);I=a(wt,"LABEL",{class:!0,"data-svelte-h":!0}),M(I)!=="svelte-16b5ce4"&&(I.innerHTML=R),D=_(wt),B=a(wt,"INPUT",{type:!0,class:!0,placeholder:!0}),wt.forEach(d),U=_(me),V=a(me,"DIV",{class:!0});var Zs=c(V);j=a(Zs,"LABEL",{class:!0});var xt=c(j);T=a(xt,"SPAN",{class:!0,"data-svelte-h":!0}),M(T)!=="svelte-c1r6we"&&(T.textContent=X),Q=_(xt),ee=a(xt,"INPUT",{type:!0,class:!0}),xt.forEach(d),Zs.forEach(d),x=_(me),y=a(me,"DIV",{class:!0});var el=c(y);te=a(el,"LABEL",{class:!0});var St=c(te);q=a(St,"SPAN",{class:!0,"data-svelte-h":!0}),M(q)!=="svelte-1dod6ji"&&(q.textContent=z),C=_(St),S=a(St,"INPUT",{type:!0,class:!0}),St.forEach(d),el.forEach(d),ne=_(me),J=a(me,"DIV",{class:!0});var Lt=c(J);se=a(Lt,"LABEL",{class:!0,"data-svelte-h":!0}),M(se)!=="svelte-ptss2w"&&(se.innerHTML=qe),Fe=_(Lt),W=a(Lt,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),c(W).forEach(d),Jt=_(Lt),Re=a(Lt,"LABEL",{class:!0,"data-svelte-h":!0}),M(Re)!=="svelte-1y851nr"&&(Re.innerHTML=Ps),Lt.forEach(d),me.forEach(d),Dt.forEach(d),Et.forEach(d),Wt=_(E),ct=a(E,"DIV",{class:!0});var tl=c(ct);Ie=a(tl,"DIV",{class:!0});var At=c(Ie);$e=a(At,"H2",{class:!0});var Ds=c($e);je(Oe.$$.fragment,Ds),Qt=Y(Ds,`
						Security`),Ds.forEach(d),Yt=_(At),ye=a(At,"DIV",{class:!0});var Ht=c(ye);Te=a(Ht,"DIV",{class:!0});var Bt=c(Te);Ge=a(Bt,"LABEL",{class:!0,"data-svelte-h":!0}),M(Ge)!=="svelte-a73xkb"&&(Ge.innerHTML=Ns),Zt=_(Bt),re=a(Bt,"INPUT",{type:!0,class:!0,min:!0,placeholder:!0}),Bt.forEach(d),es=_(Ht),Ce=a(Ht,"DIV",{class:!0});var Pt=c(Ce);Ke=a(Pt,"LABEL",{class:!0,"data-svelte-h":!0}),M(Ke)!=="svelte-y4oyku"&&(Ke.innerHTML=Us),ts=_(Pt),ae=a(Pt,"INPUT",{type:!0,class:!0,min:!0,max:!0,placeholder:!0}),Pt.forEach(d),Ht.forEach(d),At.forEach(d),tl.forEach(d),ss=_(E),ut=a(E,"DIV",{class:!0});var sl=c(ut);ie=a(sl,"DIV",{class:!0});var kt=c(ie);Xe=a(kt,"H2",{class:!0});var Vs=c(Xe);je(Je.$$.fragment,Vs),ls=Y(Vs,`
						Email Configuration`),Vs.forEach(d),ns=_(kt),pt=a(kt,"DIV",{class:!0});var ll=c(pt);Me=a(ll,"LABEL",{class:!0});var Nt=c(Me);De=a(Nt,"INPUT",{type:!0,class:!0}),as=_(Nt),We=a(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),M(We)!=="svelte-3b95tr"&&(We.textContent=zs),Nt.forEach(d),ll.forEach(d),rs=_(kt),O&&O.l(kt),kt.forEach(d),sl.forEach(d),is=_(E),ft=a(E,"DIV",{class:!0});var nl=c(ft);oe=a(nl,"DIV",{class:!0});var It=c(oe);Qe=a(It,"H2",{class:!0});var ws=c(Qe);je(Ye.$$.fragment,ws),os=Y(ws,`
						Storage Configuration`),ws.forEach(d),ds=_(It),fe=a(It,"DIV",{class:!0});var yt=c(fe);Ve=a(yt,"DIV",{class:!0});var Ut=c(Ve);Ze=a(Ut,"LABEL",{class:!0,"data-svelte-h":!0}),M(Ze)!=="svelte-vucuf3"&&(Ze.innerHTML=qs),cs=_(Ut),de=a(Ut,"SELECT",{class:!0});var xs=c(de);Le=a(xs,"OPTION",{"data-svelte-h":!0}),M(Le)!=="svelte-1yvfi9p"&&(Le.textContent=Fs),ke=a(xs,"OPTION",{"data-svelte-h":!0}),M(ke)!=="svelte-1v4rbc"&&(ke.textContent=Rs),xs.forEach(d),Ut.forEach(d),us=_(yt),we=a(yt,"DIV",{class:!0});var zt=c(we);et=a(zt,"LABEL",{class:!0,"data-svelte-h":!0}),M(et)!=="svelte-ijj0nh"&&(et.innerHTML=$s),ps=_(zt),ve=a(zt,"INPUT",{type:!0,class:!0,placeholder:!0}),zt.forEach(d),fs=_(yt),xe=a(yt,"DIV",{class:!0});var qt=c(xe);tt=a(qt,"LABEL",{class:!0,"data-svelte-h":!0}),M(tt)!=="svelte-xzjbz2"&&(tt.innerHTML=Os),vs=_(qt),_e=a(qt,"INPUT",{type:!0,class:!0,placeholder:!0}),qt.forEach(d),yt.forEach(d),_s=_(It),G&&G.l(It),It.forEach(d),nl.forEach(d),hs=_(E),vt=a(E,"DIV",{class:!0});var al=c(vt);Se=a(al,"DIV",{class:!0});var Ft=c(Se);st=a(Ft,"H2",{class:!0,"data-svelte-h":!0}),M(st)!=="svelte-1082w3i"&&(st.textContent=Gs),ms=_(Ft),Ae=a(Ft,"DIV",{class:!0});var Rt=c(Ae);_t=a(Rt,"DIV",{class:!0});var rl=c(_t);He=a(rl,"LABEL",{class:!0});var $t=c(He);Be=a($t,"INPUT",{type:!0,class:!0}),bs=_($t),lt=a($t,"SPAN",{class:!0,"data-svelte-h":!0}),M(lt)!=="svelte-qz7phs"&&(lt.textContent=Ks),$t.forEach(d),rl.forEach(d),gs=_(Rt),ht=a(Rt,"DIV",{class:!0});var il=c(ht);Pe=a(il,"LABEL",{class:!0});var Ot=c(Pe);Ne=a(Ot,"INPUT",{type:!0,class:!0}),js=_(Ot),nt=a(Ot,"SPAN",{class:!0,"data-svelte-h":!0}),M(nt)!=="svelte-qfdvqd"&&(nt.textContent=Xs),Ot.forEach(d),il.forEach(d),Rt.forEach(d),Ft.forEach(d),al.forEach(d),Es=_(E),mt=a(E,"DIV",{class:!0});var ol=c(mt);ce=a(ol,"DIV",{class:!0});var Tt=c(ce);at=a(Tt,"H2",{class:!0});var Ss=c(at);je(rt.$$.fragment,Ss),Ls=Y(Ss,`
						Maintenance Mode`),Ss.forEach(d),ks=_(Tt),bt=a(Tt,"DIV",{class:!0});var dl=c(bt);Ue=a(dl,"LABEL",{class:!0});var Gt=c(Ue);ze=a(Gt,"INPUT",{type:!0,class:!0}),Is=_(Gt),it=a(Gt,"SPAN",{class:!0,"data-svelte-h":!0}),M(it)!=="svelte-1004vml"&&(it.textContent=Js),Gt.forEach(d),dl.forEach(d),ys=_(Tt),K&&K.l(Tt),Tt.forEach(d),ol.forEach(d),Ts=_(E),gt=a(E,"DIV",{class:!0});var cl=c(gt);he=a(cl,"BUTTON",{class:!0});var ul=c(he);pe.l(ul),ul.forEach(d),cl.forEach(d),E.forEach(d),this.h()},h(){t(i,"class","card-title text-xl mb-4 svelte-sjn19d"),t(N,"class","label svelte-sjn19d"),t(k,"type","text"),t(k,"class","input input-bordered svelte-sjn19d"),t(k,"placeholder","My Application"),t(b,"class","form-control svelte-sjn19d"),t(I,"class","label svelte-sjn19d"),t(B,"type","url"),t(B,"class","input input-bordered svelte-sjn19d"),t(B,"placeholder","https://example.com"),t(g,"class","form-control svelte-sjn19d"),t(T,"class","label-text font-medium svelte-sjn19d"),t(ee,"type","checkbox"),t(ee,"class","toggle toggle-primary svelte-sjn19d"),t(j,"class","label cursor-pointer svelte-sjn19d"),t(V,"class","form-control svelte-sjn19d"),t(q,"class","label-text font-medium svelte-sjn19d"),t(S,"type","checkbox"),t(S,"class","toggle toggle-primary svelte-sjn19d"),t(te,"class","label cursor-pointer svelte-sjn19d"),t(y,"class","form-control svelte-sjn19d"),t(se,"class","label svelte-sjn19d"),t(W,"class","textarea textarea-bordered svelte-sjn19d"),t(W,"placeholder","Enter a notification message to display to all users"),t(W,"rows","2"),t(Re,"class","label svelte-sjn19d"),t(J,"class","form-control svelte-sjn19d"),t(p,"class","settings-fields svelte-sjn19d"),t(n,"class","card-body"),t(l,"class","card bg-base-100 shadow-sm"),t($e,"class","card-title text-xl mb-4 svelte-sjn19d"),t(Ge,"class","label svelte-sjn19d"),t(re,"type","number"),t(re,"class","input input-bordered svelte-sjn19d"),t(re,"min","5"),t(re,"placeholder","1440"),t(Te,"class","form-control svelte-sjn19d"),t(Ke,"class","label svelte-sjn19d"),t(ae,"type","number"),t(ae,"class","input input-bordered svelte-sjn19d"),t(ae,"min","6"),t(ae,"max","32"),t(ae,"placeholder","8"),t(Ce,"class","form-control svelte-sjn19d"),t(ye,"class","settings-fields svelte-sjn19d"),t(Ie,"class","card-body"),t(ct,"class","card bg-base-100 shadow-sm"),t(Xe,"class","card-title text-xl mb-4 svelte-sjn19d"),t(De,"type","checkbox"),t(De,"class","toggle toggle-primary svelte-sjn19d"),t(We,"class","label-text font-medium svelte-sjn19d"),t(Me,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(pt,"class","form-control mb-4 svelte-sjn19d"),t(ie,"class","card-body"),t(ut,"class","card bg-base-100 shadow-sm"),t(Qe,"class","card-title text-xl mb-4 svelte-sjn19d"),t(Ze,"class","label svelte-sjn19d"),Le.__value="local",w(Le,Le.__value),ke.__value="s3",w(ke,ke.__value),t(de,"class","select select-bordered svelte-sjn19d"),o[0].storage_provider===void 0&&yl(()=>o[18].call(de)),t(Ve,"class","form-control svelte-sjn19d"),t(et,"class","label svelte-sjn19d"),t(ve,"type","text"),t(ve,"class","input input-bordered svelte-sjn19d"),ve.value=Mt=bl(o[0].max_upload_size),t(ve,"placeholder","10 MB"),t(we,"class","form-control svelte-sjn19d"),t(tt,"class","label svelte-sjn19d"),t(_e,"type","text"),t(_e,"class","input input-bordered svelte-sjn19d"),t(_e,"placeholder","image/*,application/pdf,text/*"),t(xe,"class","form-control md:col-span-2 svelte-sjn19d"),t(fe,"class","settings-fields svelte-sjn19d"),t(oe,"class","card-body"),t(ft,"class","card bg-base-100 shadow-sm"),t(st,"class","card-title text-xl mb-4 svelte-sjn19d"),t(Be,"type","checkbox"),t(Be,"class","toggle toggle-primary svelte-sjn19d"),t(lt,"class","label-text font-medium svelte-sjn19d"),t(He,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(_t,"class","form-control svelte-sjn19d"),t(Ne,"type","checkbox"),t(Ne,"class","toggle toggle-warning svelte-sjn19d"),t(nt,"class","label-text font-medium svelte-sjn19d"),t(Pe,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(ht,"class","form-control svelte-sjn19d"),t(Ae,"class","space-y-3"),t(Se,"class","card-body"),t(vt,"class","card bg-base-100 shadow-sm"),t(at,"class","card-title text-xl mb-4 svelte-sjn19d"),t(ze,"type","checkbox"),t(ze,"class","toggle toggle-warning svelte-sjn19d"),t(it,"class","label-text font-medium svelte-sjn19d"),t(Ue,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(bt,"class","form-control mb-4 svelte-sjn19d"),t(ce,"class","card-body"),t(mt,"class","card bg-base-100 shadow-sm border-2 border-warning/20"),t(he,"class","save-button svelte-sjn19d"),he.disabled=o[2],t(gt,"class","save-container svelte-sjn19d"),t(s,"class","settings-grid svelte-sjn19d")},m(m,E){le(m,s,E),e(s,l),e(l,n),e(n,i),ge(f,i,null),e(i,u),e(n,v),e(n,p),e(p,b),e(b,N),e(b,L),e(b,k),w(k,o[0].app_name),e(p,A),e(p,g),e(g,I),e(g,D),e(g,B),w(B,o[0].app_url),e(p,U),e(p,V),e(V,j),e(j,T),e(j,Q),e(j,ee),ee.checked=o[0].allow_signup,e(p,x),e(p,y),e(y,te),e(te,q),e(te,C),e(te,S),S.checked=o[0].require_email_confirmation,e(p,ne),e(p,J),e(J,se),e(J,Fe),e(J,W),w(W,o[0].notification),e(J,Jt),e(J,Re),e(s,Wt),e(s,ct),e(ct,Ie),e(Ie,$e),ge(Oe,$e,null),e($e,Qt),e(Ie,Yt),e(Ie,ye),e(ye,Te),e(Te,Ge),e(Te,Zt),e(Te,re),w(re,o[0].session_timeout),e(ye,es),e(ye,Ce),e(Ce,Ke),e(Ce,ts),e(Ce,ae),w(ae,o[0].password_min_length),e(s,ss),e(s,ut),e(ut,ie),e(ie,Xe),ge(Je,Xe,null),e(Xe,ls),e(ie,ns),e(ie,pt),e(pt,Me),e(Me,De),De.checked=o[0].smtp_enabled,e(Me,as),e(Me,We),e(ie,rs),O&&O.m(ie,null),e(s,is),e(s,ft),e(ft,oe),e(oe,Qe),ge(Ye,Qe,null),e(Qe,os),e(oe,ds),e(oe,fe),e(fe,Ve),e(Ve,Ze),e(Ve,cs),e(Ve,de),e(de,Le),e(de,ke),pl(de,o[0].storage_provider,!0),e(fe,us),e(fe,we),e(we,et),e(we,ps),e(we,ve),e(fe,fs),e(fe,xe),e(xe,tt),e(xe,vs),e(xe,_e),w(_e,o[0].allowed_file_types),e(oe,_s),G&&G.m(oe,null),e(s,hs),e(s,vt),e(vt,Se),e(Se,st),e(Se,ms),e(Se,Ae),e(Ae,_t),e(_t,He),e(He,Be),Be.checked=o[0].enable_api_logs,e(He,bs),e(He,lt),e(Ae,gs),e(Ae,ht),e(ht,Pe),e(Pe,Ne),Ne.checked=o[0].enable_debug_mode,e(Pe,js),e(Pe,nt),e(s,Es),e(s,mt),e(mt,ce),e(ce,at),ge(rt,at,null),e(at,Ls),e(ce,ks),e(ce,bt),e(bt,Ue),e(Ue,ze),ze.checked=o[0].maintenance_mode,e(Ue,Is),e(Ue,it),e(ce,ys),K&&K.m(ce,null),e(s,Ts),e(s,gt),e(gt,he),ot[ue].m(he,null),jt=!0,Cs||(Ws=[H(k,"input",o[7]),H(B,"input",o[8]),H(ee,"change",o[9]),H(S,"change",o[10]),H(W,"input",o[11]),H(re,"input",o[12]),H(ae,"input",o[13]),H(De,"change",o[14]),H(de,"change",o[18]),H(ve,"change",o[19]),H(_e,"input",o[20]),H(Be,"change",o[23]),H(Ne,"change",o[24]),H(ze,"change",o[25]),H(he,"click",o[5])],Cs=!0)},p(m,E){E&1&&k.value!==m[0].app_name&&w(k,m[0].app_name),E&1&&B.value!==m[0].app_url&&w(B,m[0].app_url),E&1&&(ee.checked=m[0].allow_signup),E&1&&(S.checked=m[0].require_email_confirmation),E&1&&w(W,m[0].notification),E&1&&Ct(re.value)!==m[0].session_timeout&&w(re,m[0].session_timeout),E&1&&Ct(ae.value)!==m[0].password_min_length&&w(ae,m[0].password_min_length),E&1&&(De.checked=m[0].smtp_enabled),m[0].smtp_enabled?O?O.p(m,E):(O=_l(m),O.c(),O.m(ie,null)):O&&(O.d(1),O=null),E&1&&pl(de,m[0].storage_provider),(!jt||E&1&&Mt!==(Mt=bl(m[0].max_upload_size))&&ve.value!==Mt)&&(ve.value=Mt),E&1&&_e.value!==m[0].allowed_file_types&&w(_e,m[0].allowed_file_types),m[0].storage_provider==="s3"?G?G.p(m,E):(G=hl(m),G.c(),G.m(oe,null)):G&&(G.d(1),G=null),E&1&&(Be.checked=m[0].enable_api_logs),E&1&&(Ne.checked=m[0].enable_debug_mode),E&1&&(ze.checked=m[0].maintenance_mode),m[0].maintenance_mode?K?K.p(m,E):(K=ml(m),K.c(),K.m(ce,null)):K&&(K.d(1),K=null);let Et=ue;ue=Ys(m),ue!==Et&&(Xt(),F(ot[Et],1,1,()=>{ot[Et]=null}),Kt(),pe=ot[ue],pe||(pe=ot[ue]=Qs[ue](m),pe.c()),P(pe,1),pe.m(he,null)),(!jt||E&4)&&(he.disabled=m[2])},i(m){jt||(P(f.$$.fragment,m),P(Oe.$$.fragment,m),P(Je.$$.fragment,m),P(Ye.$$.fragment,m),P(rt.$$.fragment,m),P(pe),jt=!0)},o(m){F(f.$$.fragment,m),F(Oe.$$.fragment,m),F(Je.$$.fragment,m),F(Ye.$$.fragment,m),F(rt.$$.fragment,m),F(pe),jt=!1},d(m){m&&d(s),be(f),be(Oe),be(Je),O&&O.d(),be(Ye),G&&G.d(),be(rt),K&&K.d(),ot[ue].d(),Cs=!1,Hs(Ws)}}}function Ul(o){let s,l=Cl([1,2,3,4]),n=[];for(let i=0;i<4;i+=1)n[i]=Fl(Bl(o,l,i));return{c(){s=r("div");for(let i=0;i<4;i+=1)n[i].c();this.h()},l(i){s=a(i,"DIV",{class:!0});var f=c(s);for(let u=0;u<4;u+=1)n[u].l(f);f.forEach(d),this.h()},h(){t(s,"class","settings-grid svelte-sjn19d")},m(i,f){le(i,s,f);for(let u=0;u<4;u+=1)n[u]&&n[u].m(s,null)},p:dt,i:dt,o:dt,d(i){i&&d(s),Il(n,i)}}}function _l(o){let s,l,n,i='<span class="label-text font-medium svelte-sjn19d">SMTP Host</span>',f,u,v,p,b,N='<span class="label-text font-medium svelte-sjn19d">SMTP Port</span>',$,L,k,A,g,I='<span class="label-text font-medium svelte-sjn19d">SMTP Username</span>',R,D,B,U;return{c(){s=r("div"),l=r("div"),n=r("label"),n.innerHTML=i,f=h(),u=r("input"),v=h(),p=r("div"),b=r("label"),b.innerHTML=N,$=h(),L=r("input"),k=h(),A=r("div"),g=r("label"),g.innerHTML=I,R=h(),D=r("input"),this.h()},l(V){s=a(V,"DIV",{class:!0});var j=c(s);l=a(j,"DIV",{class:!0});var T=c(l);n=a(T,"LABEL",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-9s1803"&&(n.innerHTML=i),f=_(T),u=a(T,"INPUT",{type:!0,class:!0,placeholder:!0}),T.forEach(d),v=_(j),p=a(j,"DIV",{class:!0});var X=c(p);b=a(X,"LABEL",{class:!0,"data-svelte-h":!0}),M(b)!=="svelte-3399a4"&&(b.innerHTML=N),$=_(X),L=a(X,"INPUT",{type:!0,class:!0,placeholder:!0}),X.forEach(d),k=_(j),A=a(j,"DIV",{class:!0});var Q=c(A);g=a(Q,"LABEL",{class:!0,"data-svelte-h":!0}),M(g)!=="svelte-z6ffzp"&&(g.innerHTML=I),R=_(Q),D=a(Q,"INPUT",{type:!0,class:!0,placeholder:!0}),Q.forEach(d),j.forEach(d),this.h()},h(){t(n,"class","label svelte-sjn19d"),t(u,"type","text"),t(u,"class","input input-bordered svelte-sjn19d"),t(u,"placeholder","smtp.example.com"),t(l,"class","form-control svelte-sjn19d"),t(b,"class","label svelte-sjn19d"),t(L,"type","number"),t(L,"class","input input-bordered svelte-sjn19d"),t(L,"placeholder","587"),t(p,"class","form-control svelte-sjn19d"),t(g,"class","label svelte-sjn19d"),t(D,"type","text"),t(D,"class","input input-bordered svelte-sjn19d"),t(D,"placeholder","user@example.com"),t(A,"class","form-control md:col-span-2 svelte-sjn19d"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4 pl-4 border-l-2 border-primary/20")},m(V,j){le(V,s,j),e(s,l),e(l,n),e(l,f),e(l,u),w(u,o[0].smtp_host),e(s,v),e(s,p),e(p,b),e(p,$),e(p,L),w(L,o[0].smtp_port),e(s,k),e(s,A),e(A,g),e(A,R),e(A,D),w(D,o[0].smtp_user),B||(U=[H(u,"input",o[15]),H(L,"input",o[16]),H(D,"input",o[17])],B=!0)},p(V,j){j&1&&u.value!==V[0].smtp_host&&w(u,V[0].smtp_host),j&1&&Ct(L.value)!==V[0].smtp_port&&w(L,V[0].smtp_port),j&1&&D.value!==V[0].smtp_user&&w(D,V[0].smtp_user)},d(V){V&&d(s),B=!1,Hs(U)}}}function hl(o){let s,l,n,i='<span class="label-text font-medium svelte-sjn19d">S3 Bucket</span>',f,u,v,p,b,N='<span class="label-text font-medium svelte-sjn19d">S3 Region</span>',$,L,k,A;return{c(){s=r("div"),l=r("div"),n=r("label"),n.innerHTML=i,f=h(),u=r("input"),v=h(),p=r("div"),b=r("label"),b.innerHTML=N,$=h(),L=r("input"),this.h()},l(g){s=a(g,"DIV",{class:!0});var I=c(s);l=a(I,"DIV",{class:!0});var R=c(l);n=a(R,"LABEL",{class:!0,"data-svelte-h":!0}),M(n)!=="svelte-1dt9nr1"&&(n.innerHTML=i),f=_(R),u=a(R,"INPUT",{type:!0,class:!0,placeholder:!0}),R.forEach(d),v=_(I),p=a(I,"DIV",{class:!0});var D=c(p);b=a(D,"LABEL",{class:!0,"data-svelte-h":!0}),M(b)!=="svelte-1scbzmr"&&(b.innerHTML=N),$=_(D),L=a(D,"INPUT",{type:!0,class:!0,placeholder:!0}),D.forEach(d),I.forEach(d),this.h()},h(){t(n,"class","label svelte-sjn19d"),t(u,"type","text"),t(u,"class","input input-bordered svelte-sjn19d"),t(u,"placeholder","my-bucket"),t(l,"class","form-control svelte-sjn19d"),t(b,"class","label svelte-sjn19d"),t(L,"type","text"),t(L,"class","input input-bordered svelte-sjn19d"),t(L,"placeholder","us-east-1"),t(p,"class","form-control svelte-sjn19d"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pl-4 border-l-2 border-primary/20")},m(g,I){le(g,s,I),e(s,l),e(l,n),e(l,f),e(l,u),w(u,o[0].s3_bucket),e(s,v),e(s,p),e(p,b),e(p,$),e(p,L),w(L,o[0].s3_region),k||(A=[H(u,"input",o[21]),H(L,"input",o[22])],k=!0)},p(g,I){I&1&&u.value!==g[0].s3_bucket&&w(u,g[0].s3_bucket),I&1&&L.value!==g[0].s3_region&&w(L,g[0].s3_region)},d(g){g&&d(s),k=!1,Hs(A)}}}function ml(o){let s,l,n='<span class="label-text font-medium svelte-sjn19d">Maintenance Message</span>',i,f,u,v;return{c(){s=r("div"),l=r("label"),l.innerHTML=n,i=h(),f=r("textarea"),this.h()},l(p){s=a(p,"DIV",{class:!0});var b=c(s);l=a(b,"LABEL",{class:!0,"data-svelte-h":!0}),M(l)!=="svelte-swxfkl"&&(l.innerHTML=n),i=_(b),f=a(b,"TEXTAREA",{class:!0,placeholder:!0}),c(f).forEach(d),b.forEach(d),this.h()},h(){t(l,"class","label svelte-sjn19d"),t(f,"class","textarea textarea-bordered h-24 svelte-sjn19d"),t(f,"placeholder","We're currently performing maintenance. Please check back later."),t(s,"class","form-control pl-4 border-l-2 border-warning/20 svelte-sjn19d")},m(p,b){le(p,s,b),e(s,l),e(s,i),e(s,f),w(f,o[0].maintenance_message),u||(v=H(f,"input",o[26]),u=!0)},p(p,b){b&1&&w(f,p[0].maintenance_message)},d(p){p&&d(s),u=!1,v()}}}function zl(o){let s,l,n;return s=new Hl({props:{size:18}}),{c(){Ee(s.$$.fragment),l=Z(`
						Save Settings`)},l(i){je(s.$$.fragment,i),l=Y(i,`
						Save Settings`)},m(i,f){ge(s,i,f),le(i,l,f),n=!0},i(i){n||(P(s.$$.fragment,i),n=!0)},o(i){F(s.$$.fragment,i),n=!1},d(i){i&&d(l),be(s,i)}}}function ql(o){let s,l;return{c(){s=r("div"),l=Z(`
						Saving...`),this.h()},l(n){s=a(n,"DIV",{class:!0}),c(s).forEach(d),l=Y(n,`
						Saving...`),this.h()},h(){t(s,"class","spinner svelte-sjn19d")},m(n,i){le(n,s,i),le(n,l,i)},i:dt,o:dt,d(n){n&&(d(s),d(l))}}}function Fl(o){let s,l='<div class="skeleton-title svelte-sjn19d"></div> <div class="skeleton-content svelte-sjn19d"><div class="skeleton-input svelte-sjn19d"></div> <div class="skeleton-input svelte-sjn19d"></div></div> ';return{c(){s=r("div"),s.innerHTML=l,this.h()},l(n){s=a(n,"DIV",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-6muhxt"&&(s.innerHTML=l),this.h()},h(){t(s,"class","settings-card svelte-sjn19d")},m(n,i){le(n,s,i)},p:dt,d(n){n&&d(s)}}}function Rl(o){let s,l,n,i,f="Settings",u,v,p,b,N,$,L,k,A,g,I,R,D,B,U,V,j,T,X,Q,ee,x=o[3]&&fl();I=new Dl({props:{size:16,class:"mr-2"}});let y=o[4]&&vl(o);const te=[Ul,Nl,Pl],q=[];function z(C,S){return C[1]?0:C[0]?1:2}return j=z(o),T=q[j]=te[j](o),{c(){s=r("div"),l=r("div"),n=r("div"),i=r("h1"),i.textContent=f,u=h(),v=r("p"),p=Z("Version "),b=Z("dadbe35"),N=Z(" • Built "),$=Z("2025-09-15 09:48:42"),L=h(),k=r("div"),x&&x.c(),A=h(),g=r("button"),Ee(I.$$.fragment),R=Z(`
				Reset to Defaults`),B=h(),U=r("div"),y&&y.c(),V=h(),T.c(),this.h()},l(C){s=a(C,"DIV",{class:!0});var S=c(s);l=a(S,"DIV",{class:!0});var ne=c(l);n=a(ne,"DIV",{});var J=c(n);i=a(J,"H1",{class:!0,"data-svelte-h":!0}),M(i)!=="svelte-1upq91r"&&(i.textContent=f),u=_(J),v=a(J,"P",{class:!0});var se=c(v);p=Y(se,"Version "),b=Y(se,"dadbe35"),N=Y(se," • Built "),$=Y(se,"2025-09-15 09:48:42"),se.forEach(d),J.forEach(d),L=_(ne),k=a(ne,"DIV",{class:!0});var qe=c(k);x&&x.l(qe),A=_(qe),g=a(qe,"BUTTON",{class:!0});var Fe=c(g);je(I.$$.fragment,Fe),R=Y(Fe,`
				Reset to Defaults`),Fe.forEach(d),qe.forEach(d),ne.forEach(d),B=_(S),U=a(S,"DIV",{class:!0});var W=c(U);y&&y.l(W),V=_(W),T.l(W),W.forEach(d),S.forEach(d),this.h()},h(){t(i,"class","text-3xl font-bold text-gray-900"),t(v,"class","text-sm text-gray-500 mt-1"),t(g,"class","btn btn-ghost btn-sm"),g.disabled=D=o[2]||o[1],t(k,"class","flex gap-2"),t(l,"class","flex justify-between items-center mb-8"),t(U,"class","settings-content svelte-sjn19d"),t(s,"class","container mx-auto p-6 max-w-6xl")},m(C,S){le(C,s,S),e(s,l),e(l,n),e(n,i),e(n,u),e(n,v),e(v,p),e(v,b),e(v,N),e(v,$),e(l,L),e(l,k),x&&x.m(k,null),e(k,A),e(k,g),ge(I,g,null),e(g,R),e(s,B),e(s,U),y&&y.m(U,null),e(U,V),q[j].m(U,null),X=!0,Q||(ee=H(g,"click",o[6]),Q=!0)},p(C,[S]){C[3]?x?S&8&&P(x,1):(x=fl(),x.c(),P(x,1),x.m(k,A)):x&&(Xt(),F(x,1,1,()=>{x=null}),Kt()),(!X||S&6&&D!==(D=C[2]||C[1]))&&(g.disabled=D),C[4]?y?(y.p(C,S),S&16&&P(y,1)):(y=vl(C),y.c(),P(y,1),y.m(U,V)):y&&(Xt(),F(y,1,1,()=>{y=null}),Kt());let ne=j;j=z(C),j===ne?q[j].p(C,S):(Xt(),F(q[ne],1,1,()=>{q[ne]=null}),Kt(),T=q[j],T?T.p(C,S):(T=q[j]=te[j](C),T.c()),P(T,1),T.m(U,null))},i(C){X||(P(x),P(I.$$.fragment,C),P(y),P(T),X=!0)},o(C){F(x),F(I.$$.fragment,C),F(y),F(T),X=!1},d(C){C&&d(s),x&&x.d(),be(I),y&&y.d(),q[j].d(),Q=!1,ee()}}}function bl(o){const s=["B","KB","MB","GB"];let l=o,n=0;for(;l>=1024&&n<s.length-1;)l/=1024,n++;return`${l.toFixed(1)} ${s[n]}`}function $l(o){const s=o.match(/^(\d+(?:\.\d+)?)\s*([KMGT]?B)?$/i);if(!s)return 0;const l=parseFloat(s[1]),n=(s[2]||"B").toUpperCase(),i={B:1,KB:1024,MB:1024*1024,GB:1024*1024*1024};return Math.floor(l*(i[n]||1))}function Ol(o,s,l){let n=null,i=!0,f=!1,u=!1,v="";Ll(async()=>{Ml()&&await p()});async function p(){l(1,i=!0),l(4,v="");const z=await As.getSettings();z.data?l(0,n=z.data):l(4,v=z.error||"Failed to load settings"),l(1,i=!1)}async function b(){if(!n)return;l(2,f=!0),l(3,u=!1),l(4,v="");const z=await As.updateSettings(n);z.data?(l(0,n=z.data),l(3,u=!0),setTimeout(()=>l(3,u=!1),3e3)):l(4,v=z.error||"Failed to save settings"),l(2,f=!1)}async function N(){if(!confirm("Are you sure you want to reset all settings to default values?"))return;l(2,f=!0),l(4,v="");const z=await As.post("/admin/settings/reset");z.data?(l(0,n=z.data),l(3,u=!0),setTimeout(()=>l(3,u=!1),3e3)):l(4,v=z.error||"Failed to reset settings"),l(2,f=!1)}function $(){n.app_name=this.value,l(0,n)}function L(){n.app_url=this.value,l(0,n)}function k(){n.allow_signup=this.checked,l(0,n)}function A(){n.require_email_confirmation=this.checked,l(0,n)}function g(){n.notification=this.value,l(0,n)}function I(){n.session_timeout=Ct(this.value),l(0,n)}function R(){n.password_min_length=Ct(this.value),l(0,n)}function D(){n.smtp_enabled=this.checked,l(0,n)}function B(){n.smtp_host=this.value,l(0,n)}function U(){n.smtp_port=Ct(this.value),l(0,n)}function V(){n.smtp_user=this.value,l(0,n)}function j(){n.storage_provider=Tl(this),l(0,n)}const T=z=>l(0,n.max_upload_size=$l(z.currentTarget.value),n);function X(){n.allowed_file_types=this.value,l(0,n)}function Q(){n.s3_bucket=this.value,l(0,n)}function ee(){n.s3_region=this.value,l(0,n)}function x(){n.enable_api_logs=this.checked,l(0,n)}function y(){n.enable_debug_mode=this.checked,l(0,n)}function te(){n.maintenance_mode=this.checked,l(0,n)}function q(){n.maintenance_message=this.value,l(0,n)}return[n,i,f,u,v,b,N,$,L,k,A,g,I,R,D,B,U,V,j,T,X,Q,ee,x,y,te,q]}class an extends gl{constructor(s){super(),jl(this,s,Ol,Rl,El,{})}}export{an as component};
