import{S as Wr,i as Br,s as jr,v as Fl,w as T,o as $,p as b,x as S,y as R,z as M,A as Rr,m as Qr,u as Zr,q as Jr,r as Xr,d,I as Yr,B as xr,a as N,D as qs,C as r,L as Mr,T as ye,b as Gt,c as e,E as Nl,N as en,e as n,f as u,h as v,F as q,g,j as i,k as p,t as k,l as Ur,H as tn,a5 as sn,n as an,K as ln,O as rn,J as Ns}from"../chunks/BDqP8p-g.js";import{e as Ar}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{g as nn}from"../chunks/B3l2LnzV.js";import{C as Ll,r as on}from"../chunks/BGA4YYbT.js";import{a as zr}from"../chunks/DCFqKId7.js";import{u as cn,c as dn}from"../chunks/s0hTdxz5.js";import{L as un}from"../chunks/NIutLuLF.js";import{R as fn}from"../chunks/Z-2Wz0nd.js";import{U as hn}from"../chunks/BkJaJuuc.js";import{D as vn}from"../chunks/DHoRJkBp.js";import{H as Pr}from"../chunks/C5ZGxTFH.js";import{A as pn}from"../chunks/Bi6EFmuy.js";import{Z as mn}from"../chunks/CtS6TM2r.js";import{C as Or}from"../chunks/CU-oF-HF.js";import{S as qr}from"../chunks/Bv66r2Yw.js";import{C as _n}from"../chunks/DIid7yBP.js";import{A as Sa}from"../chunks/CEm0GgIa.js";import{T as Gr}from"../chunks/DZrrQS6y.js";import{g as gn,a as kn}from"../chunks/CgU5AtxT.js";import{I as bn}from"../chunks/DEeCOqOg.js";function $n(l){let t;const a=l[2].default,s=Qr(a,l,l[3],null);return{c(){s&&s.c()},l(c){s&&s.l(c)},m(c,f){s&&s.m(c,f),t=!0},p(c,f){s&&s.p&&(!t||f&8)&&Zr(s,a,c,c[3],t?Xr(a,c[3],f,null):Jr(c[3]),null)},i(c){t||(b(s,c),t=!0)},o(c){$(s,c),t=!1},d(c){s&&s.d(c)}}}function Dn(l){let t,a;const s=[{name:"trending-down"},l[1],{iconNode:l[0]}];let c={$$slots:{default:[$n]},$$scope:{ctx:l}};for(let f=0;f<s.length;f+=1)c=Fl(c,s[f]);return t=new bn({props:c}),{c(){M(t.$$.fragment)},l(f){R(t.$$.fragment,f)},m(f,_){S(t,f,_),a=!0},p(f,[_]){const C=_&3?gn(s,[s[0],_&2&&kn(f[1]),_&1&&{iconNode:f[0]}]):{};_&8&&(C.$$scope={dirty:_,ctx:f}),t.$set(C)},i(f){a||(b(t.$$.fragment,f),a=!0)},o(f){$(t.$$.fragment,f),a=!1},d(f){T(t,f)}}}function In(l,t,a){let{$$slots:s={},$$scope:c}=t;const f=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}],["polyline",{points:"16 17 22 17 22 11"}]];return l.$$set=_=>{a(1,t=Fl(Fl({},t),Rr(_))),"$$scope"in _&&a(3,c=_.$$scope)},t=Rr(t),[f,t,s,c]}class Kr extends Wr{constructor(t){super(),Br(this,t,In,Dn,jr,{})}}function Nr(l,t,a){const s=l.slice();return s[34]=t[a][0],s[35]=t[a][1],s}function Lr(l){let t,a,s,c,f;return a=new Sa({props:{size:18}}),{c(){t=i("div"),M(a.$$.fragment),s=p(),c=k(l[5]),this.h()},l(_){t=n(_,"DIV",{class:!0});var C=u(t);R(a.$$.fragment,C),s=v(C),c=g(C,l[5]),C.forEach(d),this.h()},h(){r(t,"class","error-banner svelte-hlptk")},m(_,C){Gt(_,t,C),S(a,t,null),e(t,s),e(t,c),f=!0},p(_,C){(!f||C[0]&32)&&N(c,_[5])},i(_){f||(b(a.$$.fragment,_),f=!0)},o(_){$(a.$$.fragment,_),f=!1},d(_){_&&d(t),T(a)}}}function En(l){let t,a;return t=new Kr({props:{size:12}}),{c(){M(t.$$.fragment)},l(s){R(t.$$.fragment,s)},m(s,c){S(t,s,c),a=!0},i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){$(t.$$.fragment,s),a=!1},d(s){T(t,s)}}}function Cn(l){let t,a;return t=new Gr({props:{size:12}}),{c(){M(t.$$.fragment)},l(s){R(t.$$.fragment,s)},m(s,c){S(t,s,c),a=!0},i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){$(t.$$.fragment,s),a=!1},d(s){T(t,s)}}}function wn(l){let t,a;return t=new Kr({props:{size:12}}),{c(){M(t.$$.fragment)},l(s){R(t.$$.fragment,s)},m(s,c){S(t,s,c),a=!0},i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){$(t.$$.fragment,s),a=!1},d(s){T(t,s)}}}function yn(l){let t,a;return t=new Gr({props:{size:12}}),{c(){M(t.$$.fragment)},l(s){R(t.$$.fragment,s)},m(s,c){S(t,s,c),a=!0},i(s){a||(b(t.$$.fragment,s),a=!0)},o(s){$(t.$$.fragment,s),a=!1},d(s){T(t,s)}}}function Fr(l){let t,a=l[35].label+"",s;return{c(){t=i("option"),s=k(a),this.h()},l(c){t=n(c,"OPTION",{});var f=u(t);s=g(f,a),f.forEach(d),this.h()},h(){t.__value=l[34],ln(t,t.__value)},m(c,f){Gt(c,t,f),e(t,s)},p:an,d(c){c&&d(t)}}}function Hr(l){let t,a,s,c,f,_,C;return a=new Sa({props:{size:10}}),{c(){t=i("span"),M(a.$$.fragment),s=p(),c=k(l[16]),f=k("% errors"),this.h()},l(V){t=n(V,"SPAN",{class:!0});var z=u(t);R(a.$$.fragment,z),s=v(z),c=g(z,l[16]),f=g(z,"% errors"),z.forEach(d),this.h()},h(){r(t,"class",_="stat-badge "+(l[16]>5?"bad":"warn")+" svelte-hlptk")},m(V,z){Gt(V,t,z),S(a,t,null),e(t,s),e(t,c),e(t,f),C=!0},p(V,z){(!C||z[0]&65536)&&N(c,V[16]),(!C||z[0]&65536&&_!==(_="stat-badge "+(V[16]>5?"bad":"warn")+" svelte-hlptk"))&&r(t,"class",_)},i(V){C||(b(a.$$.fragment,V),C=!0)},o(V){$(a.$$.fragment,V),C=!1},d(V){V&&d(t),T(a)}}}function Vn(l){let t,a,s;return t=new Sa({props:{size:12}}),{c(){M(t.$$.fragment),a=k(`
						Critical`)},l(c){R(t.$$.fragment,c),a=g(c,`
						Critical`)},m(c,f){S(t,c,f),Gt(c,a,f),s=!0},i(c){s||(b(t.$$.fragment,c),s=!0)},o(c){$(t.$$.fragment,c),s=!1},d(c){c&&d(a),T(t,c)}}}function Tn(l){let t,a,s;return t=new Sa({props:{size:12}}),{c(){M(t.$$.fragment),a=k(`
						Warning`)},l(c){R(t.$$.fragment,c),a=g(c,`
						Warning`)},m(c,f){S(t,c,f),Gt(c,a,f),s=!0},i(c){s||(b(t.$$.fragment,c),s=!0)},o(c){$(t.$$.fragment,c),s=!1},d(c){c&&d(a),T(t,c)}}}function Sn(l){let t,a,s;return t=new Or({props:{size:12}}),{c(){M(t.$$.fragment),a=k(`
						Healthy`)},l(c){R(t.$$.fragment,c),a=g(c,`
						Healthy`)},m(c,f){S(t,c,f),Gt(c,a,f),s=!0},i(c){s||(b(t.$$.fragment,c),s=!0)},o(c){$(t.$$.fragment,c),s=!1},d(c){c&&d(a),T(t,c)}}}function Rn(l){let t,a,s,c,f,_,C,V,z="Dashboard",_e,le,re,Kt,Ve,ot,ne,K,J,Te,Se=l[4]?"Refreshing...":"Refresh",ge,Re,w,F,W,ke,X,B,h,Me="Total Users",Qt,te,be=nt(l[8])+"",Zt,Is,Y,y,D,I,L,Jt,Z,Es="Active accounts",ct,dt,$e,P,j,De,Ue,ie,ut,Hl="Database Rows",Ra,Xt,Cs=nt(l[9])+"",Ls,Ma,oe,Fs,Hs,Q,O,Ws,ft,Wl="Total records",Bs,Ua,Yt,ht,Aa,xt,Ae,ce,vt,Bl="Storage Used",za,es,ws=me(l[10])+"",js,Pa,ze,pt,qa,ts,jl="Total files",Na,ss,mt,La,as,Pe,de,_t,Ol="API Requests",Fa,ls,ys=nt(l[12])+"",Os,Ha,qe,gt,Wa,rs,Gs,Ba,ja,ns,kt,Oa,Ne,x,Le,bt,Gl="Performance Metrics",Ga,Fe,ee,Ka,Ie,Ee,$t,Qa,Ks,Za,Ja,Xa,Dt,Kl='<canvas id="performance-chart"></canvas>',Ya,Ce,It,Ql="System Activity",xa,is,we,Et,el,tl,Ct,Zl='<canvas id="activity-chart"></canvas>',sl,ue,He,wt,Jl="System Health",al,We,se,ae,Qs,ll,fe,Be,je,yt,Xl="CPU Usage",rl,Vt,Vs=l[0].toFixed(0)+"",Zs,nl,il,os,Tt,ol,he,Oe,St,Yl="Memory",cl,Rt,Ts=l[1].toFixed(0)+"",Js,dl,ul,cs,Mt,fl,Ge,Ss=me(l[6].used)+"",Xs,hl,Rs=me(l[6].total)+"",Ys,vl,ve,Ke,Ut,xl="Disk Space",pl,At,Ms=l[2].toFixed(0)+"",xs,ml,_l,ds,zt,gl,Qe,Us=me(l[7].used)+"",ea,kl,As=me(l[7].total)+"",ta,bl,Ze,Je,Pt,er="DB Queries",$l,us,zs=nt(l[14])+"",sa,Dl,Xe,qt,tr="Uptime",Il,fs,aa,El,Ye,xe,Nt,Lt,Cl,wl,Ft,Ht,yl,Vl,Wt,sr='<a href="/logs" class="status-link svelte-hlptk">View Logs</a> <a href="/users" class="status-link svelte-hlptk">Manage Users</a> <a href="/settings" class="status-link svelte-hlptk">Settings</a>',E,Tl,ar;_=new un({props:{size:24}}),J=new fn({props:{size:16,class:l[4]?"spinning":""}});let U=l[5]&&Lr(l);const lr=[Cn,En],Bt=[];function rr(o,m){return m[0]&131328&&(y=null),m[0]&131328&&(D=null),y==null&&(y=it(o[8],o[17].users)==="up"),y?0:(D==null&&(D=it(o[8],o[17].users)==="down"),D?1:-1)}~(I=rr(l,[-1,-1]))&&(L=Bt[I]=lr[I](l)),P=new hn({props:{size:16}});const nr=[yn,wn],jt=[];function ir(o,m){return m[0]&131584&&(Fs=null),m[0]&131584&&(Hs=null),Fs==null&&(Fs=it(o[9],o[17].rows)==="up"),Fs?0:(Hs==null&&(Hs=it(o[9],o[17].rows)==="down"),Hs?1:-1)}~(Q=ir(l,[-1,-1]))&&(O=jt[Q]=nr[Q](l)),ht=new vn({props:{size:16}}),pt=new Pr({props:{size:12}}),mt=new Pr({props:{size:16}}),gt=new pn({props:{size:12}}),kt=new mn({props:{size:16}});let hs=Ar(Object.entries(l[19])),H=[];for(let o=0;o<hs.length;o+=1)H[o]=Fr(Nr(l,hs,o));$t=new Or({props:{size:10}});let A=l[16]>0&&Hr(l);Et=new qr({props:{size:10}});const or=[Sn,Tn,Vn],Ot=[];function cr(o,m){return o[18]==="healthy"?0:o[18]==="warning"?1:2}return se=cr(l),ae=Ot[se]=or[se](l),Lt=new qr({props:{size:12}}),Ht=new _n({props:{size:12}}),{c(){t=i("div"),a=i("div"),s=i("div"),c=i("div"),f=i("div"),M(_.$$.fragment),C=p(),V=i("h1"),V.textContent=z,_e=p(),le=i("div"),re=i("span"),Kt=k("Uptime: "),Ve=k(l[11]),ot=p(),ne=i("div"),K=i("button"),M(J.$$.fragment),Te=p(),ge=k(Se),Re=p(),w=i("div"),U&&U.c(),F=p(),W=i("div"),ke=i("div"),X=i("div"),B=i("div"),h=i("div"),h.textContent=Me,Qt=p(),te=i("div"),Zt=k(be),Is=p(),Y=i("div"),L&&L.c(),Jt=p(),Z=i("span"),Z.textContent=Es,dt=p(),$e=i("div"),M(P.$$.fragment),j=p(),De=i("div"),Ue=i("div"),ie=i("div"),ut=i("div"),ut.textContent=Hl,Ra=p(),Xt=i("div"),Ls=k(Cs),Ma=p(),oe=i("div"),O&&O.c(),Ws=p(),ft=i("span"),ft.textContent=Wl,Ua=p(),Yt=i("div"),M(ht.$$.fragment),Aa=p(),xt=i("div"),Ae=i("div"),ce=i("div"),vt=i("div"),vt.textContent=Bl,za=p(),es=i("div"),js=k(ws),Pa=p(),ze=i("div"),M(pt.$$.fragment),qa=p(),ts=i("span"),ts.textContent=jl,Na=p(),ss=i("div"),M(mt.$$.fragment),La=p(),as=i("div"),Pe=i("div"),de=i("div"),_t=i("div"),_t.textContent=Ol,Fa=p(),ls=i("div"),Os=k(ys),Ha=p(),qe=i("div"),M(gt.$$.fragment),Wa=p(),rs=i("span"),Gs=k(l[13]),Ba=k(" req/min"),ja=p(),ns=i("div"),M(kt.$$.fragment),Oa=p(),Ne=i("div"),x=i("div"),Le=i("div"),bt=i("h3"),bt.textContent=Gl,Ga=p(),Fe=i("div"),ee=i("select");for(let o=0;o<H.length;o+=1)H[o].c();Ka=p(),Ie=i("div"),Ee=i("span"),M($t.$$.fragment),Qa=p(),Ks=k(l[15]),Za=k("ms avg"),Ja=p(),A&&A.c(),Xa=p(),Dt=i("div"),Dt.innerHTML=Kl,Ya=p(),Ce=i("div"),It=i("h3"),It.textContent=Ql,xa=p(),is=i("div"),we=i("span"),M(Et.$$.fragment),el=k(`
						Live monitoring`),tl=p(),Ct=i("div"),Ct.innerHTML=Zl,sl=p(),ue=i("div"),He=i("div"),wt=i("h3"),wt.textContent=Jl,al=p(),We=i("span"),ae.c(),ll=p(),fe=i("div"),Be=i("div"),je=i("div"),yt=i("span"),yt.textContent=Xl,rl=p(),Vt=i("span"),Zs=k(Vs),nl=k("%"),il=p(),os=i("div"),Tt=i("div"),ol=p(),he=i("div"),Oe=i("div"),St=i("span"),St.textContent=Yl,cl=p(),Rt=i("span"),Js=k(Ts),dl=k("%"),ul=p(),cs=i("div"),Mt=i("div"),fl=p(),Ge=i("div"),Xs=k(Ss),hl=k(" / "),Ys=k(Rs),vl=p(),ve=i("div"),Ke=i("div"),Ut=i("span"),Ut.textContent=xl,pl=p(),At=i("span"),xs=k(Ms),ml=k("%"),_l=p(),ds=i("div"),zt=i("div"),gl=p(),Qe=i("div"),ea=k(Us),kl=k(" / "),ta=k(As),bl=p(),Ze=i("div"),Je=i("div"),Pt=i("span"),Pt.textContent=er,$l=p(),us=i("strong"),sa=k(zs),Dl=p(),Xe=i("div"),qt=i("span"),qt.textContent=tr,Il=p(),fs=i("strong"),aa=k(l[11]),El=p(),Ye=i("div"),xe=i("div"),Nt=i("span"),M(Lt.$$.fragment),Cl=k(`
				All systems operational`),wl=p(),Ft=i("span"),M(Ht.$$.fragment),yl=k(`
				Last updated: just now`),Vl=p(),Wt=i("div"),Wt.innerHTML=sr,this.h()},l(o){t=n(o,"DIV",{class:!0});var m=u(t);a=n(m,"DIV",{class:!0});var pe=u(a);s=n(pe,"DIV",{class:!0});var et=u(s);c=n(et,"DIV",{class:!0});var tt=u(c);f=n(tt,"DIV",{class:!0});var st=u(f);R(_.$$.fragment,st),C=v(st),V=n(st,"H1",{class:!0,"data-svelte-h":!0}),q(V)!=="svelte-101alym"&&(V.textContent=z),st.forEach(d),_e=v(tt),le=n(tt,"DIV",{class:!0});var G=u(le);re=n(G,"SPAN",{class:!0});var vs=u(re);Kt=g(vs,"Uptime: "),Ve=g(vs,l[11]),vs.forEach(d),G.forEach(d),tt.forEach(d),ot=v(et),ne=n(et,"DIV",{class:!0});var dr=u(ne);K=n(dr,"BUTTON",{class:!0});var la=u(K);R(J.$$.fragment,la),Te=v(la),ge=g(la,Se),la.forEach(d),dr.forEach(d),et.forEach(d),pe.forEach(d),Re=v(m),w=n(m,"DIV",{class:!0});var at=u(w);U&&U.l(at),F=v(at),W=n(at,"DIV",{class:!0});var lt=u(W);ke=n(lt,"DIV",{class:!0});var ur=u(ke);X=n(ur,"DIV",{class:!0});var ra=u(X);B=n(ra,"DIV",{class:!0});var ps=u(B);h=n(ps,"DIV",{class:!0,"data-svelte-h":!0}),q(h)!=="svelte-1bt02cg"&&(h.textContent=Me),Qt=v(ps),te=n(ps,"DIV",{class:!0});var fr=u(te);Zt=g(fr,be),fr.forEach(d),Is=v(ps),Y=n(ps,"DIV",{class:!0});var na=u(Y);L&&L.l(na),Jt=v(na),Z=n(na,"SPAN",{class:!0,"data-svelte-h":!0}),q(Z)!=="svelte-y6m35s"&&(Z.textContent=Es),na.forEach(d),ps.forEach(d),dt=v(ra),$e=n(ra,"DIV",{class:!0});var hr=u($e);R(P.$$.fragment,hr),hr.forEach(d),ra.forEach(d),ur.forEach(d),j=v(lt),De=n(lt,"DIV",{class:!0});var vr=u(De);Ue=n(vr,"DIV",{class:!0});var ia=u(Ue);ie=n(ia,"DIV",{class:!0});var ms=u(ie);ut=n(ms,"DIV",{class:!0,"data-svelte-h":!0}),q(ut)!=="svelte-1am27fk"&&(ut.textContent=Hl),Ra=v(ms),Xt=n(ms,"DIV",{class:!0});var pr=u(Xt);Ls=g(pr,Cs),pr.forEach(d),Ma=v(ms),oe=n(ms,"DIV",{class:!0});var oa=u(oe);O&&O.l(oa),Ws=v(oa),ft=n(oa,"SPAN",{class:!0,"data-svelte-h":!0}),q(ft)!=="svelte-wzftd6"&&(ft.textContent=Wl),oa.forEach(d),ms.forEach(d),Ua=v(ia),Yt=n(ia,"DIV",{class:!0});var mr=u(Yt);R(ht.$$.fragment,mr),mr.forEach(d),ia.forEach(d),vr.forEach(d),Aa=v(lt),xt=n(lt,"DIV",{class:!0});var _r=u(xt);Ae=n(_r,"DIV",{class:!0});var ca=u(Ae);ce=n(ca,"DIV",{class:!0});var _s=u(ce);vt=n(_s,"DIV",{class:!0,"data-svelte-h":!0}),q(vt)!=="svelte-1keyw52"&&(vt.textContent=Bl),za=v(_s),es=n(_s,"DIV",{class:!0});var gr=u(es);js=g(gr,ws),gr.forEach(d),Pa=v(_s),ze=n(_s,"DIV",{class:!0});var da=u(ze);R(pt.$$.fragment,da),qa=v(da),ts=n(da,"SPAN",{"data-svelte-h":!0}),q(ts)!=="svelte-n3hjzh"&&(ts.textContent=jl),da.forEach(d),_s.forEach(d),Na=v(ca),ss=n(ca,"DIV",{class:!0});var kr=u(ss);R(mt.$$.fragment,kr),kr.forEach(d),ca.forEach(d),_r.forEach(d),La=v(lt),as=n(lt,"DIV",{class:!0});var br=u(as);Pe=n(br,"DIV",{class:!0});var ua=u(Pe);de=n(ua,"DIV",{class:!0});var gs=u(de);_t=n(gs,"DIV",{class:!0,"data-svelte-h":!0}),q(_t)!=="svelte-ipe35i"&&(_t.textContent=Ol),Fa=v(gs),ls=n(gs,"DIV",{class:!0});var $r=u(ls);Os=g($r,ys),$r.forEach(d),Ha=v(gs),qe=n(gs,"DIV",{class:!0});var fa=u(qe);R(gt.$$.fragment,fa),Wa=v(fa),rs=n(fa,"SPAN",{});var Sl=u(rs);Gs=g(Sl,l[13]),Ba=g(Sl," req/min"),Sl.forEach(d),fa.forEach(d),gs.forEach(d),ja=v(ua),ns=n(ua,"DIV",{class:!0});var Dr=u(ns);R(kt.$$.fragment,Dr),Dr.forEach(d),ua.forEach(d),br.forEach(d),lt.forEach(d),Oa=v(at),Ne=n(at,"DIV",{class:!0});var ha=u(Ne);x=n(ha,"DIV",{class:!0});var rt=u(x);Le=n(rt,"DIV",{class:!0});var va=u(Le);bt=n(va,"H3",{class:!0,"data-svelte-h":!0}),q(bt)!=="svelte-1da7n57"&&(bt.textContent=Gl),Ga=v(va),Fe=n(va,"DIV",{class:!0});var pa=u(Fe);ee=n(pa,"SELECT",{class:!0});var Ir=u(ee);for(let ql=0;ql<H.length;ql+=1)H[ql].l(Ir);Ir.forEach(d),Ka=v(pa),Ie=n(pa,"DIV",{class:!0});var ma=u(Ie);Ee=n(ma,"SPAN",{class:!0});var Ps=u(Ee);R($t.$$.fragment,Ps),Qa=v(Ps),Ks=g(Ps,l[15]),Za=g(Ps,"ms avg"),Ps.forEach(d),Ja=v(ma),A&&A.l(ma),ma.forEach(d),pa.forEach(d),va.forEach(d),Xa=v(rt),Dt=n(rt,"DIV",{class:!0,"data-svelte-h":!0}),q(Dt)!=="svelte-1ngyt46"&&(Dt.innerHTML=Kl),Ya=v(rt),Ce=n(rt,"DIV",{class:!0,style:!0});var _a=u(Ce);It=n(_a,"H3",{class:!0,"data-svelte-h":!0}),q(It)!=="svelte-1afm648"&&(It.textContent=Ql),xa=v(_a),is=n(_a,"DIV",{class:!0});var Er=u(is);we=n(Er,"SPAN",{class:!0,style:!0});var Rl=u(we);R(Et.$$.fragment,Rl),el=g(Rl,`
						Live monitoring`),Rl.forEach(d),Er.forEach(d),_a.forEach(d),tl=v(rt),Ct=n(rt,"DIV",{class:!0,"data-svelte-h":!0}),q(Ct)!=="svelte-15fqpzl"&&(Ct.innerHTML=Zl),rt.forEach(d),sl=v(ha),ue=n(ha,"DIV",{class:!0});var ks=u(ue);He=n(ks,"DIV",{class:!0});var ga=u(He);wt=n(ga,"H3",{class:!0,"data-svelte-h":!0}),q(wt)!=="svelte-1p8dfn1"&&(wt.textContent=Jl),al=v(ga),We=n(ga,"SPAN",{class:!0});var Cr=u(We);ae.l(Cr),Cr.forEach(d),ga.forEach(d),ll=v(ks),fe=n(ks,"DIV",{class:!0});var bs=u(fe);Be=n(bs,"DIV",{class:!0});var ka=u(Be);je=n(ka,"DIV",{class:!0});var ba=u(je);yt=n(ba,"SPAN",{class:!0,"data-svelte-h":!0}),q(yt)!=="svelte-1juilll"&&(yt.textContent=Xl),rl=v(ba),Vt=n(ba,"SPAN",{class:!0});var Ml=u(Vt);Zs=g(Ml,Vs),nl=g(Ml,"%"),Ml.forEach(d),ba.forEach(d),il=v(ka),os=n(ka,"DIV",{class:!0});var wr=u(os);Tt=n(wr,"DIV",{class:!0,style:!0}),u(Tt).forEach(d),wr.forEach(d),ka.forEach(d),ol=v(bs),he=n(bs,"DIV",{class:!0});var $s=u(he);Oe=n($s,"DIV",{class:!0});var $a=u(Oe);St=n($a,"SPAN",{class:!0,"data-svelte-h":!0}),q(St)!=="svelte-1dko2k1"&&(St.textContent=Yl),cl=v($a),Rt=n($a,"SPAN",{class:!0});var Ul=u(Rt);Js=g(Ul,Ts),dl=g(Ul,"%"),Ul.forEach(d),$a.forEach(d),ul=v($s),cs=n($s,"DIV",{class:!0});var yr=u(cs);Mt=n(yr,"DIV",{class:!0,style:!0}),u(Mt).forEach(d),yr.forEach(d),fl=v($s),Ge=n($s,"DIV",{class:!0});var Da=u(Ge);Xs=g(Da,Ss),hl=g(Da," / "),Ys=g(Da,Rs),Da.forEach(d),$s.forEach(d),vl=v(bs),ve=n(bs,"DIV",{class:!0});var Ds=u(ve);Ke=n(Ds,"DIV",{class:!0});var Ia=u(Ke);Ut=n(Ia,"SPAN",{class:!0,"data-svelte-h":!0}),q(Ut)!=="svelte-1jqd3tx"&&(Ut.textContent=xl),pl=v(Ia),At=n(Ia,"SPAN",{class:!0});var Al=u(At);xs=g(Al,Ms),ml=g(Al,"%"),Al.forEach(d),Ia.forEach(d),_l=v(Ds),ds=n(Ds,"DIV",{class:!0});var Vr=u(ds);zt=n(Vr,"DIV",{class:!0,style:!0}),u(zt).forEach(d),Vr.forEach(d),gl=v(Ds),Qe=n(Ds,"DIV",{class:!0});var Ea=u(Qe);ea=g(Ea,Us),kl=g(Ea," / "),ta=g(Ea,As),Ea.forEach(d),Ds.forEach(d),bs.forEach(d),bl=v(ks),Ze=n(ks,"DIV",{class:!0});var Ca=u(Ze);Je=n(Ca,"DIV",{class:!0});var wa=u(Je);Pt=n(wa,"SPAN",{class:!0,"data-svelte-h":!0}),q(Pt)!=="svelte-1dqjwhc"&&(Pt.textContent=er),$l=v(wa),us=n(wa,"STRONG",{class:!0});var Tr=u(us);sa=g(Tr,zs),Tr.forEach(d),wa.forEach(d),Dl=v(Ca),Xe=n(Ca,"DIV",{class:!0});var ya=u(Xe);qt=n(ya,"SPAN",{class:!0,"data-svelte-h":!0}),q(qt)!=="svelte-tbfkpi"&&(qt.textContent=tr),Il=v(ya),fs=n(ya,"STRONG",{class:!0});var Sr=u(fs);aa=g(Sr,l[11]),Sr.forEach(d),ya.forEach(d),Ca.forEach(d),ks.forEach(d),ha.forEach(d),El=v(at),Ye=n(at,"DIV",{class:!0});var Va=u(Ye);xe=n(Va,"DIV",{class:!0});var Ta=u(xe);Nt=n(Ta,"SPAN",{class:!0});var zl=u(Nt);R(Lt.$$.fragment,zl),Cl=g(zl,`
				All systems operational`),zl.forEach(d),wl=v(Ta),Ft=n(Ta,"SPAN",{class:!0});var Pl=u(Ft);R(Ht.$$.fragment,Pl),yl=g(Pl,`
				Last updated: just now`),Pl.forEach(d),Ta.forEach(d),Vl=v(Va),Wt=n(Va,"DIV",{class:!0,"data-svelte-h":!0}),q(Wt)!=="svelte-13mhwyx"&&(Wt.innerHTML=sr),Va.forEach(d),at.forEach(d),m.forEach(d),this.h()},h(){r(V,"class","svelte-hlptk"),r(f,"class","header-title svelte-hlptk"),r(re,"class","meta-item svelte-hlptk"),r(le,"class","header-meta svelte-hlptk"),r(c,"class","header-left svelte-hlptk"),r(K,"class","refresh-button svelte-hlptk"),K.disabled=l[4],r(ne,"class","header-actions svelte-hlptk"),r(s,"class","header-content svelte-hlptk"),r(a,"class","page-header svelte-hlptk"),r(h,"class","metric-label svelte-hlptk"),r(te,"class","metric-value svelte-hlptk"),r(Z,"class","svelte-hlptk"),r(Y,"class",ct="metric-trend "+it(l[8],l[17].users)+" svelte-hlptk"),r(B,"class","metric-info"),r($e,"class","metric-icon svelte-hlptk"),r(X,"class","metric-content svelte-hlptk"),r(ke,"class","metric-card users svelte-hlptk"),r(ut,"class","metric-label svelte-hlptk"),r(Xt,"class","metric-value svelte-hlptk"),r(ft,"class","svelte-hlptk"),r(oe,"class",Bs="metric-trend "+it(l[9],l[17].rows)+" svelte-hlptk"),r(ie,"class","metric-info"),r(Yt,"class","metric-icon svelte-hlptk"),r(Ue,"class","metric-content svelte-hlptk"),r(De,"class","metric-card database svelte-hlptk"),r(vt,"class","metric-label svelte-hlptk"),r(es,"class","metric-value svelte-hlptk"),r(ze,"class","metric-trend svelte-hlptk"),r(ce,"class","metric-info"),r(ss,"class","metric-icon svelte-hlptk"),r(Ae,"class","metric-content svelte-hlptk"),r(xt,"class","metric-card storage svelte-hlptk"),r(_t,"class","metric-label svelte-hlptk"),r(ls,"class","metric-value svelte-hlptk"),r(qe,"class","metric-trend svelte-hlptk"),r(de,"class","metric-info"),r(ns,"class","metric-icon svelte-hlptk"),r(Pe,"class","metric-content svelte-hlptk"),r(as,"class","metric-card requests svelte-hlptk"),r(W,"class","metrics-grid svelte-hlptk"),r(bt,"class","svelte-hlptk"),r(ee,"class","time-range-select svelte-hlptk"),l[3]===void 0&&en(()=>l[24].call(ee)),r(Ee,"class","stat-badge good svelte-hlptk"),r(Ie,"class","header-stats svelte-hlptk"),r(Fe,"class","chart-controls svelte-hlptk"),r(Le,"class","card-header svelte-hlptk"),r(Dt,"class","chart-container svelte-hlptk"),r(It,"class","svelte-hlptk"),r(we,"class","stat-badge svelte-hlptk"),ye(we,"background","#e9d5ff"),ye(we,"color","#6b1a8d"),r(is,"class","header-stats svelte-hlptk"),r(Ce,"class","card-header svelte-hlptk"),ye(Ce,"border-top","1px solid #f3f4f6"),r(Ct,"class","chart-container svelte-hlptk"),r(x,"class","chart-card svelte-hlptk"),r(wt,"class","svelte-hlptk"),r(We,"class",Qs="health-indicator "+l[18]+" svelte-hlptk"),r(He,"class","card-header svelte-hlptk"),r(yt,"class","svelte-hlptk"),r(Vt,"class","health-percent svelte-hlptk"),r(je,"class","health-header svelte-hlptk"),r(Tt,"class","health-fill cpu svelte-hlptk"),ye(Tt,"width",l[0]+"%"),r(os,"class","health-bar svelte-hlptk"),r(Be,"class","health-item svelte-hlptk"),r(St,"class","svelte-hlptk"),r(Rt,"class","health-percent svelte-hlptk"),r(Oe,"class","health-header svelte-hlptk"),r(Mt,"class","health-fill memory svelte-hlptk"),ye(Mt,"width",l[1]+"%"),r(cs,"class","health-bar svelte-hlptk"),r(Ge,"class","health-detail svelte-hlptk"),r(he,"class","health-item svelte-hlptk"),r(Ut,"class","svelte-hlptk"),r(At,"class","health-percent svelte-hlptk"),r(Ke,"class","health-header svelte-hlptk"),r(zt,"class","health-fill disk svelte-hlptk"),ye(zt,"width",l[2]+"%"),r(ds,"class","health-bar svelte-hlptk"),r(Qe,"class","health-detail svelte-hlptk"),r(ve,"class","health-item svelte-hlptk"),r(fe,"class","health-metrics svelte-hlptk"),r(Pt,"class","svelte-hlptk"),r(us,"class","svelte-hlptk"),r(Je,"class","footer-stat svelte-hlptk"),r(qt,"class","svelte-hlptk"),r(fs,"class","svelte-hlptk"),r(Xe,"class","footer-stat svelte-hlptk"),r(Ze,"class","health-footer svelte-hlptk"),r(ue,"class","health-card svelte-hlptk"),r(Ne,"class","monitoring-row svelte-hlptk"),r(Nt,"class","status-item svelte-hlptk"),r(Ft,"class","status-item svelte-hlptk"),r(xe,"class","status-left svelte-hlptk"),r(Wt,"class","status-right svelte-hlptk"),r(Ye,"class","status-bar svelte-hlptk"),r(w,"class","dashboard-content svelte-hlptk"),r(t,"class","dashboard-container svelte-hlptk")},m(o,m){Gt(o,t,m),e(t,a),e(a,s),e(s,c),e(c,f),S(_,f,null),e(f,C),e(f,V),e(c,_e),e(c,le),e(le,re),e(re,Kt),e(re,Ve),e(s,ot),e(s,ne),e(ne,K),S(J,K,null),e(K,Te),e(K,ge),e(t,Re),e(t,w),U&&U.m(w,null),e(w,F),e(w,W),e(W,ke),e(ke,X),e(X,B),e(B,h),e(B,Qt),e(B,te),e(te,Zt),e(B,Is),e(B,Y),~I&&Bt[I].m(Y,null),e(Y,Jt),e(Y,Z),e(X,dt),e(X,$e),S(P,$e,null),e(W,j),e(W,De),e(De,Ue),e(Ue,ie),e(ie,ut),e(ie,Ra),e(ie,Xt),e(Xt,Ls),e(ie,Ma),e(ie,oe),~Q&&jt[Q].m(oe,null),e(oe,Ws),e(oe,ft),e(Ue,Ua),e(Ue,Yt),S(ht,Yt,null),e(W,Aa),e(W,xt),e(xt,Ae),e(Ae,ce),e(ce,vt),e(ce,za),e(ce,es),e(es,js),e(ce,Pa),e(ce,ze),S(pt,ze,null),e(ze,qa),e(ze,ts),e(Ae,Na),e(Ae,ss),S(mt,ss,null),e(W,La),e(W,as),e(as,Pe),e(Pe,de),e(de,_t),e(de,Fa),e(de,ls),e(ls,Os),e(de,Ha),e(de,qe),S(gt,qe,null),e(qe,Wa),e(qe,rs),e(rs,Gs),e(rs,Ba),e(Pe,ja),e(Pe,ns),S(kt,ns,null),e(w,Oa),e(w,Ne),e(Ne,x),e(x,Le),e(Le,bt),e(Le,Ga),e(Le,Fe),e(Fe,ee);for(let pe=0;pe<H.length;pe+=1)H[pe]&&H[pe].m(ee,null);Mr(ee,l[3],!0),e(Fe,Ka),e(Fe,Ie),e(Ie,Ee),S($t,Ee,null),e(Ee,Qa),e(Ee,Ks),e(Ee,Za),e(Ie,Ja),A&&A.m(Ie,null),e(x,Xa),e(x,Dt),e(x,Ya),e(x,Ce),e(Ce,It),e(Ce,xa),e(Ce,is),e(is,we),S(Et,we,null),e(we,el),e(x,tl),e(x,Ct),e(Ne,sl),e(Ne,ue),e(ue,He),e(He,wt),e(He,al),e(He,We),Ot[se].m(We,null),e(ue,ll),e(ue,fe),e(fe,Be),e(Be,je),e(je,yt),e(je,rl),e(je,Vt),e(Vt,Zs),e(Vt,nl),e(Be,il),e(Be,os),e(os,Tt),e(fe,ol),e(fe,he),e(he,Oe),e(Oe,St),e(Oe,cl),e(Oe,Rt),e(Rt,Js),e(Rt,dl),e(he,ul),e(he,cs),e(cs,Mt),e(he,fl),e(he,Ge),e(Ge,Xs),e(Ge,hl),e(Ge,Ys),e(fe,vl),e(fe,ve),e(ve,Ke),e(Ke,Ut),e(Ke,pl),e(Ke,At),e(At,xs),e(At,ml),e(ve,_l),e(ve,ds),e(ds,zt),e(ve,gl),e(ve,Qe),e(Qe,ea),e(Qe,kl),e(Qe,ta),e(ue,bl),e(ue,Ze),e(Ze,Je),e(Je,Pt),e(Je,$l),e(Je,us),e(us,sa),e(Ze,Dl),e(Ze,Xe),e(Xe,qt),e(Xe,Il),e(Xe,fs),e(fs,aa),e(w,El),e(w,Ye),e(Ye,xe),e(xe,Nt),S(Lt,Nt,null),e(Nt,Cl),e(xe,wl),e(xe,Ft),S(Ht,Ft,null),e(Ft,yl),e(Ye,Vl),e(Ye,Wt),E=!0,Tl||(ar=[Nl(K,"click",l[20]),Nl(ee,"change",l[24]),Nl(ee,"change",l[21])],Tl=!0)},p(o,m){(!E||m[0]&2048)&&N(Ve,o[11]);const pe={};m[0]&16&&(pe.class=o[4]?"spinning":""),J.$set(pe),(!E||m[0]&16)&&Se!==(Se=o[4]?"Refreshing...":"Refresh")&&N(ge,Se),(!E||m[0]&16)&&(K.disabled=o[4]),o[5]?U?(U.p(o,m),m[0]&32&&b(U,1)):(U=Lr(o),U.c(),b(U,1),U.m(w,F)):U&&(Ns(),$(U,1,1,()=>{U=null}),qs()),(!E||m[0]&256)&&be!==(be=nt(o[8])+"")&&N(Zt,be);let et=I;I=rr(o,m),I!==et&&(L&&(Ns(),$(Bt[et],1,1,()=>{Bt[et]=null}),qs()),~I?(L=Bt[I],L||(L=Bt[I]=lr[I](o),L.c()),b(L,1),L.m(Y,Jt)):L=null),(!E||m[0]&131328&&ct!==(ct="metric-trend "+it(o[8],o[17].users)+" svelte-hlptk"))&&r(Y,"class",ct),(!E||m[0]&512)&&Cs!==(Cs=nt(o[9])+"")&&N(Ls,Cs);let tt=Q;if(Q=ir(o,m),Q!==tt&&(O&&(Ns(),$(jt[tt],1,1,()=>{jt[tt]=null}),qs()),~Q?(O=jt[Q],O||(O=jt[Q]=nr[Q](o),O.c()),b(O,1),O.m(oe,Ws)):O=null),(!E||m[0]&131584&&Bs!==(Bs="metric-trend "+it(o[9],o[17].rows)+" svelte-hlptk"))&&r(oe,"class",Bs),(!E||m[0]&1024)&&ws!==(ws=me(o[10])+"")&&N(js,ws),(!E||m[0]&4096)&&ys!==(ys=nt(o[12])+"")&&N(Os,ys),(!E||m[0]&8192)&&N(Gs,o[13]),m[0]&524288){hs=Ar(Object.entries(o[19]));let G;for(G=0;G<hs.length;G+=1){const vs=Nr(o,hs,G);H[G]?H[G].p(vs,m):(H[G]=Fr(vs),H[G].c(),H[G].m(ee,null))}for(;G<H.length;G+=1)H[G].d(1);H.length=hs.length}m[0]&524296&&Mr(ee,o[3]),(!E||m[0]&32768)&&N(Ks,o[15]),o[16]>0?A?(A.p(o,m),m[0]&65536&&b(A,1)):(A=Hr(o),A.c(),b(A,1),A.m(Ie,null)):A&&(Ns(),$(A,1,1,()=>{A=null}),qs());let st=se;se=cr(o),se!==st&&(Ns(),$(Ot[st],1,1,()=>{Ot[st]=null}),qs(),ae=Ot[se],ae||(ae=Ot[se]=or[se](o),ae.c()),b(ae,1),ae.m(We,null)),(!E||m[0]&262144&&Qs!==(Qs="health-indicator "+o[18]+" svelte-hlptk"))&&r(We,"class",Qs),(!E||m[0]&1)&&Vs!==(Vs=o[0].toFixed(0)+"")&&N(Zs,Vs),(!E||m[0]&1)&&ye(Tt,"width",o[0]+"%"),(!E||m[0]&2)&&Ts!==(Ts=o[1].toFixed(0)+"")&&N(Js,Ts),(!E||m[0]&2)&&ye(Mt,"width",o[1]+"%"),(!E||m[0]&64)&&Ss!==(Ss=me(o[6].used)+"")&&N(Xs,Ss),(!E||m[0]&64)&&Rs!==(Rs=me(o[6].total)+"")&&N(Ys,Rs),(!E||m[0]&4)&&Ms!==(Ms=o[2].toFixed(0)+"")&&N(xs,Ms),(!E||m[0]&4)&&ye(zt,"width",o[2]+"%"),(!E||m[0]&128)&&Us!==(Us=me(o[7].used)+"")&&N(ea,Us),(!E||m[0]&128)&&As!==(As=me(o[7].total)+"")&&N(ta,As),(!E||m[0]&16384)&&zs!==(zs=nt(o[14])+"")&&N(sa,zs),(!E||m[0]&2048)&&N(aa,o[11])},i(o){E||(b(_.$$.fragment,o),b(J.$$.fragment,o),b(U),b(L),b(P.$$.fragment,o),b(O),b(ht.$$.fragment,o),b(pt.$$.fragment,o),b(mt.$$.fragment,o),b(gt.$$.fragment,o),b(kt.$$.fragment,o),b($t.$$.fragment,o),b(A),b(Et.$$.fragment,o),b(ae),b(Lt.$$.fragment,o),b(Ht.$$.fragment,o),E=!0)},o(o){$(_.$$.fragment,o),$(J.$$.fragment,o),$(U),$(L),$(P.$$.fragment,o),$(O),$(ht.$$.fragment,o),$(pt.$$.fragment,o),$(mt.$$.fragment,o),$(gt.$$.fragment,o),$(kt.$$.fragment,o),$($t.$$.fragment,o),$(A),$(Et.$$.fragment,o),$(ae),$(Lt.$$.fragment,o),$(Ht.$$.fragment,o),E=!1},d(o){o&&d(t),T(_),T(J),U&&U.d(),~I&&Bt[I].d(),T(P),~Q&&jt[Q].d(),T(ht),T(pt),T(mt),T(gt),T(kt),Yr(H,o),T($t),A&&A.d(),T(Et),Ot[se].d(),T(Lt),T(Ht),Tl=!1,xr(ar)}}}function me(l){if(l===0)return"0 B";const t=1024,a=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(l)/Math.log(t));return parseFloat((l/Math.pow(t,s)).toFixed(1))+" "+a[s]}function nt(l){return l>=1e6?(l/1e6).toFixed(1)+"M":l>=1e3?(l/1e3).toFixed(1)+"K":l.toString()}function it(l,t){return t===0?"stable":l>t?"up":l<t?"down":"stable"}function Mn(l,t,a){return l>90||t>90||a>90?"critical":l>70||t>70||a>70?"warning":"healthy"}function Un(l,t,a){let s,c,f,_;Ur(l,cn,y=>a(22,f=y)),Ur(l,dn,y=>a(23,_=y)),Ll.register(...on);let C=!0,V="",z=0,_e=0,le=0,re={used:0,total:0},Kt={used:0,total:0},Ve=0,ot=0,ne=0,K="0h 0m",J=0,Te=0,Se=0,ge=0,Re=0,w=null,F=null,W=null,ke={users:0,rows:0,storage:0,requests:0};const X={"10m":{label:"Last 10 minutes",points:20,interval:30*1e3,format:{hour:"2-digit",minute:"2-digit",second:"2-digit"}},"6h":{label:"Last 6 hours",points:72,interval:5*60*1e3,format:{hour:"2-digit",minute:"2-digit"}},"24h":{label:"Last 24 hours",points:48,interval:30*60*1e3,format:{hour:"2-digit",minute:"2-digit"}},"7d":{label:"Last 7 days",points:84,interval:2*60*60*1e3,format:{month:"short",day:"numeric",hour:"2-digit"}}};let B="6h",h={timestamps:[],requestsPerMin:[],responseTime:[],cpuUsage:[],memoryUsage:[],errorRate:[]},Me=0;function Qt(){const y=document.getElementById("performance-chart");y&&(w&&(w.destroy(),w=null),w=new Ll(y,{type:"line",data:{labels:h.timestamps.length>0?h.timestamps:Array(s.points).fill(""),datasets:[{label:"Requests/min",data:h.requestsPerMin.length>0?h.requestsPerMin:Array(s.points).fill(0),borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:1.5,tension:.4,pointRadius:0,fill:!0},{label:"Response Time (ms)",data:h.responseTime.length>0?h.responseTime:Array(s.points).fill(0),borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",borderWidth:1.5,tension:.4,pointRadius:0,fill:!0,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{boxWidth:8,boxHeight:8,padding:10,font:{size:11},usePointStyle:!0}},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:11},bodyFont:{size:10},padding:8,cornerRadius:4}},scales:{x:{display:!0,grid:{display:!1},ticks:{font:{size:9},maxRotation:45,minRotation:45,autoSkip:!0,maxTicksLimit:12}},y:{display:!0,position:"left",grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:10},padding:4}},y1:{display:!0,position:"right",grid:{display:!1},ticks:{font:{size:10},padding:4}}}}}));const D=document.getElementById("activity-chart");D&&(F&&(F.destroy(),F=null),F=new Ll(D,{type:"line",data:{labels:h.timestamps.length>0?h.timestamps:Array(s.points).fill(""),datasets:[{label:"CPU %",data:h.cpuUsage.length>0?h.cpuUsage:Array(s.points).fill(0),borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:1.5,tension:.4,pointRadius:0,fill:!0},{label:"Memory %",data:h.memoryUsage.length>0?h.memoryUsage:Array(s.points).fill(0),borderColor:"#f59e0b",backgroundColor:"rgba(245, 158, 11, 0.1)",borderWidth:1.5,tension:.4,pointRadius:0,fill:!0},{label:"Error Rate %",data:h.errorRate.length>0?h.errorRate:Array(s.points).fill(0),borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",borderWidth:1.5,tension:.4,pointRadius:0,fill:!0,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!0,position:"top",labels:{boxWidth:8,boxHeight:8,padding:10,font:{size:11},usePointStyle:!0}},tooltip:{enabled:!0,backgroundColor:"rgba(0, 0, 0, 0.8)",titleFont:{size:11},bodyFont:{size:10},padding:8,cornerRadius:4}},scales:{x:{display:!0,grid:{display:!1},ticks:{font:{size:9},maxRotation:45,minRotation:45,autoSkip:!0,maxTicksLimit:12}},y:{display:!0,position:"left",grid:{display:!0,color:"rgba(0, 0, 0, 0.05)"},ticks:{font:{size:10},padding:4},min:0,max:100},y1:{display:!0,position:"right",grid:{display:!1},ticks:{font:{size:10},padding:4},min:0,max:10}}}}))}function te(y=!1){const D=Date.now();if(!y&&Me&&D-Me<s.interval){if(h.timestamps.length>0){const I=h.timestamps.length-1;h.requestsPerMin[I]=Te,h.responseTime[I]=ge,h.cpuUsage[I]=z,h.memoryUsage[I]=_e,h.errorRate[I]=Re}}else{const I=new Date(D).toLocaleTimeString("en-US",{hour12:!1,...s.format});h.timestamps.length>=s.points&&(h.timestamps.shift(),h.requestsPerMin.shift(),h.responseTime.shift(),h.cpuUsage.shift(),h.memoryUsage.shift(),h.errorRate.shift()),h.timestamps.push(I),h.requestsPerMin.push(Te),h.responseTime.push(ge),h.cpuUsage.push(z),h.memoryUsage.push(_e),h.errorRate.push(Re),Me=D}w&&(w.data.labels=h.timestamps,w.data.datasets[0].data=h.requestsPerMin,w.data.datasets[1].data=h.responseTime,w.update("none")),F&&(F.data.labels=h.timestamps,F.data.datasets[0].data=h.cpuUsage,F.data.datasets[1].data=h.memoryUsage,F.data.datasets[2].data=h.errorRate,F.update("none"))}async function be(){try{const y=await zr.get("/dashboard/stats");a(17,ke={users:Ve,rows:ot,storage:ne,requests:J}),a(8,Ve=y.total_users||0),a(9,ot=y.total_rows||0),a(10,ne=y.total_storage_used||0);const D=await zr.get("/admin/system/metrics");a(0,z=D.cpu_usage||0),a(1,_e=D.memory_usage||0),a(2,le=D.disk_usage||0),a(11,K=D.uptime||"0h 0m"),a(6,re={used:D.memory_used||0,total:D.memory_total||0}),a(7,Kt={used:D.disk_used||0,total:D.disk_total||0});const Jt=(await(await fetch("/api/metrics")).text()).split(`
`);let Z=0,Es=0,ct=0,dt=0,$e=0;Jt.forEach(P=>{if(P.startsWith("http_requests_total{")){const j=P.match(/} (\d+)/);if(j&&(Z+=parseInt(j[1])),P.includes('status="4')||P.includes('status="5')){const De=P.match(/} (\d+)/);De&&($e+=parseInt(De[1]))}}if(P.startsWith("database_queries_total{")){const j=P.match(/} (\d+)/);j&&(Es+=parseInt(j[1]))}if(P.startsWith("http_request_duration_seconds_sum{")){const j=P.match(/} ([\d.]+)/);j&&(ct+=parseFloat(j[1]))}if(P.startsWith("http_request_duration_seconds_count{")){const j=P.match(/} (\d+)/);j&&(dt+=parseInt(j[1]))}}),a(12,J=Z),a(14,Se=Es),a(15,ge=dt>0?Math.round(ct/dt*1e3):0),a(16,Re=Z>0?parseFloat(($e/Z*100).toFixed(1)):0),a(13,Te=Math.round(Z/60)),te(),a(4,C=!1),a(5,V="")}catch(y){console.error("Failed to fetch dashboard data:",y),a(5,V="Failed to load dashboard data"),a(4,C=!1)}}async function Zt(){a(4,C=!0),await be()}function Is(){h={timestamps:[],requestsPerMin:[],responseTime:[],cpuUsage:[],memoryUsage:[],errorRate:[]};const y=new Date;for(let D=s.points-1;D>=0;D--){const I=new Date(y.getTime()-D*s.interval),L=B==="7d"?I.toLocaleDateString("en-US",s.format):I.toLocaleTimeString("en-US",{hour12:!1,...s.format});h.timestamps.push(L),h.requestsPerMin.push(Math.random()*50+10),h.responseTime.push(Math.random()*100+50),h.cpuUsage.push(Math.random()*30+20),h.memoryUsage.push(Math.random()*40+30),h.errorRate.push(Math.random()*2)}Me=y.getTime(),setTimeout(()=>{Qt(),te(!0)},100)}tn(async()=>{const y=new Date;for(let D=s.points-1;D>=0;D--){const I=new Date(y.getTime()-D*s.interval);h.timestamps.push(I.toLocaleTimeString("en-US",{hour12:!1,...s.format})),h.requestsPerMin.push(Math.random()*50+10),h.responseTime.push(Math.random()*100+50),h.cpuUsage.push(Math.random()*30+20),h.memoryUsage.push(Math.random()*40+30),h.errorRate.push(Math.random()*2)}Me=y.getTime(),await be(),setTimeout(()=>{Qt(),te(!0)},100),W=setInterval(async()=>{await be(),te()},3e4)}),sn(()=>{W&&clearInterval(W),w&&w.destroy(),F&&F.destroy()});function Y(){B=rn(this),a(3,B),a(19,X)}return l.$$.update=()=>{l.$$.dirty[0]&12582912&&_&&(!f||!f.includes("admin"))&&nn("/profile"),l.$$.dirty[0]&8&&(s=X[B]),l.$$.dirty[0]&7&&a(18,c=Mn(z,_e,le))},[z,_e,le,B,C,V,re,Kt,Ve,ot,ne,K,J,Te,Se,ge,Re,ke,c,X,Zt,Is,f,_,Y]}class ti extends Wr{constructor(t){super(),Br(this,t,Un,Rn,jr,{},null,[-1,-1])}}export{ti as component};
