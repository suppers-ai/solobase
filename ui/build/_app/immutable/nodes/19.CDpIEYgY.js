import{S as $t,i as zt,s as wt,v as Ne,w as ee,o as A,p as D,x as te,y as re,z as le,A as Je,m as At,u as Ot,q as St,r as Mt,d as v,I as sl,B as qe,a as _e,L as Fl,K as Ke,C as h,D as be,b as J,c as o,E as Z,T as De,e as m,f as $,h as C,F as ne,g as X,G as mt,j as _,k as E,t as x,H as ps,J as ke,n as Lt,U as _t,V as st,Z as gs,a6 as Ul,Y as ml,aa as Bl,a9 as Vl}from"../chunks/zFlxOerl.js";import{e as nt}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{a as kt}from"../chunks/DCFqKId7.js";import{E as bs}from"../chunks/DBxsQYV1.js";import{F as ks}from"../chunks/m2AI4VpE.js";import{r as $s}from"../chunks/gmZdcT_s.js";import{H as zl}from"../chunks/hgCRLMmt.js";import{F as Rt}from"../chunks/B-JtTtVB.js";import{R as us}from"../chunks/IQb7G7yL.js";import{S as zs}from"../chunks/BHykEQ2L.js";import{g as Ht,a as qt}from"../chunks/CgU5AtxT.js";import{I as Gt}from"../chunks/CMwymEQl.js";import{U as ds}from"../chunks/CTdwF5yA.js";import{X as Kt}from"../chunks/DL19c4Kb.js";import{D as pl}from"../chunks/BcAF1UnD.js";import{F as wl}from"../chunks/vlea8yzD.js";import{C as ws}from"../chunks/C32pWIXl.js";import{A as js,M as Cs,F as Es}from"../chunks/TReTaKVG.js";import{F as ys}from"../chunks/Dwwz9VQt.js";import{C as Ts}from"../chunks/cB1wwGsa.js";import{C as Is}from"../chunks/B4Vv3OTz.js";import{C as Ds}from"../chunks/C81wylUS.js";import{T as jl}from"../chunks/DJ4sMUdZ.js";import{M as hs}from"../chunks/B-ZY5R7k.js";import{P as ms}from"../chunks/BHS_iQfo.js";import{E as _s}from"../chunks/B8bWqMfR.js";function Ns(n){let e;const t=n[2].default,l=At(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&8)&&Ot(l,t,s,s[3],e?Mt(t,s[3],r,null):St(s[3]),null)},i(s){e||(D(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function Fs(n){let e,t;const l=[{name:"folder-plus"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Ns]},$$scope:{ctx:n}};for(let r=0;r<l.length;r+=1)s=Ne(s,l[r]);return e=new Gt({props:s}),{c(){le(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,a){te(e,r,a),t=!0},p(r,[a]){const i=a&3?Ht(l,[l[0],a&2&&qt(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function Us(n,e,t){let{$$slots:l={},$$scope:s}=e;const r=[["path",{d:"M12 10v6"}],["path",{d:"M9 13h6"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];return n.$$set=a=>{t(1,e=Ne(Ne({},e),Je(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Je(e),[r,e,l,s]}class vs extends $t{constructor(e){super(),zt(this,e,Us,Fs,wt,{})}}function Bs(n){let e;const t=n[2].default,l=At(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&8)&&Ot(l,t,s,s[3],e?Mt(t,s[3],r,null):St(s[3]),null)},i(s){e||(D(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function Vs(n){let e,t;const l=[{name:"folder-tree"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Bs]},$$scope:{ctx:n}};for(let r=0;r<l.length;r+=1)s=Ne(s,l[r]);return e=new Gt({props:s}),{c(){le(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,a){te(e,r,a),t=!0},p(r,[a]){const i=a&3?Ht(l,[l[0],a&2&&qt(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function Ps(n,e,t){let{$$slots:l={},$$scope:s}=e;const r=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3"}]];return n.$$set=a=>{t(1,e=Ne(Ne({},e),Je(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Je(e),[r,e,l,s]}class As extends $t{constructor(e){super(),zt(this,e,Ps,Vs,wt,{})}}function Os(n){let e;const t=n[2].default,l=At(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&8)&&Ot(l,t,s,s[3],e?Mt(t,s[3],r,null):St(s[3]),null)},i(s){e||(D(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function Ss(n){let e,t;const l=[{name:"grid-3x3"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Os]},$$scope:{ctx:n}};for(let r=0;r<l.length;r+=1)s=Ne(s,l[r]);return e=new Gt({props:s}),{c(){le(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,a){te(e,r,a),t=!0},p(r,[a]){const i=a&3?Ht(l,[l[0],a&2&&qt(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function Ms(n,e,t){let{$$slots:l={},$$scope:s}=e;const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];return n.$$set=a=>{t(1,e=Ne(Ne({},e),Je(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Je(e),[r,e,l,s]}class Ls extends $t{constructor(e){super(),zt(this,e,Ms,Ss,wt,{})}}function Rs(n){let e;const t=n[2].default,l=At(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&8)&&Ot(l,t,s,s[3],e?Mt(t,s[3],r,null):St(s[3]),null)},i(s){e||(D(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function Hs(n){let e,t;const l=[{name:"image"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Rs]},$$scope:{ctx:n}};for(let r=0;r<l.length;r+=1)s=Ne(s,l[r]);return e=new Gt({props:s}),{c(){le(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,a){te(e,r,a),t=!0},p(r,[a]){const i=a&3?Ht(l,[l[0],a&2&&qt(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function qs(n,e,t){let{$$slots:l={},$$scope:s}=e;const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];return n.$$set=a=>{t(1,e=Ne(Ne({},e),Je(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Je(e),[r,e,l,s]}class Gs extends $t{constructor(e){super(),zt(this,e,qs,Hs,wt,{})}}function Ks(n){let e;const t=n[2].default,l=At(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&8)&&Ot(l,t,s,s[3],e?Mt(t,s[3],r,null):St(s[3]),null)},i(s){e||(D(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function Zs(n){let e,t;const l=[{name:"list"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Ks]},$$scope:{ctx:n}};for(let r=0;r<l.length;r+=1)s=Ne(s,l[r]);return e=new Gt({props:s}),{c(){le(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,a){te(e,r,a),t=!0},p(r,[a]){const i=a&3?Ht(l,[l[0],a&2&&qt(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function Ys(n,e,t){let{$$slots:l={},$$scope:s}=e;const r=[["line",{x1:"8",x2:"21",y1:"6",y2:"6"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18"}]];return n.$$set=a=>{t(1,e=Ne(Ne({},e),Je(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Je(e),[r,e,l,s]}class Js extends $t{constructor(e){super(),zt(this,e,Ys,Zs,wt,{})}}function Qs(n){let e;const t=n[2].default,l=At(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,r){l&&l.m(s,r),e=!0},p(s,r){l&&l.p&&(!e||r&8)&&Ot(l,t,s,s[3],e?Mt(t,s[3],r,null):St(s[3]),null)},i(s){e||(D(l,s),e=!0)},o(s){A(l,s),e=!1},d(s){l&&l.d(s)}}}function Ws(n){let e,t;const l=[{name:"move"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Qs]},$$scope:{ctx:n}};for(let r=0;r<l.length;r+=1)s=Ne(s,l[r]);return e=new Gt({props:s}),{c(){le(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,a){te(e,r,a),t=!0},p(r,[a]){const i=a&3?Ht(l,[l[0],a&2&&qt(r[1]),a&1&&{iconNode:r[0]}]):{};a&8&&(i.$$scope={dirty:a,ctx:r}),e.$set(i)},i(r){t||(D(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ee(e,r)}}}function Xs(n,e,t){let{$$slots:l={},$$scope:s}=e;const r=[["polyline",{points:"5 9 2 12 5 15"}],["polyline",{points:"9 5 12 2 15 5"}],["polyline",{points:"15 19 12 22 9 19"}],["polyline",{points:"19 9 22 12 19 15"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22"}]];return n.$$set=a=>{t(1,e=Ne(Ne({},e),Je(a))),"$$scope"in a&&t(3,s=a.$$scope)},e=Je(e),[r,e,l,s]}class xs extends $t{constructor(e){super(),zt(this,e,Xs,Ws,wt,{})}}function Pl(n,e,t){const l=n.slice();return l[109]=e[t],l[111]=t,l}function $l(n){const e=n.slice(),t=e[109].name+"_"+e[109].lastModified;e[112]=t;const l=e[16].get(e[112])||0;return e[113]=l,e}function Al(n,e,t){const l=n.slice();return l[109]=e[t],l}function Ol(n,e,t){const l=n.slice();return l[109]=e[t],l}function Sl(n,e,t){const l=n.slice();return l[118]=e[t],l[120]=t,l}function Ml(n,e,t){const l=n.slice();return l[121]=e[t],l}function en(n){let e,t="Select a bucket";return{c(){e=_("option"),e.textContent=t,this.h()},l(l){e=m(l,"OPTION",{"data-svelte-h":!0}),ne(e)!=="svelte-k8hrnn"&&(e.textContent=t),this.h()},h(){e.__value="",Ke(e,e.__value)},m(l,s){J(l,e,s)},d(l){l&&v(e)}}}function tn(n){let e,t="No buckets available";return{c(){e=_("option"),e.textContent=t,this.h()},l(l){e=m(l,"OPTION",{"data-svelte-h":!0}),ne(e)!=="svelte-1u7tzx7"&&(e.textContent=t),this.h()},h(){e.__value="",Ke(e,e.__value)},m(l,s){J(l,e,s)},d(l){l&&v(e)}}}function Ll(n){let e,t=n[121].name+"",l,s,r;return{c(){e=_("option"),l=x(t),s=E(),this.h()},l(a){e=m(a,"OPTION",{});var i=$(e);l=X(i,t),s=C(i),i.forEach(v),this.h()},h(){e.__value=r=n[121].id,Ke(e,e.__value)},m(a,i){J(a,e,i),o(e,l),o(e,s)},p(a,i){i[0]&268435456&&t!==(t=a[121].name+"")&&_e(l,t),i[0]&268435456&&r!==(r=a[121].id)&&(e.__value=r,Ke(e,e.__value))},d(a){a&&v(e)}}}function ln(n){let e,t,l,s,r="Select a bucket to view files",a,i,u="or",p,d,b,g,V,w,k;return t=new Rt({props:{size:48,style:"color: var(--text-muted)"}}),b=new vs({props:{size:16}}),{c(){e=_("div"),le(t.$$.fragment),l=E(),s=_("p"),s.textContent=r,a=E(),i=_("p"),i.textContent=u,p=E(),d=_("button"),le(b.$$.fragment),g=x(`
						Create a bucket`),this.h()},l(T){e=m(T,"DIV",{class:!0});var f=$(e);re(t.$$.fragment,f),l=C(f),s=m(f,"P",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1la4qji"&&(s.textContent=r),a=C(f),i=m(f,"P",{class:!0,style:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1v1g1bz"&&(i.textContent=u),p=C(f),d=m(f,"BUTTON",{class:!0,style:!0});var z=$(d);re(b.$$.fragment,z),g=X(z,`
						Create a bucket`),z.forEach(v),f.forEach(v),this.h()},h(){h(s,"class","svelte-j18csz"),h(i,"class","text-muted svelte-j18csz"),De(i,"margin-top","0.5rem"),h(d,"class","btn btn-primary"),De(d,"margin-top","0.75rem"),h(e,"class","no-bucket-selected svelte-j18csz")},m(T,f){J(T,e,f),te(t,e,null),o(e,l),o(e,s),o(e,a),o(e,i),o(e,p),o(e,d),te(b,d,null),o(d,g),V=!0,w||(k=Z(d,"click",n[39]),w=!0)},p:Lt,i(T){V||(D(t.$$.fragment,T),D(b.$$.fragment,T),V=!0)},o(T){A(t.$$.fragment,T),A(b.$$.fragment,T),V=!1},d(T){T&&v(e),ee(t),ee(b),w=!1,k()}}}function sn(n){let e,t,l,s,r=n[3].name+"",a,i,u,p,d,b,g,V,w,k,T;l=new Rt({props:{size:14}});let f=nt(n[32]),z=[];for(let I=0;I<f.length;I+=1)z[I]=Rl(Sl(n,f,I));const R=I=>A(z[I],1,1,()=>{z[I]=null});let j=n[5].size>0&&Hl(n);const y=[on,rn,nn],B=[];function O(I,F){return I[2]==="grid"?0:I[2]==="list"?1:I[2]==="explorer"?2:-1}~(d=O(n))&&(b=B[d]=y[d](n));let S=n[3]&&Xl(n);return{c(){e=_("div"),t=_("button"),le(l.$$.fragment),s=E(),a=x(r),i=E();for(let I=0;I<z.length;I+=1)z[I].c();u=E(),j&&j.c(),p=E(),b&&b.c(),g=E(),S&&S.c(),V=mt(),this.h()},l(I){e=m(I,"DIV",{class:!0});var F=$(e);t=m(F,"BUTTON",{class:!0});var M=$(t);re(l.$$.fragment,M),s=C(M),a=X(M,r),M.forEach(v),i=C(F);for(let N=0;N<z.length;N+=1)z[N].l(F);F.forEach(v),u=C(I),j&&j.l(I),p=C(I),b&&b.l(I),g=C(I),S&&S.l(I),V=mt(),this.h()},h(){h(t,"class","breadcrumb-item svelte-j18csz"),h(e,"class","files-breadcrumb svelte-j18csz")},m(I,F){J(I,e,F),o(e,t),te(l,t,null),o(t,s),o(t,a),o(e,i);for(let M=0;M<z.length;M+=1)z[M]&&z[M].m(e,null);J(I,u,F),j&&j.m(I,F),J(I,p,F),~d&&B[d].m(I,F),J(I,g,F),S&&S.m(I,F),J(I,V,F),w=!0,k||(T=Z(t,"click",n[81]),k=!0)},p(I,F){if((!w||F[0]&8)&&r!==(r=I[3].name+"")&&_e(a,r),F[1]&34){f=nt(I[32]);let N;for(N=0;N<f.length;N+=1){const U=Sl(I,f,N);z[N]?(z[N].p(U,F),D(z[N],1)):(z[N]=Rl(U),z[N].c(),D(z[N],1),z[N].m(e,null))}for(ke(),N=f.length;N<z.length;N+=1)R(N);be()}I[5].size>0?j?(j.p(I,F),F[0]&32&&D(j,1)):(j=Hl(I),j.c(),D(j,1),j.m(p.parentNode,p)):j&&(ke(),A(j,1,1,()=>{j=null}),be());let M=d;d=O(I),d===M?~d&&B[d].p(I,F):(b&&(ke(),A(B[M],1,1,()=>{B[M]=null}),be()),~d?(b=B[d],b?b.p(I,F):(b=B[d]=y[d](I),b.c()),D(b,1),b.m(g.parentNode,g)):b=null),I[3]?S?(S.p(I,F),F[0]&8&&D(S,1)):(S=Xl(I),S.c(),D(S,1),S.m(V.parentNode,V)):S&&(ke(),A(S,1,1,()=>{S=null}),be())},i(I){if(!w){D(l.$$.fragment,I);for(let F=0;F<f.length;F+=1)D(z[F]);D(j),D(b),D(S),w=!0}},o(I){A(l.$$.fragment,I),z=z.filter(Boolean);for(let F=0;F<z.length;F+=1)A(z[F]);A(j),A(b),A(S),w=!1},d(I){I&&(v(e),v(u),v(p),v(g),v(V)),ee(l),sl(z,I),j&&j.d(I),~d&&B[d].d(I),S&&S.d(I),k=!1,T()}}}function Rl(n){let e,t,l,s=n[118]+"",r,a,i,u,p;e=new Ts({props:{size:14,style:"color: var(--text-muted)"}});function d(){return n[82](n[120])}return{c(){le(e.$$.fragment),t=E(),l=_("button"),r=x(s),a=E(),this.h()},l(b){re(e.$$.fragment,b),t=C(b),l=m(b,"BUTTON",{class:!0});var g=$(l);r=X(g,s),a=C(g),g.forEach(v),this.h()},h(){h(l,"class","breadcrumb-item svelte-j18csz")},m(b,g){te(e,b,g),J(b,t,g),J(b,l,g),o(l,r),o(l,a),i=!0,u||(p=Z(l,"click",d),u=!0)},p(b,g){n=b,(!i||g[1]&2)&&s!==(s=n[118]+"")&&_e(r,s)},i(b){i||(D(e.$$.fragment,b),i=!0)},o(b){A(e.$$.fragment,b),i=!1},d(b){b&&(v(t),v(l)),ee(e,b),u=!1,p()}}}function Hl(n){let e,t,l,s,r=n[5].size+"",a,i,u=n[5].size!==1?"s":"",p,d,b,g,V,w,k,T,f,z,R,j,y,B,O,S,I,F,M,N,U,H="Clear selection",L,G,W;return l=new Is({props:{size:16}}),w=new pl({props:{size:14}}),z=new Ds({props:{size:14}}),B=new xs({props:{size:14}}),F=new jl({props:{size:14}}),{c(){e=_("div"),t=_("div"),le(l.$$.fragment),s=E(),a=x(r),i=x(" item"),p=x(u),d=x(" selected"),b=E(),g=_("div"),V=_("button"),le(w.$$.fragment),k=x(`
								Download`),T=E(),f=_("button"),le(z.$$.fragment),R=x(`
								Copy`),j=E(),y=_("button"),le(B.$$.fragment),O=x(`
								Move`),S=E(),I=_("button"),le(F.$$.fragment),M=x(`
								Delete`),N=E(),U=_("button"),U.textContent=H,this.h()},l(q){e=m(q,"DIV",{class:!0});var oe=$(e);t=m(oe,"DIV",{class:!0});var Y=$(t);re(l.$$.fragment,Y),s=C(Y),a=X(Y,r),i=X(Y," item"),p=X(Y,u),d=X(Y," selected"),Y.forEach(v),b=C(oe),g=m(oe,"DIV",{class:!0});var ie=$(g);V=m(ie,"BUTTON",{class:!0});var ce=$(V);re(w.$$.fragment,ce),k=X(ce,`
								Download`),ce.forEach(v),T=C(ie),f=m(ie,"BUTTON",{class:!0});var ae=$(f);re(z.$$.fragment,ae),R=X(ae,`
								Copy`),ae.forEach(v),j=C(ie),y=m(ie,"BUTTON",{class:!0});var Q=$(y);re(B.$$.fragment,Q),O=X(Q,`
								Move`),Q.forEach(v),S=C(ie),I=m(ie,"BUTTON",{class:!0});var ue=$(I);re(F.$$.fragment,ue),M=X(ue,`
								Delete`),ue.forEach(v),N=C(ie),U=m(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(U)!=="svelte-1vxzz46"&&(U.textContent=H),ie.forEach(v),oe.forEach(v),this.h()},h(){h(t,"class","selection-info svelte-j18csz"),h(V,"class","btn btn-secondary btn-sm"),h(f,"class","btn btn-secondary btn-sm"),h(y,"class","btn btn-secondary btn-sm"),h(I,"class","btn btn-danger btn-sm"),h(U,"class","btn-text svelte-j18csz"),h(g,"class","selection-actions svelte-j18csz"),h(e,"class","selection-bar svelte-j18csz")},m(q,oe){J(q,e,oe),o(e,t),te(l,t,null),o(t,s),o(t,a),o(t,i),o(t,p),o(t,d),o(e,b),o(e,g),o(g,V),te(w,V,null),o(V,k),o(g,T),o(g,f),te(z,f,null),o(f,R),o(g,j),o(g,y),te(B,y,null),o(y,O),o(g,S),o(g,I),te(F,I,null),o(I,M),o(g,N),o(g,U),L=!0,G||(W=Z(U,"click",n[83]),G=!0)},p(q,oe){(!L||oe[0]&32)&&r!==(r=q[5].size+"")&&_e(a,r),(!L||oe[0]&32)&&u!==(u=q[5].size!==1?"s":"")&&_e(p,u)},i(q){L||(D(l.$$.fragment,q),D(w.$$.fragment,q),D(z.$$.fragment,q),D(B.$$.fragment,q),D(F.$$.fragment,q),L=!0)},o(q){A(l.$$.fragment,q),A(w.$$.fragment,q),A(z.$$.fragment,q),A(B.$$.fragment,q),A(F.$$.fragment,q),L=!1},d(q){q&&v(e),ee(l),ee(w),ee(z),ee(B),ee(F),G=!1,W()}}}function nn(n){let e,t,l;return t=new ks({props:{files:n[63](n[31]),mode:"both"}}),t.$on("select",n[97]),{c(){e=_("div"),le(t.$$.fragment),this.h()},l(s){e=m(s,"DIV",{class:!0});var r=$(e);re(t.$$.fragment,r),r.forEach(v),this.h()},h(){h(e,"class","explorer-view svelte-j18csz")},m(s,r){J(s,e,r),te(t,e,null),l=!0},p(s,r){const a={};r[1]&1&&(a.files=s[63](s[31])),t.$set(a)},i(s){l||(D(t.$$.fragment,s),l=!0)},o(s){A(t.$$.fragment,s),l=!1},d(s){s&&v(e),ee(t)}}}function rn(n){let e,t,l,s,r,a,i,u,p,d="Name",b,g,V="Size",w,k,T="Modified",f,z,R="Actions",j,y,B,O,S,I,F=nt(n[31]),M=[];for(let H=0;H<F.length;H+=1)M[H]=Zl(Al(n,F,H));const N=H=>A(M[H],1,1,()=>{M[H]=null});let U=n[31].length===0&&Yl();return{c(){e=_("div"),t=_("table"),l=_("thead"),s=_("tr"),r=_("th"),a=_("input"),u=E(),p=_("th"),p.textContent=d,b=E(),g=_("th"),g.textContent=V,w=E(),k=_("th"),k.textContent=T,f=E(),z=_("th"),z.textContent=R,j=E(),y=_("tbody");for(let H=0;H<M.length;H+=1)M[H].c();B=E(),U&&U.c(),this.h()},l(H){e=m(H,"DIV",{class:!0});var L=$(e);t=m(L,"TABLE",{class:!0});var G=$(t);l=m(G,"THEAD",{});var W=$(l);s=m(W,"TR",{});var q=$(s);r=m(q,"TH",{style:!0});var oe=$(r);a=m(oe,"INPUT",{type:!0}),oe.forEach(v),u=C(q),p=m(q,"TH",{"data-svelte-h":!0}),ne(p)!=="svelte-13ju7y1"&&(p.textContent=d),b=C(q),g=m(q,"TH",{style:!0,"data-svelte-h":!0}),ne(g)!=="svelte-go5ouh"&&(g.textContent=V),w=C(q),k=m(q,"TH",{style:!0,"data-svelte-h":!0}),ne(k)!=="svelte-3jxwdc"&&(k.textContent=T),f=C(q),z=m(q,"TH",{style:!0,"data-svelte-h":!0}),ne(z)!=="svelte-dfiryx"&&(z.textContent=R),q.forEach(v),W.forEach(v),j=C(G),y=m(G,"TBODY",{});var Y=$(y);for(let ie=0;ie<M.length;ie+=1)M[ie].l(Y);Y.forEach(v),G.forEach(v),B=C(L),U&&U.l(L),L.forEach(v),this.h()},h(){h(a,"type","checkbox"),a.checked=i=n[5].size===n[31].length&&n[31].length>0,De(r,"width","40px"),De(g,"width","100px"),De(k,"width","150px"),De(z,"width","100px"),h(t,"class","table svelte-j18csz"),h(e,"class","files-list svelte-j18csz")},m(H,L){J(H,e,L),o(e,t),o(t,l),o(l,s),o(s,r),o(r,a),o(s,u),o(s,p),o(s,b),o(s,g),o(s,w),o(s,k),o(s,f),o(s,z),o(t,j),o(t,y);for(let G=0;G<M.length;G+=1)M[G]&&M[G].m(y,null);o(e,B),U&&U.m(e,null),O=!0,S||(I=Z(a,"change",n[38]),S=!0)},p(H,L){if((!O||L[0]&32|L[1]&1&&i!==(i=H[5].size===H[31].length&&H[31].length>0))&&(a.checked=i),L[0]&262176|L[1]&859832405){F=nt(H[31]);let G;for(G=0;G<F.length;G+=1){const W=Al(H,F,G);M[G]?(M[G].p(W,L),D(M[G],1)):(M[G]=Zl(W),M[G].c(),D(M[G],1),M[G].m(y,null))}for(ke(),G=F.length;G<M.length;G+=1)N(G);be()}H[31].length===0?U?L[1]&1&&D(U,1):(U=Yl(),U.c(),D(U,1),U.m(e,null)):U&&(ke(),A(U,1,1,()=>{U=null}),be())},i(H){if(!O){for(let L=0;L<F.length;L+=1)D(M[L]);D(U),O=!0}},o(H){M=M.filter(Boolean);for(let L=0;L<M.length;L+=1)A(M[L]);A(U),O=!1},d(H){H&&v(e),sl(M,H),U&&U.d(),S=!1,I()}}}function on(n){let e,t,l,s;const r=[dn,un,fn],a=[];function i(u,p){return u[17]?0:u[31].length>0?1:2}return t=i(n),l=a[t]=r[t](n),{c(){e=_("div"),l.c(),this.h()},l(u){e=m(u,"DIV",{class:!0});var p=$(e);l.l(p),p.forEach(v),this.h()},h(){h(e,"class","files-grid svelte-j18csz")},m(u,p){J(u,e,p),a[t].m(e,null),s=!0},p(u,p){let d=t;t=i(u),t===d?a[t].p(u,p):(ke(),A(a[d],1,1,()=>{a[d]=null}),be(),l=a[t],l?l.p(u,p):(l=a[t]=r[t](u),l.c()),D(l,1),l.m(e,null))},i(u){s||(D(l),s=!0)},o(u){A(l),s=!1},d(u){u&&v(e),a[t].d()}}}function an(n){let e,t=(n[109].object_name||"Untitled File")+"",l,s;return{c(){e=_("span"),l=x(t),this.h()},l(r){e=m(r,"SPAN",{class:!0,title:!0});var a=$(e);l=X(a,t),a.forEach(v),this.h()},h(){h(e,"class","file-name-text svelte-j18csz"),h(e,"title",s=n[109].object_name||"Untitled File")},m(r,a){J(r,e,a),o(e,l)},p(r,a){a[1]&1&&t!==(t=(r[109].object_name||"Untitled File")+"")&&_e(l,t),a[1]&1&&s!==(s=r[109].object_name||"Untitled File")&&h(e,"title",s)},d(r){r&&v(e)}}}function cn(n){let e,t,l=(n[109].object_name||"Untitled Folder")+"",s,r,a,i;function u(){return n[91](n[109])}return{c(){e=_("button"),t=_("span"),s=x(l),this.h()},l(p){e=m(p,"BUTTON",{class:!0,title:!0});var d=$(e);t=m(d,"SPAN",{class:!0});var b=$(t);s=X(b,l),b.forEach(v),d.forEach(v),this.h()},h(){h(t,"class","file-name-text svelte-j18csz"),h(e,"class","folder-link-inline svelte-j18csz"),h(e,"title",r=n[109].object_name||"Untitled Folder")},m(p,d){J(p,e,d),o(e,t),o(t,s),a||(i=Z(e,"click",u),a=!0)},p(p,d){n=p,d[1]&1&&l!==(l=(n[109].object_name||"Untitled Folder")+"")&&_e(s,l),d[1]&1&&r!==(r=n[109].object_name||"Untitled Folder")&&h(e,"title",r)},d(p){p&&v(e),a=!1,i()}}}function ql(n){let e,t="Public";return{c(){e=_("span"),e.textContent=t,this.h()},l(l){e=m(l,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1vtkqny"&&(e.textContent=t),this.h()},h(){h(e,"class","badge badge-success")},m(l,s){J(l,e,s)},d(l){l&&v(e)}}}function Gl(n){let e,t,l,s,r,a,i="Rename",u,p,d,b,g,V="Delete",w,k,T,f=n[109].type!=="folder"&&Kl(n);s=new ms({props:{size:14}});function z(){return n[95](n[109])}d=new jl({props:{size:14}});function R(){return n[96](n[109])}return{c(){e=_("div"),f&&f.c(),t=E(),l=_("button"),le(s.$$.fragment),r=E(),a=_("span"),a.textContent=i,u=E(),p=_("button"),le(d.$$.fragment),b=E(),g=_("span"),g.textContent=V,this.h()},l(j){e=m(j,"DIV",{class:!0});var y=$(e);f&&f.l(y),t=C(y),l=m(y,"BUTTON",{class:!0});var B=$(l);re(s.$$.fragment,B),r=C(B),a=m(B,"SPAN",{"data-svelte-h":!0}),ne(a)!=="svelte-v18waw"&&(a.textContent=i),B.forEach(v),u=C(y),p=m(y,"BUTTON",{class:!0});var O=$(p);re(d.$$.fragment,O),b=C(O),g=m(O,"SPAN",{"data-svelte-h":!0}),ne(g)!=="svelte-gz26bx"&&(g.textContent=V),O.forEach(v),y.forEach(v),this.h()},h(){h(l,"class","dropdown-item svelte-j18csz"),h(p,"class","dropdown-item dropdown-item-danger svelte-j18csz"),h(e,"class","list-dropdown-menu svelte-j18csz")},m(j,y){J(j,e,y),f&&f.m(e,null),o(e,t),o(e,l),te(s,l,null),o(l,r),o(l,a),o(e,u),o(e,p),te(d,p,null),o(p,b),o(p,g),w=!0,k||(T=[Z(l,"click",z),Z(p,"click",R),Z(e,"click",_t(n[75]))],k=!0)},p(j,y){n=j,n[109].type!=="folder"?f?(f.p(n,y),y[1]&1&&D(f,1)):(f=Kl(n),f.c(),D(f,1),f.m(e,t)):f&&(ke(),A(f,1,1,()=>{f=null}),be())},i(j){w||(D(f),D(s.$$.fragment,j),D(d.$$.fragment,j),w=!0)},o(j){A(f),A(s.$$.fragment,j),A(d.$$.fragment,j),w=!1},d(j){j&&v(e),f&&f.d(),ee(s),ee(d),k=!1,qe(T)}}}function Kl(n){let e,t,l,s,r="View",a,i,u,p,d,b="Download",g,V,w;t=new _s({props:{size:14}});function k(){return n[93](n[109])}u=new pl({props:{size:14}});function T(){return n[94](n[109])}return{c(){e=_("button"),le(t.$$.fragment),l=E(),s=_("span"),s.textContent=r,a=E(),i=_("button"),le(u.$$.fragment),p=E(),d=_("span"),d.textContent=b,this.h()},l(f){e=m(f,"BUTTON",{class:!0});var z=$(e);re(t.$$.fragment,z),l=C(z),s=m(z,"SPAN",{"data-svelte-h":!0}),ne(s)!=="svelte-11f3b0v"&&(s.textContent=r),z.forEach(v),a=C(f),i=m(f,"BUTTON",{class:!0});var R=$(i);re(u.$$.fragment,R),p=C(R),d=m(R,"SPAN",{"data-svelte-h":!0}),ne(d)!=="svelte-q9mf3e"&&(d.textContent=b),R.forEach(v),this.h()},h(){h(e,"class","dropdown-item svelte-j18csz"),h(i,"class","dropdown-item svelte-j18csz")},m(f,z){J(f,e,z),te(t,e,null),o(e,l),o(e,s),J(f,a,z),J(f,i,z),te(u,i,null),o(i,p),o(i,d),g=!0,V||(w=[Z(e,"click",k),Z(i,"click",T)],V=!0)},p(f,z){n=f},i(f){g||(D(t.$$.fragment,f),D(u.$$.fragment,f),g=!0)},o(f){A(t.$$.fragment,f),A(u.$$.fragment,f),g=!1},d(f){f&&(v(e),v(a),v(i)),ee(t),ee(u),V=!1,qe(w)}}}function Zl(n){let e,t,l,s,r,a,i,u,p,d,b,g,V=(n[109].type==="folder"?"Folder":n[109].size)+"",w,k,T,f=n[109].modified+"",z,R,j,y,B,O,S,I,F,M,N,U;function H(){return n[90](n[109])}var L=n[33](n[109].type);function G(ae,Q){return{props:{size:20,style:"color: "+_l(ae[109].type)}}}L&&(u=ml(L,G(n)));function W(ae,Q){return ae[109].type==="folder"?cn:an}let q=W(n),oe=q(n),Y=n[109].public&&ql();O=new hs({props:{size:16}});function ie(...ae){return n[92](n[109],...ae)}let ce=n[18]===n[109].id&&Gl(n);return{c(){e=_("tr"),t=_("td"),l=_("input"),r=E(),a=_("td"),i=_("div"),u&&le(u.$$.fragment),p=E(),oe.c(),d=E(),Y&&Y.c(),b=E(),g=_("td"),w=x(V),k=E(),T=_("td"),z=x(f),R=E(),j=_("td"),y=_("div"),B=_("button"),le(O.$$.fragment),S=E(),ce&&ce.c(),I=E(),this.h()},l(ae){e=m(ae,"TR",{class:!0});var Q=$(e);t=m(Q,"TD",{});var ue=$(t);l=m(ue,"INPUT",{type:!0}),ue.forEach(v),r=C(Q),a=m(Q,"TD",{});var pe=$(a);i=m(pe,"DIV",{class:!0});var de=$(i);u&&re(u.$$.fragment,de),p=C(de),oe.l(de),d=C(de),Y&&Y.l(de),de.forEach(v),pe.forEach(v),b=C(Q),g=m(Q,"TD",{class:!0});var ge=$(g);w=X(ge,V),ge.forEach(v),k=C(Q),T=m(Q,"TD",{class:!0});var he=$(T);z=X(he,f),he.forEach(v),R=C(Q),j=m(Q,"TD",{});var Te=$(j);y=m(Te,"DIV",{class:!0});var Ie=$(y);B=m(Ie,"BUTTON",{class:!0,title:!0});var Se=$(B);re(O.$$.fragment,Se),Se.forEach(v),S=C(Ie),ce&&ce.l(Ie),Ie.forEach(v),Te.forEach(v),I=C(Q),Q.forEach(v),this.h()},h(){h(l,"type","checkbox"),l.checked=s=n[5].has(n[109].id),h(i,"class","file-name svelte-j18csz"),h(g,"class","text-muted svelte-j18csz"),h(T,"class","text-muted svelte-j18csz"),h(B,"class","btn-icon-sm svelte-j18csz"),h(B,"title","More options"),h(y,"class","action-buttons svelte-j18csz"),h(e,"class",F=Bl(n[5].has(n[109].id)?"selected":"")+" svelte-j18csz")},m(ae,Q){J(ae,e,Q),o(e,t),o(t,l),o(e,r),o(e,a),o(a,i),u&&te(u,i,null),o(i,p),oe.m(i,null),o(i,d),Y&&Y.m(i,null),o(e,b),o(e,g),o(g,w),o(e,k),o(e,T),o(T,z),o(e,R),o(e,j),o(j,y),o(y,B),te(O,B,null),o(y,S),ce&&ce.m(y,null),o(e,I),M=!0,N||(U=[Z(l,"change",H),Z(B,"click",ie)],N=!0)},p(ae,Q){if(n=ae,(!M||Q[0]&32|Q[1]&1&&s!==(s=n[5].has(n[109].id)))&&(l.checked=s),Q[1]&1&&L!==(L=n[33](n[109].type))){if(u){ke();const ue=u;A(ue.$$.fragment,1,0,()=>{ee(ue,1)}),be()}L?(u=ml(L,G(n)),le(u.$$.fragment),D(u.$$.fragment,1),te(u,i,p)):u=null}else if(L){const ue={};Q[1]&1&&(ue.style="color: "+_l(n[109].type)),u.$set(ue)}q===(q=W(n))&&oe?oe.p(n,Q):(oe.d(1),oe=q(n),oe&&(oe.c(),oe.m(i,d))),n[109].public?Y||(Y=ql(),Y.c(),Y.m(i,null)):Y&&(Y.d(1),Y=null),(!M||Q[1]&1)&&V!==(V=(n[109].type==="folder"?"Folder":n[109].size)+"")&&_e(w,V),(!M||Q[1]&1)&&f!==(f=n[109].modified+"")&&_e(z,f),n[18]===n[109].id?ce?(ce.p(n,Q),Q[0]&262144|Q[1]&1&&D(ce,1)):(ce=Gl(n),ce.c(),D(ce,1),ce.m(y,null)):ce&&(ke(),A(ce,1,1,()=>{ce=null}),be()),(!M||Q[0]&32|Q[1]&1&&F!==(F=Bl(n[5].has(n[109].id)?"selected":"")+" svelte-j18csz"))&&h(e,"class",F)},i(ae){M||(u&&D(u.$$.fragment,ae),D(O.$$.fragment,ae),D(ce),M=!0)},o(ae){u&&A(u.$$.fragment,ae),A(O.$$.fragment,ae),A(ce),M=!1},d(ae){ae&&v(e),u&&ee(u),oe.d(),Y&&Y.d(),ee(O),ce&&ce.d(),N=!1,qe(U)}}}function Yl(n){let e,t,l,s,r="This folder is empty",a,i,u="Upload files or create folders to get started",p;return t=new Rt({props:{size:48,style:"color: var(--text-muted)"}}),{c(){e=_("div"),le(t.$$.fragment),l=E(),s=_("p"),s.textContent=r,a=E(),i=_("p"),i.textContent=u,this.h()},l(d){e=m(d,"DIV",{class:!0,style:!0});var b=$(e);re(t.$$.fragment,b),l=C(b),s=m(b,"P",{style:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1frrvl7"&&(s.textContent=r),a=C(b),i=m(b,"P",{style:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1oa4em"&&(i.textContent=u),b.forEach(v),this.h()},h(){De(s,"margin-top","1rem"),De(i,"font-size","0.875rem"),h(e,"class","empty-state"),De(e,"padding","3rem"),De(e,"text-align","center"),De(e,"color","var(--text-muted)")},m(d,b){J(d,e,b),te(t,e,null),o(e,l),o(e,s),o(e,a),o(e,i),p=!0},i(d){p||(D(t.$$.fragment,d),p=!0)},o(d){A(t.$$.fragment,d),p=!1},d(d){d&&v(e),ee(t)}}}function fn(n){let e,t,l,s,r="This folder is empty",a,i,u="Upload files or create folders to get started",p;return t=new Rt({props:{size:48,style:"color: var(--text-muted)"}}),{c(){e=_("div"),le(t.$$.fragment),l=E(),s=_("p"),s.textContent=r,a=E(),i=_("p"),i.textContent=u,this.h()},l(d){e=m(d,"DIV",{class:!0});var b=$(e);re(t.$$.fragment,b),l=C(b),s=m(b,"P",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1ih6k3r"&&(s.textContent=r),a=C(b),i=m(b,"P",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1vo2la8"&&(i.textContent=u),b.forEach(v),this.h()},h(){h(s,"class","svelte-j18csz"),h(i,"class","text-muted svelte-j18csz"),h(e,"class","empty-folder svelte-j18csz")},m(d,b){J(d,e,b),te(t,e,null),o(e,l),o(e,s),o(e,a),o(e,i),p=!0},p:Lt,i(d){p||(D(t.$$.fragment,d),p=!0)},o(d){A(t.$$.fragment,d),p=!1},d(d){d&&v(e),ee(t)}}}function un(n){let e,t,l=nt(n[31]),s=[];for(let a=0;a<l.length;a+=1)s[a]=Wl(Ol(n,l,a));const r=a=>A(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=mt()},l(a){for(let i=0;i<s.length;i+=1)s[i].l(a);e=mt()},m(a,i){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(a,i);J(a,e,i),t=!0},p(a,i){if(i[0]&262176|i[1]&859832341){l=nt(a[31]);let u;for(u=0;u<l.length;u+=1){const p=Ol(a,l,u);s[u]?(s[u].p(p,i),D(s[u],1)):(s[u]=Wl(p),s[u].c(),D(s[u],1),s[u].m(e.parentNode,e))}for(ke(),u=l.length;u<s.length;u+=1)r(u);be()}},i(a){if(!t){for(let i=0;i<l.length;i+=1)D(s[i]);t=!0}},o(a){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)A(s[i]);t=!1},d(a){a&&v(e),sl(s,a)}}}function dn(n){let e,t,l,s,r,a="Loading files...",i;return l=new us({props:{size:24,class:"spin"}}),{c(){e=_("div"),t=_("div"),le(l.$$.fragment),s=E(),r=_("p"),r.textContent=a,this.h()},l(u){e=m(u,"DIV",{class:!0});var p=$(e);t=m(p,"DIV",{class:!0});var d=$(t);re(l.$$.fragment,d),d.forEach(v),s=C(p),r=m(p,"P",{class:!0,"data-svelte-h":!0}),ne(r)!=="svelte-o9p97l"&&(r.textContent=a),p.forEach(v),this.h()},h(){h(t,"class","loading-spinner svelte-j18csz"),h(r,"class","svelte-j18csz"),h(e,"class","empty-folder svelte-j18csz")},m(u,p){J(u,e,p),o(e,t),te(l,t,null),o(e,s),o(e,r),i=!0},p:Lt,i(u){i||(D(l.$$.fragment,u),i=!0)},o(u){A(l.$$.fragment,u),i=!1},d(u){u&&v(e),ee(l)}}}function Jl(n){let e,t,l,s,r,a,i="Rename",u,p,d,b,g,V="Delete",w,k,T,f=n[109].type!=="folder"&&Ql(n);s=new ms({props:{size:14}});function z(){return n[87](n[109])}d=new jl({props:{size:14}});function R(){return n[88](n[109])}return{c(){e=_("div"),f&&f.c(),t=E(),l=_("button"),le(s.$$.fragment),r=E(),a=_("span"),a.textContent=i,u=E(),p=_("button"),le(d.$$.fragment),b=E(),g=_("span"),g.textContent=V,this.h()},l(j){e=m(j,"DIV",{class:!0});var y=$(e);f&&f.l(y),t=C(y),l=m(y,"BUTTON",{class:!0});var B=$(l);re(s.$$.fragment,B),r=C(B),a=m(B,"SPAN",{"data-svelte-h":!0}),ne(a)!=="svelte-v18waw"&&(a.textContent=i),B.forEach(v),u=C(y),p=m(y,"BUTTON",{class:!0});var O=$(p);re(d.$$.fragment,O),b=C(O),g=m(O,"SPAN",{"data-svelte-h":!0}),ne(g)!=="svelte-gz26bx"&&(g.textContent=V),O.forEach(v),y.forEach(v),this.h()},h(){h(l,"class","dropdown-item svelte-j18csz"),h(p,"class","dropdown-item dropdown-item-danger svelte-j18csz"),h(e,"class","file-dropdown-menu svelte-j18csz")},m(j,y){J(j,e,y),f&&f.m(e,null),o(e,t),o(e,l),te(s,l,null),o(l,r),o(l,a),o(e,u),o(e,p),te(d,p,null),o(p,b),o(p,g),w=!0,k||(T=[Z(l,"click",z),Z(p,"click",R),Z(e,"click",_t(n[74]))],k=!0)},p(j,y){n=j,n[109].type!=="folder"?f?(f.p(n,y),y[1]&1&&D(f,1)):(f=Ql(n),f.c(),D(f,1),f.m(e,t)):f&&(ke(),A(f,1,1,()=>{f=null}),be())},i(j){w||(D(f),D(s.$$.fragment,j),D(d.$$.fragment,j),w=!0)},o(j){A(f),A(s.$$.fragment,j),A(d.$$.fragment,j),w=!1},d(j){j&&v(e),f&&f.d(),ee(s),ee(d),k=!1,qe(T)}}}function Ql(n){let e,t,l,s,r="View",a,i,u,p,d,b="Download",g,V,w;t=new _s({props:{size:14}});function k(){return n[85](n[109])}u=new pl({props:{size:14}});function T(){return n[86](n[109])}return{c(){e=_("button"),le(t.$$.fragment),l=E(),s=_("span"),s.textContent=r,a=E(),i=_("button"),le(u.$$.fragment),p=E(),d=_("span"),d.textContent=b,this.h()},l(f){e=m(f,"BUTTON",{class:!0});var z=$(e);re(t.$$.fragment,z),l=C(z),s=m(z,"SPAN",{"data-svelte-h":!0}),ne(s)!=="svelte-11f3b0v"&&(s.textContent=r),z.forEach(v),a=C(f),i=m(f,"BUTTON",{class:!0});var R=$(i);re(u.$$.fragment,R),p=C(R),d=m(R,"SPAN",{"data-svelte-h":!0}),ne(d)!=="svelte-q9mf3e"&&(d.textContent=b),R.forEach(v),this.h()},h(){h(e,"class","dropdown-item svelte-j18csz"),h(i,"class","dropdown-item svelte-j18csz")},m(f,z){J(f,e,z),te(t,e,null),o(e,l),o(e,s),J(f,a,z),J(f,i,z),te(u,i,null),o(i,p),o(i,d),g=!0,V||(w=[Z(e,"click",k),Z(i,"click",T)],V=!0)},p(f,z){n=f},i(f){g||(D(t.$$.fragment,f),D(u.$$.fragment,f),g=!0)},o(f){A(t.$$.fragment,f),A(u.$$.fragment,f),g=!1},d(f){f&&(v(e),v(a),v(i)),ee(t),ee(u),V=!1,qe(w)}}}function hn(n){let e=(n[109].object_name||"Untitled")+"",t;return{c(){t=x(e)},l(l){t=X(l,e)},m(l,s){J(l,t,s)},p(l,s){s[1]&1&&e!==(e=(l[109].object_name||"Untitled")+"")&&_e(t,e)},d(l){l&&v(t)}}}function mn(n){let e,t=(n[109].object_name||"Untitled")+"",l,s,r;function a(){return n[89](n[109])}return{c(){e=_("button"),l=x(t),this.h()},l(i){e=m(i,"BUTTON",{class:!0});var u=$(e);l=X(u,t),u.forEach(v),this.h()},h(){h(e,"class","folder-link svelte-j18csz")},m(i,u){J(i,e,u),o(e,l),s||(r=Z(e,"click",a),s=!0)},p(i,u){n=i,u[1]&1&&t!==(t=(n[109].object_name||"Untitled")+"")&&_e(l,t)},d(i){i&&v(e),s=!1,r()}}}function Wl(n){let e,t,l,s,r,a,i,u,p,d,b,g,V,w,k;l=new hs({props:{size:16}});function T(...O){return n[84](n[109],...O)}let f=n[18]===n[109].id&&Jl(n);var z=n[33](n[109].type);function R(O,S){return{props:{size:40,style:"color: "+_l(O[109].type)}}}z&&(i=ml(z,R(n)));function j(O,S){return O[109].type==="folder"?mn:hn}let y=j(n),B=y(n);return{c(){e=_("div"),t=_("button"),le(l.$$.fragment),s=E(),f&&f.c(),r=E(),a=_("div"),i&&le(i.$$.fragment),u=E(),p=_("div"),B.c(),b=E(),this.h()},l(O){e=m(O,"DIV",{class:!0});var S=$(e);t=m(S,"BUTTON",{class:!0,title:!0});var I=$(t);re(l.$$.fragment,I),I.forEach(v),s=C(S),f&&f.l(S),r=C(S),a=m(S,"DIV",{class:!0});var F=$(a);i&&re(i.$$.fragment,F),F.forEach(v),u=C(S),p=m(S,"DIV",{class:!0,title:!0});var M=$(p);B.l(M),M.forEach(v),b=C(S),S.forEach(v),this.h()},h(){h(t,"class","file-menu-btn svelte-j18csz"),h(t,"title","More options"),h(a,"class","file-card-icon svelte-j18csz"),h(p,"class","file-card-name svelte-j18csz"),h(p,"title",d=n[109].object_name||"Untitled"),h(e,"class",g="file-card "+(n[5].has(n[109].id)?"selected":"")+" svelte-j18csz")},m(O,S){J(O,e,S),o(e,t),te(l,t,null),o(e,s),f&&f.m(e,null),o(e,r),o(e,a),i&&te(i,a,null),o(e,u),o(e,p),B.m(p,null),o(e,b),V=!0,w||(k=Z(t,"click",T),w=!0)},p(O,S){if(n=O,n[18]===n[109].id?f?(f.p(n,S),S[0]&262144|S[1]&1&&D(f,1)):(f=Jl(n),f.c(),D(f,1),f.m(e,r)):f&&(ke(),A(f,1,1,()=>{f=null}),be()),S[1]&1&&z!==(z=n[33](n[109].type))){if(i){ke();const I=i;A(I.$$.fragment,1,0,()=>{ee(I,1)}),be()}z?(i=ml(z,R(n)),le(i.$$.fragment),D(i.$$.fragment,1),te(i,a,null)):i=null}else if(z){const I={};S[1]&1&&(I.style="color: "+_l(n[109].type)),i.$set(I)}y===(y=j(n))&&B?B.p(n,S):(B.d(1),B=y(n),B&&(B.c(),B.m(p,null))),(!V||S[1]&1&&d!==(d=n[109].object_name||"Untitled"))&&h(p,"title",d),(!V||S[0]&32|S[1]&1&&g!==(g="file-card "+(n[5].has(n[109].id)?"selected":"")+" svelte-j18csz"))&&h(e,"class",g)},i(O){V||(D(l.$$.fragment,O),D(f),i&&D(i.$$.fragment,O),V=!0)},o(O){A(l.$$.fragment,O),A(f),i&&A(i.$$.fragment,O),V=!1},d(O){O&&v(e),ee(l),f&&f.d(),i&&ee(i),B.d(),w=!1,k()}}}function Xl(n){let e,t,l,s,r,a,i=(n[3].files||0)+"",u,p,d,b,g,V,w,k,T=(n[3].size||"0 B")+"",f,z,R,j;l=new wl({props:{size:16}}),g=new zl({props:{size:16}});let y=n[3].public&&xl();return{c(){e=_("div"),t=_("div"),le(l.$$.fragment),s=E(),r=_("span"),a=_("strong"),u=x(i),p=x(" files"),d=E(),b=_("div"),le(g.$$.fragment),V=E(),w=_("span"),k=_("strong"),f=x(T),z=x(" used"),R=E(),y&&y.c(),this.h()},l(B){e=m(B,"DIV",{class:!0});var O=$(e);t=m(O,"DIV",{class:!0});var S=$(t);re(l.$$.fragment,S),s=C(S),r=m(S,"SPAN",{});var I=$(r);a=m(I,"STRONG",{class:!0});var F=$(a);u=X(F,i),F.forEach(v),p=X(I," files"),I.forEach(v),S.forEach(v),d=C(O),b=m(O,"DIV",{class:!0});var M=$(b);re(g.$$.fragment,M),V=C(M),w=m(M,"SPAN",{});var N=$(w);k=m(N,"STRONG",{class:!0});var U=$(k);f=X(U,T),U.forEach(v),z=X(N," used"),N.forEach(v),M.forEach(v),R=C(O),y&&y.l(O),O.forEach(v),this.h()},h(){h(a,"class","svelte-j18csz"),h(t,"class","bucket-info-item svelte-j18csz"),h(k,"class","svelte-j18csz"),h(b,"class","bucket-info-item svelte-j18csz"),h(e,"class","bucket-info-bar svelte-j18csz")},m(B,O){J(B,e,O),o(e,t),te(l,t,null),o(t,s),o(t,r),o(r,a),o(a,u),o(r,p),o(e,d),o(e,b),te(g,b,null),o(b,V),o(b,w),o(w,k),o(k,f),o(w,z),o(e,R),y&&y.m(e,null),j=!0},p(B,O){(!j||O[0]&8)&&i!==(i=(B[3].files||0)+"")&&_e(u,i),(!j||O[0]&8)&&T!==(T=(B[3].size||"0 B")+"")&&_e(f,T),B[3].public?y||(y=xl(),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i(B){j||(D(l.$$.fragment,B),D(g.$$.fragment,B),j=!0)},o(B){A(l.$$.fragment,B),A(g.$$.fragment,B),j=!1},d(B){B&&v(e),ee(l),ee(g),y&&y.d()}}}function xl(n){let e,t='<span class="badge badge-success">Public</span>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-plytwu"&&(e.innerHTML=t),this.h()},h(){h(e,"class","bucket-info-item svelte-j18csz")},m(l,s){J(l,e,s)},d(l){l&&v(e)}}}function es(n){let e,t,l,s,r="Create Bucket",a,i,u,p,d,b,g,V="Bucket Name",w,k,T,f,z="Use lowercase letters, numbers, and hyphens",R,j,y,B,O,S,I,F="Allow public read access to files in this bucket",M,N,U,H="Cancel",L,G,W="Create Bucket",q,oe,Y;return u=new Kt({props:{size:20}}),{c(){e=_("div"),t=_("div"),l=_("div"),s=_("h3"),s.textContent=r,a=E(),i=_("button"),le(u.$$.fragment),p=E(),d=_("div"),b=_("div"),g=_("label"),g.textContent=V,w=E(),k=_("input"),T=E(),f=_("small"),f.textContent=z,R=E(),j=_("div"),y=_("label"),B=_("input"),O=x(`
						Public Access`),S=E(),I=_("small"),I.textContent=F,M=E(),N=_("div"),U=_("button"),U.textContent=H,L=E(),G=_("button"),G.textContent=W,this.h()},l(ie){e=m(ie,"DIV",{class:!0});var ce=$(e);t=m(ce,"DIV",{class:!0});var ae=$(t);l=m(ae,"DIV",{class:!0});var Q=$(l);s=m(Q,"H3",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1oz5klh"&&(s.textContent=r),a=C(Q),i=m(Q,"BUTTON",{class:!0});var ue=$(i);re(u.$$.fragment,ue),ue.forEach(v),Q.forEach(v),p=C(ae),d=m(ae,"DIV",{class:!0});var pe=$(d);b=m(pe,"DIV",{class:!0});var de=$(b);g=m(de,"LABEL",{class:!0,"data-svelte-h":!0}),ne(g)!=="svelte-1tdrjdf"&&(g.textContent=V),w=C(de),k=m(de,"INPUT",{type:!0,class:!0,placeholder:!0}),T=C(de),f=m(de,"SMALL",{class:!0,"data-svelte-h":!0}),ne(f)!=="svelte-1b9xoky"&&(f.textContent=z),de.forEach(v),R=C(pe),j=m(pe,"DIV",{class:!0});var ge=$(j);y=m(ge,"LABEL",{class:!0});var he=$(y);B=m(he,"INPUT",{type:!0}),O=X(he,`
						Public Access`),he.forEach(v),S=C(ge),I=m(ge,"SMALL",{class:!0,"data-svelte-h":!0}),ne(I)!=="svelte-17ivywc"&&(I.textContent=F),ge.forEach(v),pe.forEach(v),M=C(ae),N=m(ae,"DIV",{class:!0});var Te=$(N);U=m(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(U)!=="svelte-kwtdi9"&&(U.textContent=H),L=C(Te),G=m(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(G)!=="svelte-dzvkqc"&&(G.textContent=W),Te.forEach(v),ae.forEach(v),ce.forEach(v),this.h()},h(){h(s,"class","modal-title svelte-j18csz"),h(i,"class","modal-close svelte-j18csz"),h(l,"class","modal-header svelte-j18csz"),h(g,"class","form-label"),h(k,"type","text"),h(k,"class","form-input"),h(k,"placeholder","my-bucket"),h(f,"class","form-hint svelte-j18csz"),h(b,"class","form-group"),h(B,"type","checkbox"),h(y,"class","checkbox-label svelte-j18csz"),h(I,"class","form-hint svelte-j18csz"),h(j,"class","form-group"),h(d,"class","modal-body svelte-j18csz"),h(U,"class","btn btn-secondary"),h(G,"class","btn btn-primary"),h(N,"class","modal-footer svelte-j18csz"),h(t,"class","modal modal-sm svelte-j18csz"),h(e,"class","modal-overlay svelte-j18csz")},m(ie,ce){J(ie,e,ce),o(e,t),o(t,l),o(l,s),o(l,a),o(l,i),te(u,i,null),o(t,p),o(t,d),o(d,b),o(b,g),o(b,w),o(b,k),Ke(k,n[26].name),o(b,T),o(b,f),o(d,R),o(d,j),o(j,y),o(y,B),B.checked=n[26].public,o(y,O),o(j,S),o(j,I),o(t,M),o(t,N),o(N,U),o(N,L),o(N,G),q=!0,oe||(Y=[Z(i,"click",n[40]),Z(k,"input",n[98]),Z(B,"change",n[99]),Z(U,"click",n[40]),Z(G,"click",n[41]),Z(t,"click",_t(n[73])),Z(e,"click",n[40])],oe=!0)},p(ie,ce){ce[0]&67108864&&k.value!==ie[26].name&&Ke(k,ie[26].name),ce[0]&67108864&&(B.checked=ie[26].public)},i(ie){q||(D(u.$$.fragment,ie),q=!0)},o(ie){A(u.$$.fragment,ie),q=!1},d(ie){ie&&v(e),ee(u),oe=!1,qe(Y)}}}function ts(n){let e,t,l,s,r="Create Folder",a,i,u,p,d,b,g,V="Folder Name",w,k,T,f,z,R="Cancel",j,y,B="Create Folder",O,S,I;return u=new Kt({props:{size:20}}),{c(){e=_("div"),t=_("div"),l=_("div"),s=_("h3"),s.textContent=r,a=E(),i=_("button"),le(u.$$.fragment),p=E(),d=_("div"),b=_("div"),g=_("label"),g.textContent=V,w=E(),k=_("input"),T=E(),f=_("div"),z=_("button"),z.textContent=R,j=E(),y=_("button"),y.textContent=B,this.h()},l(F){e=m(F,"DIV",{class:!0});var M=$(e);t=m(M,"DIV",{class:!0});var N=$(t);l=m(N,"DIV",{class:!0});var U=$(l);s=m(U,"H3",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1ceb0hv"&&(s.textContent=r),a=C(U),i=m(U,"BUTTON",{class:!0});var H=$(i);re(u.$$.fragment,H),H.forEach(v),U.forEach(v),p=C(N),d=m(N,"DIV",{class:!0});var L=$(d);b=m(L,"DIV",{class:!0});var G=$(b);g=m(G,"LABEL",{class:!0,"data-svelte-h":!0}),ne(g)!=="svelte-odvf95"&&(g.textContent=V),w=C(G),k=m(G,"INPUT",{type:!0,class:!0,placeholder:!0}),G.forEach(v),L.forEach(v),T=C(N),f=m(N,"DIV",{class:!0});var W=$(f);z=m(W,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(z)!=="svelte-1q88toj"&&(z.textContent=R),j=C(W),y=m(W,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(y)!=="svelte-1un9rd8"&&(y.textContent=B),W.forEach(v),N.forEach(v),M.forEach(v),this.h()},h(){h(s,"class","modal-title svelte-j18csz"),h(i,"class","modal-close svelte-j18csz"),h(l,"class","modal-header svelte-j18csz"),h(g,"class","form-label"),h(k,"type","text"),h(k,"class","form-input"),h(k,"placeholder","New Folder"),h(b,"class","form-group"),h(d,"class","modal-body svelte-j18csz"),h(z,"class","btn btn-secondary"),h(y,"class","btn btn-primary"),h(f,"class","modal-footer svelte-j18csz"),h(t,"class","modal modal-sm svelte-j18csz"),h(e,"class","modal-overlay svelte-j18csz")},m(F,M){J(F,e,M),o(e,t),o(t,l),o(l,s),o(l,a),o(l,i),te(u,i,null),o(t,p),o(t,d),o(d,b),o(b,g),o(b,w),o(b,k),Ke(k,n[27].name),o(t,T),o(t,f),o(f,z),o(f,j),o(f,y),O=!0,S||(I=[Z(i,"click",n[43]),Z(k,"input",n[100]),Z(z,"click",n[43]),Z(y,"click",n[44]),Z(t,"click",_t(n[72])),Z(e,"click",n[43])],S=!0)},p(F,M){M[0]&134217728&&k.value!==F[27].name&&Ke(k,F[27].name)},i(F){O||(D(u.$$.fragment,F),O=!0)},o(F){A(u.$$.fragment,F),O=!1},d(F){F&&v(e),ee(u),S=!1,qe(I)}}}function ls(n){let e,t,l,s,r="Upload Files",a,i,u,p,d,b,g,V,w,k='<p class="text-muted svelte-j18csz">Maximum file size: 100MB</p> <p class="text-muted svelte-j18csz">Supported formats: All file types</p>',T,f,z,R,j=n[15].length>0?"Cancel":"Close",y,B,O,S;u=new Kt({props:{size:20}});const I=[vn,_n],F=[];function M(U,H){return U[15].length===0?0:1}b=M(n),g=F[b]=I[b](n);let N=n[15].length>0&&os(n);return{c(){e=_("div"),t=_("div"),l=_("div"),s=_("h3"),s.textContent=r,a=E(),i=_("button"),le(u.$$.fragment),p=E(),d=_("div"),g.c(),V=E(),w=_("div"),w.innerHTML=k,T=E(),f=_("div"),N&&N.c(),z=E(),R=_("button"),y=x(j),this.h()},l(U){e=m(U,"DIV",{class:!0});var H=$(e);t=m(H,"DIV",{class:!0});var L=$(t);l=m(L,"DIV",{class:!0});var G=$(l);s=m(G,"H3",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1su1tw7"&&(s.textContent=r),a=C(G),i=m(G,"BUTTON",{class:!0});var W=$(i);re(u.$$.fragment,W),W.forEach(v),G.forEach(v),p=C(L),d=m(L,"DIV",{class:!0});var q=$(d);g.l(q),V=C(q),w=m(q,"DIV",{class:!0,"data-svelte-h":!0}),ne(w)!=="svelte-1apbtmk"&&(w.innerHTML=k),q.forEach(v),T=C(L),f=m(L,"DIV",{class:!0});var oe=$(f);N&&N.l(oe),z=C(oe),R=m(oe,"BUTTON",{class:!0});var Y=$(R);y=X(Y,j),Y.forEach(v),oe.forEach(v),L.forEach(v),H.forEach(v),this.h()},h(){h(s,"class","modal-title svelte-j18csz"),h(i,"class","modal-close svelte-j18csz"),h(l,"class","modal-header svelte-j18csz"),h(w,"class","upload-info svelte-j18csz"),h(d,"class","modal-body svelte-j18csz"),h(R,"class","btn btn-secondary"),R.disabled=n[13],h(f,"class","modal-footer svelte-j18csz"),h(t,"class","modal svelte-j18csz"),h(e,"class","modal-overlay svelte-j18csz")},m(U,H){J(U,e,H),o(e,t),o(t,l),o(l,s),o(l,a),o(l,i),te(u,i,null),o(t,p),o(t,d),F[b].m(d,null),o(d,V),o(d,w),o(t,T),o(t,f),N&&N.m(f,null),o(f,z),o(f,R),o(R,y),B=!0,O||(S=[Z(i,"click",n[46]),Z(R,"click",n[46]),Z(t,"click",_t(n[69])),Z(e,"click",n[46])],O=!0)},p(U,H){let L=b;b=M(U),b===L?F[b].p(U,H):(ke(),A(F[L],1,1,()=>{F[L]=null}),be(),g=F[b],g?g.p(U,H):(g=F[b]=I[b](U),g.c()),D(g,1),g.m(d,V)),U[15].length>0?N?N.p(U,H):(N=os(U),N.c(),N.m(f,z)):N&&(N.d(1),N=null),(!B||H[0]&32768)&&j!==(j=U[15].length>0?"Cancel":"Close")&&_e(y,j),(!B||H[0]&8192)&&(R.disabled=U[13])},i(U){B||(D(u.$$.fragment,U),D(g),B=!0)},o(U){A(u.$$.fragment,U),A(g),B=!1},d(U){U&&v(e),ee(u),F[b].d(),N&&N.d(),O=!1,qe(S)}}}function _n(n){let e,t,l,s=n[15].length+"",r,a,i,u,p,d,b=nt(n[15]),g=[];for(let k=0;k<b.length;k+=1)g[k]=ns(Pl(n,b,k));const V=k=>A(g[k],1,1,()=>{g[k]=null});let w=n[13]&&rs(n);return{c(){e=_("div"),t=_("h4"),l=x("Selected Files ("),r=x(s),a=x(")"),i=E(),u=_("div");for(let k=0;k<g.length;k+=1)g[k].c();p=E(),w&&w.c(),this.h()},l(k){e=m(k,"DIV",{class:!0});var T=$(e);t=m(T,"H4",{class:!0});var f=$(t);l=X(f,"Selected Files ("),r=X(f,s),a=X(f,")"),f.forEach(v),i=C(T),u=m(T,"DIV",{class:!0});var z=$(u);for(let R=0;R<g.length;R+=1)g[R].l(z);z.forEach(v),p=C(T),w&&w.l(T),T.forEach(v),this.h()},h(){h(t,"class","selected-files-title svelte-j18csz"),h(u,"class","files-list-container svelte-j18csz"),h(e,"class","selected-files svelte-j18csz")},m(k,T){J(k,e,T),o(e,t),o(t,l),o(t,r),o(t,a),o(e,i),o(e,u);for(let f=0;f<g.length;f+=1)g[f]&&g[f].m(u,null);o(e,p),w&&w.m(e,null),d=!0},p(k,T){if((!d||T[0]&32768)&&s!==(s=k[15].length+"")&&_e(r,s),T[0]&106496){b=nt(k[15]);let f;for(f=0;f<b.length;f+=1){const z=Pl(k,b,f);g[f]?(g[f].p(z,T),D(g[f],1)):(g[f]=ns(z),g[f].c(),D(g[f],1),g[f].m(u,null))}for(ke(),f=b.length;f<g.length;f+=1)V(f);be()}k[13]?w?w.p(k,T):(w=rs(k),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i(k){if(!d){for(let T=0;T<b.length;T+=1)D(g[T]);d=!0}},o(k){g=g.filter(Boolean);for(let T=0;T<g.length;T+=1)A(g[T]);d=!1},d(k){k&&v(e),sl(g,k),w&&w.d()}}}function vn(n){let e,t,l,s,r="Drag and drop files here or click to browse",a,i,u,p,d,b,g,V;return t=new ds({props:{size:48,style:"color: var(--text-muted)"}}),{c(){e=_("div"),le(t.$$.fragment),l=E(),s=_("p"),s.textContent=r,a=E(),i=_("button"),u=x("Browse Files"),p=E(),d=_("input"),this.h()},l(w){e=m(w,"DIV",{class:!0});var k=$(e);re(t.$$.fragment,k),l=C(k),s=m(k,"P",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-163wm35"&&(s.textContent=r),a=C(k),i=m(k,"BUTTON",{class:!0});var T=$(i);u=X(T,"Browse Files"),T.forEach(v),p=C(k),d=m(k,"INPUT",{type:!0,class:!0,style:!0}),k.forEach(v),this.h()},h(){h(s,"class","upload-text svelte-j18csz"),h(i,"class","btn btn-primary"),i.disabled=n[13],h(d,"type","file"),d.multiple=!0,h(d,"class","hidden-file-input svelte-j18csz"),d.disabled=n[13],De(d,"display","none"),h(e,"class","upload-zone svelte-j18csz")},m(w,k){J(w,e,k),te(t,e,null),o(e,l),o(e,s),o(e,a),o(e,i),o(i,u),o(e,p),o(e,d),n[101](d),b=!0,g||(V=[Z(i,"click",n[49]),Z(d,"change",n[48]),Z(e,"drop",n[47]),Z(e,"dragover",Ul(n[70])),Z(e,"dragenter",Ul(n[71]))],g=!0)},p(w,k){(!b||k[0]&8192)&&(i.disabled=w[13]),(!b||k[0]&8192)&&(d.disabled=w[13])},i(w){b||(D(t.$$.fragment,w),b=!0)},o(w){A(t.$$.fragment,w),b=!1},d(w){w&&v(e),ee(t),n[101](null),g=!1,qe(V)}}}function ss(n){let e;function t(r,a){return r[113]>=0?gn:pn}let l=t(n),s=l(n);return{c(){s.c(),e=mt()},l(r){s.l(r),e=mt()},m(r,a){s.m(r,a),J(r,e,a)},p(r,a){l===(l=t(r))&&s?s.p(r,a):(s.d(1),s=l(r),s&&(s.c(),s.m(e.parentNode,e)))},d(r){r&&v(e),s.d(r)}}}function pn(n){let e,t="Failed";return{c(){e=_("span"),e.textContent=t,this.h()},l(l){e=m(l,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-wuzour"&&(e.textContent=t),this.h()},h(){h(e,"class","file-upload-error svelte-j18csz")},m(l,s){J(l,e,s)},p:Lt,d(l){l&&v(e)}}}function gn(n){let e,t,l,s,r=n[113]+"",a,i;return{c(){e=_("div"),t=_("div"),l=E(),s=_("span"),a=x(r),i=x("%"),this.h()},l(u){e=m(u,"DIV",{class:!0});var p=$(e);t=m(p,"DIV",{class:!0,style:!0}),$(t).forEach(v),p.forEach(v),l=C(u),s=m(u,"SPAN",{class:!0});var d=$(s);a=X(d,r),i=X(d,"%"),d.forEach(v),this.h()},h(){h(t,"class","file-progress-fill svelte-j18csz"),De(t,"width",n[113]+"%"),h(e,"class","file-progress-bar svelte-j18csz"),h(s,"class","file-progress-text svelte-j18csz")},m(u,p){J(u,e,p),o(e,t),J(u,l,p),J(u,s,p),o(s,a),o(s,i)},p(u,p){p[0]&98304&&De(t,"width",u[113]+"%"),p[0]&98304&&r!==(r=u[113]+"")&&_e(a,r)},d(u){u&&(v(e),v(l),v(s))}}}function ns(n){let e,t,l,s,r,a=n[109].name+"",i,u,p,d=vl(n[109].size)+"",b,g,V,w;t=new wl({props:{size:16,style:"color: var(--text-muted)"}});let k=n[13]&&ss($l(n));return{c(){e=_("div"),le(t.$$.fragment),l=E(),s=_("div"),r=_("span"),i=x(a),u=E(),p=_("span"),b=x(d),g=E(),k&&k.c(),V=E(),this.h()},l(T){e=m(T,"DIV",{class:!0});var f=$(e);re(t.$$.fragment,f),l=C(f),s=m(f,"DIV",{class:!0});var z=$(s);r=m(z,"SPAN",{class:!0});var R=$(r);i=X(R,a),R.forEach(v),u=C(z),p=m(z,"SPAN",{class:!0});var j=$(p);b=X(j,d),j.forEach(v),g=C(z),k&&k.l(z),z.forEach(v),V=C(f),f.forEach(v),this.h()},h(){h(r,"class","selected-file-name svelte-j18csz"),h(p,"class","selected-file-size svelte-j18csz"),h(s,"class","file-upload-info svelte-j18csz"),h(e,"class","selected-file-item svelte-j18csz")},m(T,f){J(T,e,f),te(t,e,null),o(e,l),o(e,s),o(s,r),o(r,i),o(s,u),o(s,p),o(p,b),o(s,g),k&&k.m(s,null),o(e,V),w=!0},p(T,f){(!w||f[0]&32768)&&a!==(a=T[109].name+"")&&_e(i,a),(!w||f[0]&32768)&&d!==(d=vl(T[109].size)+"")&&_e(b,d),T[13]?k?k.p($l(T),f):(k=ss($l(T)),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},i(T){w||(D(t.$$.fragment,T),w=!0)},o(T){A(t.$$.fragment,T),w=!1},d(T){T&&v(e),ee(t),k&&k.d()}}}function rs(n){let e,t,l,s,r;return{c(){e=_("div"),t=_("span"),l=x("Overall Progress: "),s=x(n[14]),r=x("%"),this.h()},l(a){e=m(a,"DIV",{class:!0});var i=$(e);t=m(i,"SPAN",{class:!0});var u=$(t);l=X(u,"Overall Progress: "),s=X(u,n[14]),r=X(u,"%"),u.forEach(v),i.forEach(v),this.h()},h(){h(t,"class","progress-text svelte-j18csz"),h(e,"class","overall-progress svelte-j18csz")},m(a,i){J(a,e,i),o(e,t),o(t,l),o(t,s),o(t,r)},p(a,i){i[0]&16384&&_e(s,a[14])},d(a){a&&v(e)}}}function os(n){let e,t,l,s,r=n[13]?"Uploading...":`Upload ${n[15].length} File${n[15].length!==1?"s":""}`,a,i,u;return{c(){e=_("button"),t=x("Clear Selection"),l=E(),s=_("button"),a=x(r),this.h()},l(p){e=m(p,"BUTTON",{class:!0});var d=$(e);t=X(d,"Clear Selection"),d.forEach(v),l=C(p),s=m(p,"BUTTON",{class:!0});var b=$(s);a=X(b,r),b.forEach(v),this.h()},h(){h(e,"class","btn btn-secondary"),e.disabled=n[13],h(s,"class","btn btn-primary"),s.disabled=n[13]},m(p,d){J(p,e,d),o(e,t),J(p,l,d),J(p,s,d),o(s,a),i||(u=[Z(e,"click",n[102]),Z(s,"click",n[50])],i=!0)},p(p,d){d[0]&8192&&(e.disabled=p[13]),d[0]&40960&&r!==(r=p[13]?"Uploading...":`Upload ${p[15].length} File${p[15].length!==1?"s":""}`)&&_e(a,r),d[0]&8192&&(s.disabled=p[13])},d(p){p&&(v(e),v(l),v(s)),i=!1,qe(u)}}}function as(n){var ie,ce,ae,Q;let e,t,l,s,r,a=((ie=n[11])==null?void 0:ie.type)==="folder"?"Folder":"File",i,u,p,d,b,g,V,w,k=((ce=n[11])==null?void 0:ce.type)==="folder"?"folder":"file",T,f,z,R,j=((ae=n[11])==null?void 0:ae.name)+"",y,B,O,S,I="This action cannot be undone.",F,M,N,U="Cancel",H,L,G="Delete",W,q,oe;d=new Kt({props:{size:20}});let Y=((Q=n[11])==null?void 0:Q.type)==="folder"&&is();return{c(){e=_("div"),t=_("div"),l=_("div"),s=_("h3"),r=x("Delete "),i=x(a),u=E(),p=_("button"),le(d.$$.fragment),b=E(),g=_("div"),V=_("p"),w=x("Are you sure you want to delete this "),T=x(k),f=x("?"),z=E(),R=_("p"),y=x(j),B=E(),Y&&Y.c(),O=E(),S=_("p"),S.textContent=I,F=E(),M=_("div"),N=_("button"),N.textContent=U,H=E(),L=_("button"),L.textContent=G,this.h()},l(ue){e=m(ue,"DIV",{class:!0});var pe=$(e);t=m(pe,"DIV",{class:!0});var de=$(t);l=m(de,"DIV",{class:!0});var ge=$(l);s=m(ge,"H3",{class:!0});var he=$(s);r=X(he,"Delete "),i=X(he,a),he.forEach(v),u=C(ge),p=m(ge,"BUTTON",{class:!0});var Te=$(p);re(d.$$.fragment,Te),Te.forEach(v),ge.forEach(v),b=C(de),g=m(de,"DIV",{class:!0});var Ie=$(g);V=m(Ie,"P",{});var Se=$(V);w=X(Se,"Are you sure you want to delete this "),T=X(Se,k),f=X(Se,"?"),Se.forEach(v),z=C(Ie),R=m(Ie,"P",{class:!0});var Ve=$(R);y=X(Ve,j),Ve.forEach(v),B=C(Ie),Y&&Y.l(Ie),O=C(Ie),S=m(Ie,"P",{class:!0,"data-svelte-h":!0}),ne(S)!=="svelte-1ek8f9r"&&(S.textContent=I),Ie.forEach(v),F=C(de),M=m(de,"DIV",{class:!0});var Me=$(M);N=m(Me,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(N)!=="svelte-em89ju"&&(N.textContent=U),H=C(Me),L=m(Me,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(L)!=="svelte-kz4umu"&&(L.textContent=G),Me.forEach(v),de.forEach(v),pe.forEach(v),this.h()},h(){h(s,"class","modal-title svelte-j18csz"),h(p,"class","modal-close svelte-j18csz"),h(l,"class","modal-header svelte-j18csz"),h(R,"class","text-muted svelte-j18csz"),h(S,"class","text-danger svelte-j18csz"),h(g,"class","modal-body svelte-j18csz"),h(N,"class","btn btn-secondary"),h(L,"class","btn btn-danger"),h(M,"class","modal-footer svelte-j18csz"),h(t,"class","modal modal-sm svelte-j18csz"),h(e,"class","modal-overlay svelte-j18csz")},m(ue,pe){J(ue,e,pe),o(e,t),o(t,l),o(l,s),o(s,r),o(s,i),o(l,u),o(l,p),te(d,p,null),o(t,b),o(t,g),o(g,V),o(V,w),o(V,T),o(V,f),o(g,z),o(g,R),o(R,y),o(g,B),Y&&Y.m(g,null),o(g,O),o(g,S),o(t,F),o(t,M),o(M,N),o(M,H),o(M,L),W=!0,q||(oe=[Z(p,"click",n[51]),Z(N,"click",n[51]),Z(L,"click",n[52]),Z(t,"click",_t(n[68])),Z(e,"click",n[51])],q=!0)},p(ue,pe){var de,ge,he,Te;(!W||pe[0]&2048)&&a!==(a=((de=ue[11])==null?void 0:de.type)==="folder"?"Folder":"File")&&_e(i,a),(!W||pe[0]&2048)&&k!==(k=((ge=ue[11])==null?void 0:ge.type)==="folder"?"folder":"file")&&_e(T,k),(!W||pe[0]&2048)&&j!==(j=((he=ue[11])==null?void 0:he.name)+"")&&_e(y,j),((Te=ue[11])==null?void 0:Te.type)==="folder"?Y||(Y=is(),Y.c(),Y.m(g,O)):Y&&(Y.d(1),Y=null)},i(ue){W||(D(d.$$.fragment,ue),W=!0)},o(ue){A(d.$$.fragment,ue),W=!1},d(ue){ue&&v(e),ee(d),Y&&Y.d(),q=!1,qe(oe)}}}function is(n){let e,t="This will delete all files and folders inside.";return{c(){e=_("p"),e.textContent=t,this.h()},l(l){e=m(l,"P",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1qh5pv9"&&(e.textContent=t),this.h()},h(){h(e,"class","text-danger svelte-j18csz")},m(l,s){J(l,e,s)},d(l){l&&v(e)}}}function cs(n){var N;let e,t,l,s,r,a=((N=n[12])==null?void 0:N.type)==="folder"?"Folder":"File",i,u,p,d,b,g,V,w,k="New Name",T,f,z,R,j,y="Cancel",B,O,S="Rename",I,F,M;return d=new Kt({props:{size:20}}),{c(){e=_("div"),t=_("div"),l=_("div"),s=_("h3"),r=x("Rename "),i=x(a),u=E(),p=_("button"),le(d.$$.fragment),b=E(),g=_("div"),V=_("div"),w=_("label"),w.textContent=k,T=E(),f=_("input"),z=E(),R=_("div"),j=_("button"),j.textContent=y,B=E(),O=_("button"),O.textContent=S,this.h()},l(U){e=m(U,"DIV",{class:!0});var H=$(e);t=m(H,"DIV",{class:!0});var L=$(t);l=m(L,"DIV",{class:!0});var G=$(l);s=m(G,"H3",{class:!0});var W=$(s);r=X(W,"Rename "),i=X(W,a),W.forEach(v),u=C(G),p=m(G,"BUTTON",{class:!0});var q=$(p);re(d.$$.fragment,q),q.forEach(v),G.forEach(v),b=C(L),g=m(L,"DIV",{class:!0});var oe=$(g);V=m(oe,"DIV",{class:!0});var Y=$(V);w=m(Y,"LABEL",{class:!0,"data-svelte-h":!0}),ne(w)!=="svelte-1i8efq9"&&(w.textContent=k),T=C(Y),f=m(Y,"INPUT",{type:!0,class:!0,placeholder:!0}),Y.forEach(v),oe.forEach(v),z=C(L),R=m(L,"DIV",{class:!0});var ie=$(R);j=m(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(j)!=="svelte-12epuqp"&&(j.textContent=y),B=C(ie),O=m(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(O)!=="svelte-1n8vl2f"&&(O.textContent=S),ie.forEach(v),L.forEach(v),H.forEach(v),this.h()},h(){h(s,"class","modal-title svelte-j18csz"),h(p,"class","modal-close svelte-j18csz"),h(l,"class","modal-header svelte-j18csz"),h(w,"class","form-label"),h(f,"type","text"),h(f,"class","form-input"),h(f,"placeholder","Enter new name"),h(V,"class","form-group"),h(g,"class","modal-body svelte-j18csz"),h(j,"class","btn btn-secondary"),h(O,"class","btn btn-primary"),h(R,"class","modal-footer svelte-j18csz"),h(t,"class","modal modal-sm svelte-j18csz"),h(e,"class","modal-overlay svelte-j18csz")},m(U,H){J(U,e,H),o(e,t),o(t,l),o(l,s),o(s,r),o(s,i),o(l,u),o(l,p),te(d,p,null),o(t,b),o(t,g),o(g,V),o(V,w),o(V,T),o(V,f),Ke(f,n[19]),o(t,z),o(t,R),o(R,j),o(R,B),o(R,O),I=!0,F||(M=[Z(p,"click",n[57]),Z(f,"input",n[103]),Z(j,"click",n[57]),Z(O,"click",n[58]),Z(t,"click",_t(n[67])),Z(e,"click",n[57])],F=!0)},p(U,H){var L;(!I||H[0]&4096)&&a!==(a=((L=U[12])==null?void 0:L.type)==="folder"?"Folder":"File")&&_e(i,a),H[0]&524288&&f.value!==U[19]&&Ke(f,U[19])},i(U){I||(D(d.$$.fragment,U),I=!0)},o(U){A(d.$$.fragment,U),I=!1},d(U){U&&v(e),ee(d),F=!1,qe(M)}}}function fs(n){var M;let e,t,l,s,r,a=(((M=n[22])==null?void 0:M.name)||"File")+"",i,u,p,d,b,g,V,w,k,T="Close",f,z,R,j,y,B,O;d=new Kt({props:{size:20}});function S(N,U){return N[25]?zn:N[24]?$n:N[23]?kn:bn}let I=S(n),F=I(n);return R=new pl({props:{size:16}}),{c(){e=_("div"),t=_("div"),l=_("div"),s=_("h3"),r=x("Preview: "),i=x(a),u=E(),p=_("button"),le(d.$$.fragment),b=E(),g=_("div"),F.c(),V=E(),w=_("div"),k=_("button"),k.textContent=T,f=E(),z=_("button"),le(R.$$.fragment),j=x(`
					Download`),this.h()},l(N){e=m(N,"DIV",{class:!0});var U=$(e);t=m(U,"DIV",{class:!0});var H=$(t);l=m(H,"DIV",{class:!0});var L=$(l);s=m(L,"H3",{class:!0});var G=$(s);r=X(G,"Preview: "),i=X(G,a),G.forEach(v),u=C(L),p=m(L,"BUTTON",{class:!0});var W=$(p);re(d.$$.fragment,W),W.forEach(v),L.forEach(v),b=C(H),g=m(H,"DIV",{class:!0});var q=$(g);F.l(q),q.forEach(v),V=C(H),w=m(H,"DIV",{class:!0});var oe=$(w);k=m(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(k)!=="svelte-kbg5gp"&&(k.textContent=T),f=C(oe),z=m(oe,"BUTTON",{class:!0});var Y=$(z);re(R.$$.fragment,Y),j=X(Y,`
					Download`),Y.forEach(v),oe.forEach(v),H.forEach(v),U.forEach(v),this.h()},h(){h(s,"class","modal-title svelte-j18csz"),h(p,"class","modal-close svelte-j18csz"),h(l,"class","modal-header svelte-j18csz"),h(g,"class","modal-body preview-modal-body svelte-j18csz"),h(k,"class","btn btn-secondary"),h(z,"class","btn btn-primary"),h(w,"class","modal-footer svelte-j18csz"),h(t,"class","modal modal-lg svelte-j18csz"),h(e,"class","modal-overlay svelte-j18csz")},m(N,U){J(N,e,U),o(e,t),o(t,l),o(l,s),o(s,r),o(s,i),o(l,u),o(l,p),te(d,p,null),o(t,b),o(t,g),F.m(g,null),o(t,V),o(t,w),o(w,k),o(w,f),o(w,z),te(R,z,null),o(z,j),y=!0,B||(O=[Z(p,"click",n[54]),Z(k,"click",n[54]),Z(z,"click",n[104]),Z(t,"click",_t(n[66])),Z(e,"click",n[54])],B=!0)},p(N,U){var H;(!y||U[0]&4194304)&&a!==(a=(((H=N[22])==null?void 0:H.name)||"File")+"")&&_e(i,a),I===(I=S(N))&&F?F.p(N,U):(F.d(1),F=I(N),F&&(F.c(),F.m(g,null)))},i(N){y||(D(d.$$.fragment,N),D(R.$$.fragment,N),y=!0)},o(N){A(d.$$.fragment,N),A(R.$$.fragment,N),y=!1},d(N){N&&v(e),ee(d),F.d(),ee(R),B=!1,qe(O)}}}function bn(n){let e,t="No preview available";return{c(){e=_("div"),e.textContent=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-174k9ue"&&(e.textContent=t),this.h()},h(){h(e,"class","preview-empty svelte-j18csz")},m(l,s){J(l,e,s)},p:Lt,d(l){l&&v(e)}}}function kn(n){let e,t;return{c(){e=_("pre"),t=x(n[23]),this.h()},l(l){e=m(l,"PRE",{class:!0});var s=$(e);t=X(s,n[23]),s.forEach(v),this.h()},h(){h(e,"class","preview-text svelte-j18csz")},m(l,s){J(l,e,s),o(e,t)},p(l,s){s[0]&8388608&&_e(t,l[23])},d(l){l&&v(e)}}}function $n(n){let e,t,l,s;return{c(){e=_("div"),t=_("img"),this.h()},l(r){e=m(r,"DIV",{class:!0});var a=$(e);t=m(a,"IMG",{src:!0,alt:!0,class:!0}),a.forEach(v),this.h()},h(){var r;Vl(t.src,l=n[24])||h(t,"src",l),h(t,"alt",s=(r=n[22])==null?void 0:r.name),h(t,"class","preview-image svelte-j18csz"),h(e,"class","preview-image-container svelte-j18csz")},m(r,a){J(r,e,a),o(e,t)},p(r,a){var i;a[0]&16777216&&!Vl(t.src,l=r[24])&&h(t,"src",l),a[0]&4194304&&s!==(s=(i=r[22])==null?void 0:i.name)&&h(t,"alt",s)},d(r){r&&v(e)}}}function zn(n){let e,t=`<span class="spinner svelte-j18csz"></span>
						Loading preview...`;return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=m(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1wzh4lk"&&(e.innerHTML=t),this.h()},h(){h(e,"class","preview-loading svelte-j18csz")},m(l,s){J(l,e,s)},p:Lt,d(l){l&&v(e)}}}function wn(n){let e,t,l,s,r,a,i,u,p="Storage Manager",d,b,g,V=n[28].length+"",w,k,T,f,z="•",R,j,y,B,O,S,I="•",F,M,N,U,H,L,G,W,q,oe,Y,ie,ce,ae,Q,ue,pe,de,ge,he,Te="+ Create New Bucket",Ie,Se,Ve,Me,jt,et,rt,Zt,Ze,Yt,Pe,tt,ft,Le,ot,vt,Ge,Ct="New Folder",pt,Jt,Fe,Qe,gt,Ue,nl="Upload Files",bt,Qt,Ye,We,at,Et,Wt,Xe,it,yt,Xt,xe,ct,Tt,xt,Re,He,el,It,Dt,Nt,Ft,Ut,Ae,tl,rl;a=new zl({props:{size:24}}),W=new zl({props:{size:14}}),ue=new Rt({props:{size:16,style:"color: var(--warning-color)"}});function ol(c,P){if(c[28].length===0)return tn;if(!c[3])return en}let ut=ol(n),Be=ut&&ut(n),dt=nt(n[28]),ye=[];for(let c=0;c<dt.length;c+=1)ye[c]=Ll(Ml(n,dt,c));Me=new us({props:{size:16}}),rt=new zs({props:{size:16}}),tt=new bs({props:{data:n[31],filename:"storage_files",disabled:n[31].length===0,flatten:!0}}),ot=new vs({props:{size:16}}),Qe=new ds({props:{size:16}}),at=new Ls({props:{size:16}}),it=new Js({props:{size:16}}),ct=new As({props:{size:16}});const al=[sn,ln],lt=[];function il(c,P){return c[3]?0:1}Re=il(n),He=lt[Re]=al[Re](n);let $e=n[6]&&es(n),ze=n[7]&&ts(n),we=n[8]&&ls(n),je=n[9]&&as(n),Ce=n[10]&&cs(n),Ee=n[21]&&fs(n);return{c(){e=_("div"),t=_("div"),l=_("div"),s=_("div"),r=_("div"),le(a.$$.fragment),i=E(),u=_("h1"),u.textContent=p,d=E(),b=_("div"),g=_("span"),w=x(V),k=x(" buckets"),T=E(),f=_("span"),f.textContent=z,R=E(),j=_("span"),y=x(n[30]),B=x(" files"),O=E(),S=_("span"),S.textContent=I,F=E(),M=_("span"),N=x(n[29]),U=x(" used"),H=E(),L=_("div"),G=_("span"),le(W.$$.fragment),q=x(`
					Connected`),oe=E(),Y=_("div"),ie=_("div"),ce=_("div"),ae=_("div"),Q=_("div"),le(ue.$$.fragment),pe=E(),de=_("select"),Be&&Be.c(),ge=mt();for(let c=0;c<ye.length;c+=1)ye[c].c();he=_("option"),he.textContent=Te,Se=E(),Ve=_("button"),le(Me.$$.fragment),jt=E(),et=_("div"),le(rt.$$.fragment),Zt=E(),Ze=_("input"),Yt=E(),Pe=_("div"),le(tt.$$.fragment),ft=E(),Le=_("button"),le(ot.$$.fragment),vt=E(),Ge=_("span"),Ge.textContent=Ct,Jt=E(),Fe=_("button"),le(Qe.$$.fragment),gt=E(),Ue=_("span"),Ue.textContent=nl,Qt=E(),Ye=_("div"),We=_("button"),le(at.$$.fragment),Wt=E(),Xe=_("button"),le(it.$$.fragment),Xt=E(),xe=_("button"),le(ct.$$.fragment),xt=E(),He.c(),el=E(),$e&&$e.c(),It=E(),ze&&ze.c(),Dt=E(),we&&we.c(),Nt=E(),je&&je.c(),Ft=E(),Ce&&Ce.c(),Ut=E(),Ee&&Ee.c(),this.h()},l(c){e=m(c,"DIV",{class:!0});var P=$(e);t=m(P,"DIV",{class:!0});var K=$(t);l=m(K,"DIV",{class:!0});var se=$(l);s=m(se,"DIV",{class:!0});var me=$(s);r=m(me,"DIV",{class:!0});var ve=$(r);re(a.$$.fragment,ve),i=C(ve),u=m(ve,"H1",{class:!0,"data-svelte-h":!0}),ne(u)!=="svelte-fi3w24"&&(u.textContent=p),ve.forEach(v),d=C(me),b=m(me,"DIV",{class:!0});var fe=$(b);g=m(fe,"SPAN",{class:!0});var Oe=$(g);w=X(Oe,V),k=X(Oe," buckets"),Oe.forEach(v),T=C(fe),f=m(fe,"SPAN",{class:!0,"data-svelte-h":!0}),ne(f)!=="svelte-12o8t6a"&&(f.textContent=z),R=C(fe),j=m(fe,"SPAN",{class:!0});var ll=$(j);y=X(ll,n[30]),B=X(ll," files"),ll.forEach(v),O=C(fe),S=m(fe,"SPAN",{class:!0,"data-svelte-h":!0}),ne(S)!=="svelte-12o8t6a"&&(S.textContent=I),F=C(fe),M=m(fe,"SPAN",{class:!0});var gl=$(M);N=X(gl,n[29]),U=X(gl," used"),gl.forEach(v),fe.forEach(v),me.forEach(v),H=C(se),L=m(se,"DIV",{class:!0});var Cl=$(L);G=m(Cl,"SPAN",{class:!0});var bl=$(G);re(W.$$.fragment,bl),q=X(bl,`
					Connected`),bl.forEach(v),Cl.forEach(v),se.forEach(v),K.forEach(v),oe=C(P),Y=m(P,"DIV",{class:!0});var El=$(Y);ie=m(El,"DIV",{class:!0});var yl=$(ie);ce=m(yl,"DIV",{class:!0});var cl=$(ce);ae=m(cl,"DIV",{class:!0});var Bt=$(ae);Q=m(Bt,"DIV",{class:!0});var Vt=$(Q);re(ue.$$.fragment,Vt),pe=C(Vt),de=m(Vt,"SELECT",{class:!0});var fl=$(de);Be&&Be.l(fl),ge=mt();for(let kl=0;kl<ye.length;kl+=1)ye[kl].l(fl);he=m(fl,"OPTION",{style:!0,"data-svelte-h":!0}),ne(he)!=="svelte-12pyb7o"&&(he.textContent=Te),fl.forEach(v),Se=C(Vt),Ve=m(Vt,"BUTTON",{class:!0,title:!0,style:!0});var Tl=$(Ve);re(Me.$$.fragment,Tl),Tl.forEach(v),Vt.forEach(v),jt=C(Bt),et=m(Bt,"DIV",{class:!0});var ul=$(et);re(rt.$$.fragment,ul),Zt=C(ul),Ze=m(ul,"INPUT",{type:!0,placeholder:!0,class:!0}),ul.forEach(v),Yt=C(Bt),Pe=m(Bt,"DIV",{class:!0});var ht=$(Pe);re(tt.$$.fragment,ht),ft=C(ht),Le=m(ht,"BUTTON",{class:!0,title:!0});var dl=$(Le);re(ot.$$.fragment,dl),vt=C(dl),Ge=m(dl,"SPAN",{class:!0,"data-svelte-h":!0}),ne(Ge)!=="svelte-1pudxd6"&&(Ge.textContent=Ct),dl.forEach(v),Jt=C(ht),Fe=m(ht,"BUTTON",{class:!0,title:!0});var hl=$(Fe);re(Qe.$$.fragment,hl),gt=C(hl),Ue=m(hl,"SPAN",{class:!0,"data-svelte-h":!0}),ne(Ue)!=="svelte-xqlrn6"&&(Ue.textContent=nl),hl.forEach(v),Qt=C(ht),Ye=m(ht,"DIV",{class:!0});var Pt=$(Ye);We=m(Pt,"BUTTON",{class:!0,title:!0});var Il=$(We);re(at.$$.fragment,Il),Il.forEach(v),Wt=C(Pt),Xe=m(Pt,"BUTTON",{class:!0,title:!0});var Dl=$(Xe);re(it.$$.fragment,Dl),Dl.forEach(v),Xt=C(Pt),xe=m(Pt,"BUTTON",{class:!0,title:!0});var Nl=$(xe);re(ct.$$.fragment,Nl),Nl.forEach(v),Pt.forEach(v),ht.forEach(v),Bt.forEach(v),xt=C(cl),He.l(cl),cl.forEach(v),yl.forEach(v),El.forEach(v),el=C(P),$e&&$e.l(P),It=C(P),ze&&ze.l(P),Dt=C(P),we&&we.l(P),Nt=C(P),je&&je.l(P),Ft=C(P),Ce&&Ce.l(P),Ut=C(P),Ee&&Ee.l(P),P.forEach(v),this.h()},h(){h(u,"class","svelte-j18csz"),h(r,"class","header-title svelte-j18csz"),h(g,"class","meta-item svelte-j18csz"),h(f,"class","meta-separator svelte-j18csz"),h(j,"class","meta-item svelte-j18csz"),h(S,"class","meta-separator svelte-j18csz"),h(M,"class","meta-item svelte-j18csz"),h(b,"class","header-meta svelte-j18csz"),h(s,"class","header-left svelte-j18csz"),h(G,"class","info-item svelte-j18csz"),h(L,"class","header-info svelte-j18csz"),h(l,"class","header-content svelte-j18csz"),h(t,"class","page-header svelte-j18csz"),he.__value="create-new",Ke(he,he.__value),De(he,"border-top","1px solid var(--border-color)"),De(he,"font-weight","500"),h(de,"class","bucket-select svelte-j18csz"),h(Ve,"class","toolbar-btn svelte-j18csz"),h(Ve,"title","Refresh buckets"),De(Ve,"padding","0"),De(Ve,"width","36px"),h(Q,"class","bucket-selector svelte-j18csz"),h(Ze,"type","text"),h(Ze,"placeholder","Search files..."),h(Ze,"class","svelte-j18csz"),h(et,"class","search-box svelte-j18csz"),h(Ge,"class","btn-text-label svelte-j18csz"),h(Le,"class","toolbar-btn svelte-j18csz"),Le.disabled=pt=!n[3],h(Le,"title","New Folder"),h(Ue,"class","btn-text-label svelte-j18csz"),h(Fe,"class","toolbar-btn toolbar-btn-primary svelte-j18csz"),Fe.disabled=bt=!n[3],h(Fe,"title","Upload Files"),h(We,"class",Et="view-toggle-btn "+(n[2]==="grid"?"active":"")+" svelte-j18csz"),h(We,"title","Grid view"),h(Xe,"class",yt="view-toggle-btn "+(n[2]==="list"?"active":"")+" svelte-j18csz"),h(Xe,"title","List view"),h(xe,"class",Tt="view-toggle-btn "+(n[2]==="explorer"?"active":"")+" svelte-j18csz"),h(xe,"title","Explorer view"),h(Ye,"class","view-toggles svelte-j18csz"),h(Pe,"class","toolbar-right svelte-j18csz"),h(ae,"class","files-toolbar svelte-j18csz"),h(ce,"class","card svelte-j18csz"),h(ie,"class","files-container svelte-j18csz"),h(Y,"class","content-area svelte-j18csz"),h(e,"class","storage-page svelte-j18csz")},m(c,P){var K;J(c,e,P),o(e,t),o(t,l),o(l,s),o(s,r),te(a,r,null),o(r,i),o(r,u),o(s,d),o(s,b),o(b,g),o(g,w),o(g,k),o(b,T),o(b,f),o(b,R),o(b,j),o(j,y),o(j,B),o(b,O),o(b,S),o(b,F),o(b,M),o(M,N),o(M,U),o(l,H),o(l,L),o(L,G),te(W,G,null),o(G,q),o(e,oe),o(e,Y),o(Y,ie),o(ie,ce),o(ce,ae),o(ae,Q),te(ue,Q,null),o(Q,pe),o(Q,de),Be&&Be.m(de,null),o(de,ge);for(let se=0;se<ye.length;se+=1)ye[se]&&ye[se].m(de,null);o(de,he),Fl(de,((K=n[3])==null?void 0:K.id)||""),o(Q,Se),o(Q,Ve),te(Me,Ve,null),o(ae,jt),o(ae,et),te(rt,et,null),o(et,Zt),o(et,Ze),Ke(Ze,n[1]),o(ae,Yt),o(ae,Pe),te(tt,Pe,null),o(Pe,ft),o(Pe,Le),te(ot,Le,null),o(Le,vt),o(Le,Ge),o(Pe,Jt),o(Pe,Fe),te(Qe,Fe,null),o(Fe,gt),o(Fe,Ue),o(Pe,Qt),o(Pe,Ye),o(Ye,We),te(at,We,null),o(Ye,Wt),o(Ye,Xe),te(it,Xe,null),o(Ye,Xt),o(Ye,xe),te(ct,xe,null),o(ce,xt),lt[Re].m(ce,null),o(e,el),$e&&$e.m(e,null),o(e,It),ze&&ze.m(e,null),o(e,Dt),we&&we.m(e,null),o(e,Nt),je&&je.m(e,null),o(e,Ft),Ce&&Ce.m(e,null),o(e,Ut),Ee&&Ee.m(e,null),Ae=!0,tl||(rl=[Z(de,"change",n[76]),Z(Ve,"click",n[61]),Z(Ze,"input",n[77]),Z(Le,"click",n[42]),Z(Fe,"click",n[45]),Z(We,"click",n[78]),Z(Xe,"click",n[79]),Z(xe,"click",n[80])],tl=!0)},p(c,P){var me,ve;if((!Ae||P[0]&268435456)&&V!==(V=c[28].length+"")&&_e(w,V),(!Ae||P[0]&1073741824)&&_e(y,c[30]),(!Ae||P[0]&536870912)&&_e(N,c[29]),ut!==(ut=ol(c))&&(Be&&Be.d(1),Be=ut&&ut(c),Be&&(Be.c(),Be.m(de,ge))),P[0]&268435456){dt=nt(c[28]);let fe;for(fe=0;fe<dt.length;fe+=1){const Oe=Ml(c,dt,fe);ye[fe]?ye[fe].p(Oe,P):(ye[fe]=Ll(Oe),ye[fe].c(),ye[fe].m(de,he))}for(;fe<ye.length;fe+=1)ye[fe].d(1);ye.length=dt.length}(!Ae||P[0]&268435464&&Ie!==(Ie=((me=c[3])==null?void 0:me.id)||""))&&Fl(de,((ve=c[3])==null?void 0:ve.id)||""),P[0]&2&&Ze.value!==c[1]&&Ke(Ze,c[1]);const K={};P[1]&1&&(K.data=c[31]),P[1]&1&&(K.disabled=c[31].length===0),tt.$set(K),(!Ae||P[0]&268435464&&pt!==(pt=!c[3]))&&(Le.disabled=pt),(!Ae||P[0]&268435464&&bt!==(bt=!c[3]))&&(Fe.disabled=bt),(!Ae||P[0]&4&&Et!==(Et="view-toggle-btn "+(c[2]==="grid"?"active":"")+" svelte-j18csz"))&&h(We,"class",Et),(!Ae||P[0]&4&&yt!==(yt="view-toggle-btn "+(c[2]==="list"?"active":"")+" svelte-j18csz"))&&h(Xe,"class",yt),(!Ae||P[0]&4&&Tt!==(Tt="view-toggle-btn "+(c[2]==="explorer"?"active":"")+" svelte-j18csz"))&&h(xe,"class",Tt);let se=Re;Re=il(c),Re===se?lt[Re].p(c,P):(ke(),A(lt[se],1,1,()=>{lt[se]=null}),be(),He=lt[Re],He?He.p(c,P):(He=lt[Re]=al[Re](c),He.c()),D(He,1),He.m(ce,null)),c[6]?$e?($e.p(c,P),P[0]&64&&D($e,1)):($e=es(c),$e.c(),D($e,1),$e.m(e,It)):$e&&(ke(),A($e,1,1,()=>{$e=null}),be()),c[7]?ze?(ze.p(c,P),P[0]&128&&D(ze,1)):(ze=ts(c),ze.c(),D(ze,1),ze.m(e,Dt)):ze&&(ke(),A(ze,1,1,()=>{ze=null}),be()),c[8]?we?(we.p(c,P),P[0]&256&&D(we,1)):(we=ls(c),we.c(),D(we,1),we.m(e,Nt)):we&&(ke(),A(we,1,1,()=>{we=null}),be()),c[9]?je?(je.p(c,P),P[0]&512&&D(je,1)):(je=as(c),je.c(),D(je,1),je.m(e,Ft)):je&&(ke(),A(je,1,1,()=>{je=null}),be()),c[10]?Ce?(Ce.p(c,P),P[0]&1024&&D(Ce,1)):(Ce=cs(c),Ce.c(),D(Ce,1),Ce.m(e,Ut)):Ce&&(ke(),A(Ce,1,1,()=>{Ce=null}),be()),c[21]?Ee?(Ee.p(c,P),P[0]&2097152&&D(Ee,1)):(Ee=fs(c),Ee.c(),D(Ee,1),Ee.m(e,null)):Ee&&(ke(),A(Ee,1,1,()=>{Ee=null}),be())},i(c){Ae||(D(a.$$.fragment,c),D(W.$$.fragment,c),D(ue.$$.fragment,c),D(Me.$$.fragment,c),D(rt.$$.fragment,c),D(tt.$$.fragment,c),D(ot.$$.fragment,c),D(Qe.$$.fragment,c),D(at.$$.fragment,c),D(it.$$.fragment,c),D(ct.$$.fragment,c),D(He),D($e),D(ze),D(we),D(je),D(Ce),D(Ee),Ae=!0)},o(c){A(a.$$.fragment,c),A(W.$$.fragment,c),A(ue.$$.fragment,c),A(Me.$$.fragment,c),A(rt.$$.fragment,c),A(tt.$$.fragment,c),A(ot.$$.fragment,c),A(Qe.$$.fragment,c),A(at.$$.fragment,c),A(it.$$.fragment,c),A(ct.$$.fragment,c),A(He),A($e),A(ze),A(we),A(je),A(Ce),A(Ee),Ae=!1},d(c){c&&v(e),ee(a),ee(W),ee(ue),Be&&Be.d(),sl(ye,c),ee(Me),ee(rt),ee(tt),ee(ot),ee(Qe),ee(at),ee(it),ee(ct),lt[Re].d(),$e&&$e.d(),ze&&ze.d(),we&&we.d(),je&&je.d(),Ce&&Ce.d(),Ee&&Ee.d(),tl=!1,qe(rl)}}}function _l(n){switch(n){case"folder":return"#f59e0b";case"image":return"#10b981";case"pdf":return"#ef4444";case"video":return"#8b5cf6";case"audio":return"#3b82f6";case"archive":return"#6366f1";case"code":return"#14b8a6";default:return"#64748b"}}function jn(n){var i;const e=(i=n.split(".").pop())==null?void 0:i.toLowerCase(),t=["jpg","jpeg","png","gif","svg","webp"],l=["mp4","avi","mov","webm"],s=["mp3","wav","ogg","m4a"],r=["js","ts","jsx","tsx","html","css","json","xml"],a=["zip","tar","gz","rar","7z"];return e?t.includes(e)?"image":l.includes(e)?"video":s.includes(e)?"audio":r.includes(e)?"code":a.includes(e)?"archive":e==="pdf"?"pdf":"file":"file"}function vl(n){if(n===0)return"0 B";const e=1024,t=["B","KB","MB","GB","TB"],l=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,l)).toFixed(2))+" "+t[l]}function Cn(n,e,t){let l,s,r="grid",a=null,i="",u=null,p="",d=new Set,b=!1,g=!1,V=!1,w=!1,k=!1,T=null,f=null,z=!1,R=0,j=[],y=new Map,B=!1,O=null,S="",I,F=!1,M=null,N="",U="",H=!1,L={name:"",public:!1},G={name:""},W=[],q=[],oe="0 B",Y=0,ie=0;function ce(c){switch(c){case"folder":return Rt;case"image":return Gs;case"pdf":return ys;case"video":return Es;case"audio":return Cs;case"archive":return js;case"code":return ws;default:return wl}}async function ae(c){console.log("Selecting bucket:",c),t(3,a=c),t(0,i=""),t(4,u=null),d.clear(),c&&c.name&&await Ue(c.name)}async function Q(c){if(c.type==="folder"||c.isFolder){console.log("Navigating to folder:",c),c.id?(t(4,u=c.id),console.log("Set currentFolderId to:",u)):console.warn("Folder has no ID:",c);let P=c.object_name||c.name||"Untitled",K=c.fullPath;P=P.replace(/^\/+|\/+$/g,""),K?(K=K.replace(/^\/+|\/+$/g,""),t(0,i=K)):i?t(0,i=i+"/"+P):t(0,i=P),console.log("New currentPath:",i,"folderId:",u),d.clear(),await Ue(a.name)}}async function ue(c){const P=l.slice(0,c+1);t(0,i=P.join("/")),(c===-1||P.length===0)&&t(4,u=null),d.clear(),a&&await Ue(a.name)}function pe(c){d.has(c.id)?d.delete(c.id):d.add(c.id),t(5,d)}function de(){d.size===s.length?d.clear():s.forEach(c=>d.add(c.id)),t(5,d)}function ge(){t(26,L={name:"",public:!1}),t(6,b=!0)}function he(){t(6,b=!1)}async function Te(){if(!L.name){alert("Bucket name is required");return}try{await kt.post("/storage/buckets",L),await gt(),he()}catch(c){console.error("Failed to create bucket:",c),alert("Failed to create bucket")}}function Ie(){t(27,G={name:""}),t(7,g=!0)}function Se(){t(7,g=!1)}async function Ve(){if(!G.name||!a){alert("Folder name is required");return}try{const c=G.name.replace(/\//g,""),P=await kt.createFolder(a.name,c,u);if(P.error)throw new Error(P.error);await Ue(a.name),Se()}catch(c){console.error("Failed to create folder:",c),alert("Failed to create folder: "+(c instanceof Error?c.message:"Unknown error"))}}function Me(){t(15,j=[]),t(14,R=0),t(8,V=!0)}function jt(){t(8,V=!1),t(15,j=[])}function et(c){var K;c.preventDefault();const P=(K=c.dataTransfer)==null?void 0:K.files;P&&t(15,j=Array.from(P))}function rt(c){const K=c.target.files;K&&t(15,j=Array.from(K))}function Zt(){I&&I.click()}async function Ze(){if(!a||j.length===0){alert("Please select files to upload");return}t(13,z=!0),t(14,R=0),y.clear();try{const c=j.length;let P=0;const K=j.map(async se=>{var ve;const me=se.name+"_"+se.lastModified;y.set(me,0),t(16,y);try{y.set(me,30),t(16,y),console.log("Uploading file:",se.name,"to folder:",u);const fe=await kt.uploadFile(a.name,se,u);if(fe.error)throw new Error(fe.error);y.set(me,100),t(16,y),P++,t(14,R=Math.round(P/c*100));const Oe={id:((ve=fe.data)==null?void 0:ve.id)||Date.now().toString(),object_name:se.name,size:vl(se.size),type:jn(se.name),modified:new Date().toLocaleString(),public:!1};return t(65,q=[...q,Oe]),fe}catch(fe){throw y.set(me,-1),t(16,y),fe}});await Promise.allSettled(K),await Ue(a.name),setTimeout(()=>{jt()},500)}catch(c){console.error("Upload failed:",c),alert("Failed to upload some files")}finally{t(13,z=!1)}}function Yt(c){t(11,T=c),t(9,w=!0)}function Pe(){t(9,w=!1),t(11,T=null)}async function tt(){if(!(!T||!a))try{const c=await kt.deleteObject(a.name,T.id);if(c.error)throw new Error(c.error);await Ue(a.name),Pe()}catch(c){console.error("Delete failed:",c),alert("Failed to delete item: "+(c instanceof Error?c.message:"Unknown error"))}}async function ft(c){if(a){Ge();try{const P=`http://localhost:8090/api/storage/buckets/${a.name}/objects/${c.id}/download`,K=localStorage.getItem("auth_token"),se=await fetch(P,{headers:{Authorization:`Bearer ${K}`}});if(!se.ok)throw new Error("Download failed");const me=await se.blob(),ve=window.URL.createObjectURL(me),fe=document.createElement("a");fe.href=ve,fe.download=c.object_name||"download",fe.style.display="none",document.body.appendChild(fe),fe.click(),setTimeout(()=>{document.body.removeChild(fe),window.URL.revokeObjectURL(ve)},100)}catch(P){console.error("Download failed:",P),alert("Failed to download file")}}}async function Le(c){var P;if(!(!c||!a)){if(c.type==="folder"){Q(c);return}t(22,M=c),t(23,N=""),t(24,U=""),t(25,H=!0),t(21,F=!0);try{const K=(P=c.object_name.split(".").pop())==null?void 0:P.toLowerCase(),se=["jpg","jpeg","png","gif","svg","webp","bmp"],me=["txt","md","json","xml","csv","log","yml","yaml","toml","ini"],ve=["js","ts","jsx","tsx","html","css","scss","sass","less","py","go","java","c","cpp","h","hpp","cs","php","rb","rs","swift","kt","scala","sh","bash","sql","vue","svelte"];if(se.includes(K||"")){const fe=localStorage.getItem("auth_token"),Oe=await fetch(`http://localhost:8090/api/storage/buckets/${a.name}/objects/${c.id}/download`,{headers:{Authorization:`Bearer ${fe}`}});if(Oe.ok){const ll=await Oe.blob();t(24,U=URL.createObjectURL(ll))}else console.error("Failed to load image:",Oe.status),t(23,N="Failed to load image");t(25,H=!1)}else if(me.includes(K||"")||ve.includes(K||"")){const fe=localStorage.getItem("auth_token"),Oe=await fetch(`http://localhost:8090/api/storage/buckets/${a.name}/objects/${c.id}/download`,{headers:{Authorization:`Bearer ${fe}`}});Oe.ok?t(23,N=await Oe.text()):t(23,N="Failed to load file content"),t(25,H=!1)}else t(23,N=`File type: ${K}
Size: ${c.size}

This file type cannot be previewed. Click download to save it.`),t(25,H=!1)}catch(K){console.error("Preview failed:",K),t(23,N="Failed to load preview"),t(25,H=!1)}}}function ot(){t(21,F=!1),t(22,M=null),t(23,N=""),t(24,U=""),t(25,H=!1)}function vt(c,P){P.stopPropagation(),O===c?t(18,O=null):t(18,O=c)}function Ge(){t(18,O=null)}function Ct(c){t(12,f=c),t(19,S=c.name),t(10,k=!0),Ge()}function pt(){t(10,k=!1),t(12,f=null),t(19,S="")}async function Jt(){if(!(!f||!a||!S))try{(await kt.patch(`/storage/buckets/${a.name}/objects/${f.id}/rename`,{newName:S})).message&&(await Ue(a.name),pt())}catch(c){console.error("Rename failed:",c),alert("Failed to rename item: "+(c.message||"Unknown error"))}}function Fe(c){Le(c),Ge()}function Qe(c){Yt(c),Ge()}async function gt(){try{const c=await kt.get("/storage/buckets");Array.isArray(c)?t(28,W=c):c&&c.error?(console.error("API error:",c.error),t(28,W=[])):t(28,W=[]),ie=W.length;let P=0,K=0;W.forEach(se=>{P+=se.files||0,K+=se.size_bytes||0}),t(30,Y=P),t(29,oe=vl(K)),W.length>0&&ae(W[0])}catch(c){console.error("Failed to fetch buckets:",c),t(28,W=[])}}async function Ue(c){t(17,B=!0),t(65,q=[]);try{console.log("Fetching objects for bucket:",c,"folderId:",u);const P=u?`/storage/buckets/${c}/objects?parent_folder_id=${encodeURIComponent(u)}`:`/storage/buckets/${c}/objects`,K=await kt.get(P);if(console.log("Raw API response:",K),console.log("Response type:",typeof K),Array.isArray(K)&&K.forEach(me=>{var ve;(me.type==="folder"||(ve=me.name)!=null&&ve.endsWith("/"))&&console.log("Raw folder item:",me)}),K==null){console.warn("Response is null or undefined, using empty array"),t(65,q=[]);return}if(K&&K.error){if(console.error("API returned error:",K.error),K.error.includes("not implemented")||K.error.includes("not found")){console.log("API not implemented, using test data"),t(65,q=[{id:"1",name:"test-folder",type:"folder",size:0,modified:new Date().toISOString(),public:!1},{id:"2",name:"test-file.txt",type:"file",size:"1.2 KB",modified:new Date().toISOString(),public:!1},{id:"3",name:"image.png",type:"image",size:"45 KB",modified:new Date().toISOString(),public:!1}]);return}t(65,q=[]);return}let se=[];if(Array.isArray(K))se=K;else if(K&&K.data&&Array.isArray(K.data))se=K.data;else if(K&&K.objects&&Array.isArray(K.objects))se=K.objects;else if(K&&typeof K=="object"){const me=Object.keys(K);console.log("Response object keys:",me);for(const ve of me)if(Array.isArray(K[ve])){console.log(`Found array at key "${ve}":`,K[ve]),se=K[ve];break}}if(!se||se.length===0){console.log("No files found in response"),t(65,q=[]);return}t(65,q=se),console.log("Files from backend:",q),console.log("Files count:",q.length),q.length>0&&console.log("First file object:",q[0])}catch(P){console.error("Failed to fetch bucket objects:",P),t(65,q=[])}finally{t(17,B=!1)}}function nl(c){const P=[],K=new Map;return c.forEach(se=>{if(se.isFolder||se.type==="folder"){const me={id:se.id,name:se.object_name,path:se.fullPath||se.object_name,type:"directory",children:[]};K.set(se.fullPath||se.object_name,me),P.push(me)}}),c.forEach(se=>{if(!se.isFolder&&se.type!=="folder"){const me={id:se.id,name:se.object_name,path:se.fullPath||se.object_name,type:"file",size:se.size},ve=i,fe=K.get(ve);fe?fe.children.push(me):P.push(me)}}),P}function bt(c){if(c.type==="directory"){const P=q.find(K=>K.id===c.id);P&&Q(P)}else{const P=q.find(K=>K.id===c.id);P&&Fe(P)}}ps(async()=>{if(!$s())return;await gt();const c=()=>{Ge()};return document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}});function Qt(c){st.call(this,n,c)}function Ye(c){st.call(this,n,c)}function We(c){st.call(this,n,c)}function at(c){st.call(this,n,c)}function Et(c){st.call(this,n,c)}function Wt(c){st.call(this,n,c)}function Xe(c){st.call(this,n,c)}function it(c){st.call(this,n,c)}function yt(c){st.call(this,n,c)}function Xt(c){st.call(this,n,c)}const xe=c=>{if(c.target.value==="create-new")ge(),c.target.value=(a==null?void 0:a.id)||"";else{const P=W.find(K=>K.id===c.target.value);P&&ae(P)}};function ct(){p=this.value,t(1,p)}const Tt=()=>t(2,r="grid"),xt=()=>t(2,r="list"),Re=()=>t(2,r="explorer"),He=async()=>{t(0,i=""),t(4,u=null),console.log("Navigating to root, reset currentFolderId to null"),await Ue(a.name)},el=c=>ue(c),It=()=>d.clear(),Dt=(c,P)=>vt(c.id,P),Nt=c=>Fe(c),Ft=c=>ft(c),Ut=c=>Ct(c),Ae=c=>Qe(c),tl=c=>Q(c),rl=c=>pe(c),ol=c=>Q(c),ut=(c,P)=>vt(c.id,P),Be=c=>Fe(c),dt=c=>ft(c),ye=c=>Ct(c),al=c=>Qe(c),lt=c=>bt(c.detail);function il(){L.name=this.value,t(26,L)}function $e(){L.public=this.checked,t(26,L)}function ze(){G.name=this.value,t(27,G)}function we(c){gs[c?"unshift":"push"](()=>{I=c,t(20,I)})}const je=()=>t(15,j=[]);function Ce(){S=this.value,t(19,S)}const Ee=()=>ft(M);return n.$$.update=()=>{n.$$.dirty[2]&8&&console.log("Files array updated:",q),n.$$.dirty[0]&1&&t(32,l=i.split("/").filter(c=>c)),n.$$.dirty[0]&2|n.$$.dirty[2]&8&&t(31,s=(()=>{const c=q.filter(P=>!P||!P.object_name?!1:P.object_name.toLowerCase().includes(p.toLowerCase()));return console.log("Filtered files:",c,"Search query:",p),c})())},[i,p,r,a,u,d,b,g,V,w,k,T,f,z,R,j,y,B,O,S,I,F,M,N,U,H,L,G,W,oe,Y,s,l,ce,ae,Q,ue,pe,de,ge,he,Te,Ie,Se,Ve,Me,jt,et,rt,Zt,Ze,Pe,tt,ft,ot,vt,Ct,pt,Jt,Fe,Qe,gt,Ue,nl,bt,q,Qt,Ye,We,at,Et,Wt,Xe,it,yt,Xt,xe,ct,Tt,xt,Re,He,el,It,Dt,Nt,Ft,Ut,Ae,tl,rl,ol,ut,Be,dt,ye,al,lt,il,$e,ze,we,je,Ce,Ee]}class xn extends $t{constructor(e){super(),zt(this,e,Cn,wn,wt,{},null,[-1,-1,-1,-1])}}export{xn as component};
