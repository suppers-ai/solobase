import{S as zt,i as Mt,s as Ht,d as u,o as x,p as j,D as $e,b as q,c as l,C as n,a2 as $t,h as m,e as r,f as h,F as G,G as ut,k as w,j as i,l as qt,H as Ot,n as Ye,w as Ae,B as at,a as Te,T as xe,J as qe,x as Le,E as ce,g as pe,y as Ue,t as me,z as Be,K as Ve,U as ot,V as nt,I as Ft,Y as ft}from"../chunks/zFlxOerl.js";import{e as dt}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";/* empty css                */import{g as lt}from"../chunks/DcuEQihb.js";import{a as Re}from"../chunks/DCFqKId7.js";import{b as st}from"../chunks/aDhyjEU7.js";import{P as jt}from"../chunks/DegIqJYA.js";import{H as Rt}from"../chunks/CAsVVP-7.js";import{S as Yt}from"../chunks/CcH6nnIi.js";import{L as Gt}from"../chunks/cHQagsoc.js";import{L as Kt}from"../chunks/79PV9yQG.js";import{X as rt}from"../chunks/DL19c4Kb.js";import{H as Ut}from"../chunks/hgCRLMmt.js";import{T as Jt}from"../chunks/CePRhp0G.js";import{A as Qt}from"../chunks/BlpZoi18.js";import{S as Wt}from"../chunks/DNdSHCNc.js";import{U as Xt}from"../chunks/CTdwF5yA.js";import{D as Zt}from"../chunks/BcAF1UnD.js";import{S as xt}from"../chunks/DKmO0HAJ.js";import{S as el}from"../chunks/CAZALTwl.js";function vt(o,t,e){const s=o.slice();return s[47]=t[e],s}function tl(o){let t,e,s=At(o[0].email)+"",a,b,_,v,f=(o[12].displayName||o[0].email)+"",d,c,g,C=o[0].email+"",S,M,R,p,y,k,E,I,N,T="Products",D,A,H,de,le,ee="Home",re,$,U,Z,ie,ne="Account Settings",K,J,Ee,ke,z,Q="Change Password",Ce,oe,we,ue,se,Se,Ne,ae="Logout",ge,B,ye,fe=o[4]&&_t(o),ve=o[15]&&ht(o);E=new jt({props:{size:24}}),H=new Rt({props:{size:24}}),U=new Yt({props:{size:24}}),Ee=new Gt({props:{size:24}});let W=o[8]&&pt(o),X=o[0].role==="admin"&&mt();return se=new Kt({props:{size:24}}),{c(){t=i("div"),e=i("div"),a=me(s),b=w(),_=i("div"),v=i("h2"),d=me(f),c=w(),g=i("p"),S=me(C),M=w(),fe&&fe.c(),R=w(),ve&&ve.c(),p=w(),y=i("div"),k=i("button"),Be(E.$$.fragment),I=w(),N=i("span"),N.textContent=T,D=w(),A=i("a"),Be(H.$$.fragment),de=w(),le=i("span"),le.textContent=ee,re=w(),$=i("button"),Be(U.$$.fragment),Z=w(),ie=i("span"),ie.textContent=ne,K=w(),J=i("button"),Be(Ee.$$.fragment),ke=w(),z=i("span"),z.textContent=Q,Ce=w(),W&&W.c(),oe=w(),X&&X.c(),we=w(),ue=i("button"),Be(se.$$.fragment),Se=w(),Ne=i("span"),Ne.textContent=ae,this.h()},l(P){t=r(P,"DIV",{class:!0});var O=h(t);e=r(O,"DIV",{class:!0,style:!0});var be=h(e);a=pe(be,s),be.forEach(u),b=m(O),_=r(O,"DIV",{class:!0});var He=h(_);v=r(He,"H2",{class:!0});var _e=h(v);d=pe(_e,f),_e.forEach(u),c=m(He),g=r(He,"P",{class:!0});var Ie=h(g);S=pe(Ie,C),Ie.forEach(u),He.forEach(u),O.forEach(u),M=m(P),fe&&fe.l(P),R=m(P),ve&&ve.l(P),p=m(P),y=r(P,"DIV",{class:!0});var Y=h(y);k=r(Y,"BUTTON",{class:!0});var he=h(k);Ue(E.$$.fragment,he),I=m(he),N=r(he,"SPAN",{"data-svelte-h":!0}),G(N)!=="svelte-ourm0e"&&(N.textContent=T),he.forEach(u),D=m(Y),A=r(Y,"A",{href:!0,class:!0});var L=h(A);Ue(H.$$.fragment,L),de=m(L),le=r(L,"SPAN",{"data-svelte-h":!0}),G(le)!=="svelte-3sk4b5"&&(le.textContent=ee),L.forEach(u),re=m(Y),$=r(Y,"BUTTON",{class:!0});var F=h($);Ue(U.$$.fragment,F),Z=m(F),ie=r(F,"SPAN",{"data-svelte-h":!0}),G(ie)!=="svelte-2ly3re"&&(ie.textContent=ne),F.forEach(u),K=m(Y),J=r(Y,"BUTTON",{class:!0});var te=h(J);Ue(Ee.$$.fragment,te),ke=m(te),z=r(te,"SPAN",{"data-svelte-h":!0}),G(z)!=="svelte-1xqf9ud"&&(z.textContent=Q),te.forEach(u),Ce=m(Y),W&&W.l(Y),oe=m(Y),X&&X.l(Y),we=m(Y),ue=r(Y,"BUTTON",{class:!0});var V=h(ue);Ue(se.$$.fragment,V),Se=m(V),Ne=r(V,"SPAN",{"data-svelte-h":!0}),G(Ne)!=="svelte-1rheak"&&(Ne.textContent=ae),V.forEach(u),Y.forEach(u),this.h()},h(){n(e,"class","avatar svelte-conwl2"),xe(e,"background-color",Lt(o[0].email)),n(v,"class","svelte-conwl2"),n(g,"class","email svelte-conwl2"),n(_,"class","user-info svelte-conwl2"),n(t,"class","user-header svelte-conwl2"),n(k,"class","action-card svelte-conwl2"),n(A,"href","/"),n(A,"class","action-card svelte-conwl2"),n($,"class","action-card svelte-conwl2"),n(J,"class","action-card svelte-conwl2"),n(ue,"class","action-card logout svelte-conwl2"),n(y,"class","actions-grid svelte-conwl2")},m(P,O){q(P,t,O),l(t,e),l(e,a),l(t,b),l(t,_),l(_,v),l(v,d),l(_,c),l(_,g),l(g,S),q(P,M,O),fe&&fe.m(P,O),q(P,R,O),ve&&ve.m(P,O),q(P,p,O),q(P,y,O),l(y,k),Le(E,k,null),l(k,I),l(k,N),l(y,D),l(y,A),Le(H,A,null),l(A,de),l(A,le),l(y,re),l(y,$),Le(U,$,null),l($,Z),l($,ie),l(y,K),l(y,J),Le(Ee,J,null),l(J,ke),l(J,z),l(y,Ce),W&&W.m(y,null),l(y,oe),X&&X.m(y,null),l(y,we),l(y,ue),Le(se,ue,null),l(ue,Se),l(ue,Ne),ge=!0,B||(ye=[ce(k,"click",o[24]),ce($,"click",o[25]),ce(J,"click",o[26]),ce(ue,"click",o[18])],B=!0)},p(P,O){(!ge||O[0]&1)&&s!==(s=At(P[0].email)+"")&&Te(a,s),(!ge||O[0]&1)&&xe(e,"background-color",Lt(P[0].email)),(!ge||O[0]&4097)&&f!==(f=(P[12].displayName||P[0].email)+"")&&Te(d,f),(!ge||O[0]&1)&&C!==(C=P[0].email+"")&&Te(S,C),P[4]?fe?fe.p(P,O):(fe=_t(P),fe.c(),fe.m(R.parentNode,R)):fe&&(fe.d(1),fe=null),P[15]?ve?ve.p(P,O):(ve=ht(P),ve.c(),ve.m(p.parentNode,p)):ve&&(ve.d(1),ve=null),P[8]?W?(W.p(P,O),O[0]&256&&j(W,1)):(W=pt(P),W.c(),j(W,1),W.m(y,oe)):W&&(qe(),x(W,1,1,()=>{W=null}),$e()),P[0].role==="admin"?X?O[0]&1&&j(X,1):(X=mt(),X.c(),j(X,1),X.m(y,we)):X&&(qe(),x(X,1,1,()=>{X=null}),$e())},i(P){ge||(j(E.$$.fragment,P),j(H.$$.fragment,P),j(U.$$.fragment,P),j(Ee.$$.fragment,P),j(W),j(X),j(se.$$.fragment,P),ge=!0)},o(P){x(E.$$.fragment,P),x(H.$$.fragment,P),x(U.$$.fragment,P),x(Ee.$$.fragment,P),x(W),x(X),x(se.$$.fragment,P),ge=!1},d(P){P&&(u(t),u(M),u(R),u(p),u(y)),fe&&fe.d(P),ve&&ve.d(P),Ae(E),Ae(H),Ae(U),Ae(Ee),W&&W.d(),X&&X.d(),Ae(se),B=!1,at(ye)}}}function ll(o){let t,e='<div class="spinner svelte-conwl2"></div> <p>Loading profile...</p>';return{c(){t=i("div"),t.innerHTML=e,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-u9pxis"&&(t.innerHTML=e),this.h()},h(){n(t,"class","loading svelte-conwl2")},m(s,a){q(s,t,a)},p:Ye,i:Ye,o:Ye,d(s){s&&u(t)}}}function _t(o){let t,e;return{c(){t=i("div"),e=me(o[4]),this.h()},l(s){t=r(s,"DIV",{class:!0});var a=h(t);e=pe(a,o[4]),a.forEach(u),this.h()},h(){n(t,"class","alert alert-success svelte-conwl2")},m(s,a){q(s,t,a),l(t,e)},p(s,a){a[0]&16&&Te(e,s[4])},d(s){s&&u(t)}}}function ht(o){let t,e;return{c(){t=i("div"),e=me(o[15]),this.h()},l(s){t=r(s,"DIV",{class:!0});var a=h(t);e=pe(a,o[15]),a.forEach(u),this.h()},h(){n(t,"class","alert alert-success svelte-conwl2")},m(s,a){q(s,t,a),l(t,e)},p(s,a){a[0]&32768&&Te(e,s[15])},d(s){s&&u(t)}}}function pt(o){let t,e,s,a,b="Storage",_,v,f;return e=new Ut({props:{size:24}}),{c(){t=i("button"),Be(e.$$.fragment),s=w(),a=i("span"),a.textContent=b,this.h()},l(d){t=r(d,"BUTTON",{class:!0});var c=h(t);Ue(e.$$.fragment,c),s=m(c),a=r(c,"SPAN",{"data-svelte-h":!0}),G(a)!=="svelte-16qgsd"&&(a.textContent=b),c.forEach(u),this.h()},h(){n(t,"class","action-card svelte-conwl2")},m(d,c){q(d,t,c),Le(e,t,null),l(t,s),l(t,a),_=!0,v||(f=ce(t,"click",o[19]),v=!0)},p:Ye,i(d){_||(j(e.$$.fragment,d),_=!0)},o(d){x(e.$$.fragment,d),_=!1},d(d){d&&u(t),Ae(e),v=!1,f()}}}function mt(o){let t,e,s,a,b="Admin Dashboard",_;return e=new xt({props:{size:24}}),{c(){t=i("a"),Be(e.$$.fragment),s=w(),a=i("span"),a.textContent=b,this.h()},l(v){t=r(v,"A",{href:!0,class:!0});var f=h(t);Ue(e.$$.fragment,f),s=m(f),a=r(f,"SPAN",{"data-svelte-h":!0}),G(a)!=="svelte-w8njrv"&&(a.textContent=b),f.forEach(u),this.h()},h(){n(t,"href","/admin"),n(t,"class","action-card svelte-conwl2")},m(v,f){q(v,t,f),Le(e,t,null),l(t,s),l(t,a),_=!0},i(v){_||(j(e.$$.fragment,v),_=!0)},o(v){x(e.$$.fragment,v),_=!1},d(v){v&&u(t),Ae(e)}}}function wt(o){let t,e,s,a,b="Account Settings",_,v,f,d,c,g,C,S,M,R="First Name",p,y,k,E,I,N="Last Name",T,D,A,H,de,le="Display Name",ee,re,$,U,Z,ie="Email",ne,K,J,Ee,ke,z,Q="Phone",Ce,oe,we,ue,se,Se="Location",Ne,ae,ge,B,ye,fe="Cancel",ve,W,X,P,O,be,He;f=new rt({props:{size:20}});let _e=o[3]&&gt(o);const Ie=[al,sl],Y=[];function he(L,F){return L[2]?0:1}return X=he(o),P=Y[X]=Ie[X](o),{c(){t=i("div"),e=i("div"),s=i("div"),a=i("h3"),a.textContent=b,_=w(),v=i("button"),Be(f.$$.fragment),d=w(),c=i("div"),_e&&_e.c(),g=w(),C=i("div"),S=i("div"),M=i("label"),M.textContent=R,p=w(),y=i("input"),k=w(),E=i("div"),I=i("label"),I.textContent=N,T=w(),D=i("input"),A=w(),H=i("div"),de=i("label"),de.textContent=le,ee=w(),re=i("input"),$=w(),U=i("div"),Z=i("label"),Z.textContent=ie,ne=w(),K=i("input"),Ee=w(),ke=i("div"),z=i("label"),z.textContent=Q,Ce=w(),oe=i("input"),we=w(),ue=i("div"),se=i("label"),se.textContent=Se,Ne=w(),ae=i("input"),ge=w(),B=i("div"),ye=i("button"),ye.textContent=fe,ve=w(),W=i("button"),P.c(),this.h()},l(L){t=r(L,"DIV",{class:!0});var F=h(t);e=r(F,"DIV",{class:!0});var te=h(e);s=r(te,"DIV",{class:!0});var V=h(s);a=r(V,"H3",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-9xy17k"&&(a.textContent=b),_=m(V),v=r(V,"BUTTON",{class:!0});var De=h(v);Ue(f.$$.fragment,De),De.forEach(u),V.forEach(u),d=m(te),c=r(te,"DIV",{class:!0});var Pe=h(c);_e&&_e.l(Pe),g=m(Pe),C=r(Pe,"DIV",{class:!0});var Oe=h(C);S=r(Oe,"DIV",{class:!0});var Ke=h(S);M=r(Ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(M)!=="svelte-k5ejdq"&&(M.textContent=R),p=m(Ke),y=r(Ke,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Ke.forEach(u),k=m(Oe),E=r(Oe,"DIV",{class:!0});var ze=h(E);I=r(ze,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(I)!=="svelte-6pkvyg"&&(I.textContent=N),T=m(ze),D=r(ze,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),ze.forEach(u),Oe.forEach(u),A=m(Pe),H=r(Pe,"DIV",{class:!0});var Fe=h(H);de=r(Fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(de)!=="svelte-e4li4q"&&(de.textContent=le),ee=m(Fe),re=r(Fe,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Fe.forEach(u),$=m(Pe),U=r(Pe,"DIV",{class:!0});var je=h(U);Z=r(je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(Z)!=="svelte-1p9d3fm"&&(Z.textContent=ie),ne=m(je),K=r(je,"INPUT",{type:!0,id:!0,class:!0}),je.forEach(u),Ee=m(Pe),ke=r(Pe,"DIV",{class:!0});var Je=h(ke);z=r(Je,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(z)!=="svelte-xjlanm"&&(z.textContent=Q),Ce=m(Je),oe=r(Je,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Je.forEach(u),we=m(Pe),ue=r(Pe,"DIV",{class:!0});var Me=h(ue);se=r(Me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(se)!=="svelte-xq6d6e"&&(se.textContent=Se),Ne=m(Me),ae=r(Me,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Me.forEach(u),Pe.forEach(u),ge=m(te),B=r(te,"DIV",{class:!0});var Qe=h(B);ye=r(Qe,"BUTTON",{class:!0,"data-svelte-h":!0}),G(ye)!=="svelte-gab17m"&&(ye.textContent=fe),ve=m(Qe),W=r(Qe,"BUTTON",{class:!0});var We=h(W);P.l(We),We.forEach(u),Qe.forEach(u),te.forEach(u),F.forEach(u),this.h()},h(){n(a,"class","svelte-conwl2"),n(v,"class","close-btn svelte-conwl2"),n(s,"class","modal-header svelte-conwl2"),n(M,"for","firstName"),n(M,"class","svelte-conwl2"),n(y,"type","text"),n(y,"id","firstName"),n(y,"placeholder","Enter first name"),n(y,"class","svelte-conwl2"),n(S,"class","form-group svelte-conwl2"),n(I,"for","lastName"),n(I,"class","svelte-conwl2"),n(D,"type","text"),n(D,"id","lastName"),n(D,"placeholder","Enter last name"),n(D,"class","svelte-conwl2"),n(E,"class","form-group svelte-conwl2"),n(C,"class","form-row svelte-conwl2"),n(de,"for","displayName"),n(de,"class","svelte-conwl2"),n(re,"type","text"),n(re,"id","displayName"),n(re,"placeholder","Enter display name"),n(re,"class","svelte-conwl2"),n(H,"class","form-group svelte-conwl2"),n(Z,"for","email"),n(Z,"class","svelte-conwl2"),n(K,"type","email"),n(K,"id","email"),K.value=J=o[12].email,K.disabled=!0,n(K,"class","disabled svelte-conwl2"),n(U,"class","form-group svelte-conwl2"),n(z,"for","phone"),n(z,"class","svelte-conwl2"),n(oe,"type","tel"),n(oe,"id","phone"),n(oe,"placeholder","Enter phone number"),n(oe,"class","svelte-conwl2"),n(ke,"class","form-group svelte-conwl2"),n(se,"for","location"),n(se,"class","svelte-conwl2"),n(ae,"type","text"),n(ae,"id","location"),n(ae,"placeholder","Enter location"),n(ae,"class","svelte-conwl2"),n(ue,"class","form-group svelte-conwl2"),n(c,"class","modal-body svelte-conwl2"),n(ye,"class","btn btn-secondary svelte-conwl2"),n(W,"class","btn btn-primary svelte-conwl2"),W.disabled=o[2],n(B,"class","modal-footer svelte-conwl2"),n(e,"class","modal svelte-conwl2"),n(t,"class","modal-overlay svelte-conwl2")},m(L,F){q(L,t,F),l(t,e),l(e,s),l(s,a),l(s,_),l(s,v),Le(f,v,null),l(e,d),l(e,c),_e&&_e.m(c,null),l(c,g),l(c,C),l(C,S),l(S,M),l(S,p),l(S,y),Ve(y,o[12].firstName),l(C,k),l(C,E),l(E,I),l(E,T),l(E,D),Ve(D,o[12].lastName),l(c,A),l(c,H),l(H,de),l(H,ee),l(H,re),Ve(re,o[12].displayName),l(c,$),l(c,U),l(U,Z),l(U,ne),l(U,K),l(c,Ee),l(c,ke),l(ke,z),l(ke,Ce),l(ke,oe),Ve(oe,o[12].phone),l(c,we),l(c,ue),l(ue,se),l(ue,Ne),l(ue,ae),Ve(ae,o[12].location),l(e,ge),l(e,B),l(B,ye),l(B,ve),l(B,W),Y[X].m(W,null),O=!0,be||(He=[ce(v,"click",o[27]),ce(y,"input",o[28]),ce(D,"input",o[29]),ce(re,"input",o[30]),ce(oe,"input",o[31]),ce(ae,"input",o[32]),ce(ye,"click",o[33]),ce(W,"click",o[16]),ce(e,"click",ot(o[23])),ce(t,"click",o[34])],be=!0)},p(L,F){L[3]?_e?_e.p(L,F):(_e=gt(L),_e.c(),_e.m(c,g)):_e&&(_e.d(1),_e=null),F[0]&4096&&y.value!==L[12].firstName&&Ve(y,L[12].firstName),F[0]&4096&&D.value!==L[12].lastName&&Ve(D,L[12].lastName),F[0]&4096&&re.value!==L[12].displayName&&Ve(re,L[12].displayName),(!O||F[0]&4096&&J!==(J=L[12].email)&&K.value!==J)&&(K.value=J),F[0]&4096&&Ve(oe,L[12].phone),F[0]&4096&&ae.value!==L[12].location&&Ve(ae,L[12].location);let te=X;X=he(L),X!==te&&(qe(),x(Y[te],1,1,()=>{Y[te]=null}),$e(),P=Y[X],P||(P=Y[X]=Ie[X](L),P.c()),j(P,1),P.m(W,null)),(!O||F[0]&4)&&(W.disabled=L[2])},i(L){O||(j(f.$$.fragment,L),j(P),O=!0)},o(L){x(f.$$.fragment,L),x(P),O=!1},d(L){L&&u(t),Ae(f),_e&&_e.d(),Y[X].d(),be=!1,at(He)}}}function gt(o){let t,e;return{c(){t=i("div"),e=me(o[3]),this.h()},l(s){t=r(s,"DIV",{class:!0});var a=h(t);e=pe(a,o[3]),a.forEach(u),this.h()},h(){n(t,"class","alert alert-error svelte-conwl2")},m(s,a){q(s,t,a),l(t,e)},p(s,a){a[0]&8&&Te(e,s[3])},d(s){s&&u(t)}}}function sl(o){let t,e,s;return t=new el({props:{size:16}}),{c(){Be(t.$$.fragment),e=me(`
						Save Changes`)},l(a){Ue(t.$$.fragment,a),e=pe(a,`
						Save Changes`)},m(a,b){Le(t,a,b),q(a,e,b),s=!0},i(a){s||(j(t.$$.fragment,a),s=!0)},o(a){x(t.$$.fragment,a),s=!1},d(a){a&&u(e),Ae(t,a)}}}function al(o){let t,e;return{c(){t=i("span"),e=me(`
						Saving...`),this.h()},l(s){t=r(s,"SPAN",{class:!0}),h(t).forEach(u),e=pe(s,`
						Saving...`),this.h()},h(){n(t,"class","spinner-small svelte-conwl2")},m(s,a){q(s,t,a),q(s,e,a)},i:Ye,o:Ye,d(s){s&&(u(t),u(e))}}}function bt(o){let t,e,s,a,b="Change Password",_,v,f,d,c,g,C,S,M="Current Password",R,p,y,k,E,I="New Password",N,T,D,A,H,de="Confirm New Password",le,ee,re,$,U,Z="Cancel",ie,ne,K="Change Password",J,Ee,ke;f=new rt({props:{size:20}});let z=o[14]&&Ct(o);return{c(){t=i("div"),e=i("div"),s=i("div"),a=i("h3"),a.textContent=b,_=w(),v=i("button"),Be(f.$$.fragment),d=w(),c=i("div"),z&&z.c(),g=w(),C=i("div"),S=i("label"),S.textContent=M,R=w(),p=i("input"),y=w(),k=i("div"),E=i("label"),E.textContent=I,N=w(),T=i("input"),D=w(),A=i("div"),H=i("label"),H.textContent=de,le=w(),ee=i("input"),re=w(),$=i("div"),U=i("button"),U.textContent=Z,ie=w(),ne=i("button"),ne.textContent=K,this.h()},l(Q){t=r(Q,"DIV",{class:!0});var Ce=h(t);e=r(Ce,"DIV",{class:!0});var oe=h(e);s=r(oe,"DIV",{class:!0});var we=h(s);a=r(we,"H3",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-l2u0a1"&&(a.textContent=b),_=m(we),v=r(we,"BUTTON",{class:!0});var ue=h(v);Ue(f.$$.fragment,ue),ue.forEach(u),we.forEach(u),d=m(oe),c=r(oe,"DIV",{class:!0});var se=h(c);z&&z.l(se),g=m(se),C=r(se,"DIV",{class:!0});var Se=h(C);S=r(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(S)!=="svelte-1fzlea0"&&(S.textContent=M),R=m(Se),p=r(Se,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Se.forEach(u),y=m(se),k=r(se,"DIV",{class:!0});var Ne=h(k);E=r(Ne,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(E)!=="svelte-imw5ia"&&(E.textContent=I),N=m(Ne),T=r(Ne,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),Ne.forEach(u),D=m(se),A=r(se,"DIV",{class:!0});var ae=h(A);H=r(ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(H)!=="svelte-1lyfuh8"&&(H.textContent=de),le=m(ae),ee=r(ae,"INPUT",{type:!0,id:!0,placeholder:!0,class:!0}),ae.forEach(u),se.forEach(u),re=m(oe),$=r(oe,"DIV",{class:!0});var ge=h($);U=r(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),G(U)!=="svelte-1vwoqjg"&&(U.textContent=Z),ie=m(ge),ne=r(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),G(ne)!=="svelte-4xl0jr"&&(ne.textContent=K),ge.forEach(u),oe.forEach(u),Ce.forEach(u),this.h()},h(){n(a,"class","svelte-conwl2"),n(v,"class","close-btn svelte-conwl2"),n(s,"class","modal-header svelte-conwl2"),n(S,"for","currentPassword"),n(S,"class","svelte-conwl2"),n(p,"type","password"),n(p,"id","currentPassword"),n(p,"placeholder","Enter current password"),n(p,"class","svelte-conwl2"),n(C,"class","form-group svelte-conwl2"),n(E,"for","newPassword"),n(E,"class","svelte-conwl2"),n(T,"type","password"),n(T,"id","newPassword"),n(T,"placeholder","Enter new password (min 8 characters)"),n(T,"class","svelte-conwl2"),n(k,"class","form-group svelte-conwl2"),n(H,"for","confirmPassword"),n(H,"class","svelte-conwl2"),n(ee,"type","password"),n(ee,"id","confirmPassword"),n(ee,"placeholder","Confirm new password"),n(ee,"class","svelte-conwl2"),n(A,"class","form-group svelte-conwl2"),n(c,"class","modal-body svelte-conwl2"),n(U,"class","btn btn-secondary svelte-conwl2"),n(ne,"class","btn btn-primary svelte-conwl2"),n($,"class","modal-footer svelte-conwl2"),n(e,"class","modal svelte-conwl2"),n(t,"class","modal-overlay svelte-conwl2")},m(Q,Ce){q(Q,t,Ce),l(t,e),l(e,s),l(s,a),l(s,_),l(s,v),Le(f,v,null),l(e,d),l(e,c),z&&z.m(c,null),l(c,g),l(c,C),l(C,S),l(C,R),l(C,p),Ve(p,o[13].currentPassword),l(c,y),l(c,k),l(k,E),l(k,N),l(k,T),Ve(T,o[13].newPassword),l(c,D),l(c,A),l(A,H),l(A,le),l(A,ee),Ve(ee,o[13].confirmPassword),l(e,re),l(e,$),l($,U),l($,ie),l($,ne),J=!0,Ee||(ke=[ce(v,"click",o[35]),ce(p,"input",o[36]),ce(T,"input",o[37]),ce(ee,"input",o[38]),ce(U,"click",o[39]),ce(ne,"click",o[17]),ce(e,"click",ot(o[22])),ce(t,"click",o[40])],Ee=!0)},p(Q,Ce){Q[14]?z?z.p(Q,Ce):(z=Ct(Q),z.c(),z.m(c,g)):z&&(z.d(1),z=null),Ce[0]&8192&&p.value!==Q[13].currentPassword&&Ve(p,Q[13].currentPassword),Ce[0]&8192&&T.value!==Q[13].newPassword&&Ve(T,Q[13].newPassword),Ce[0]&8192&&ee.value!==Q[13].confirmPassword&&Ve(ee,Q[13].confirmPassword)},i(Q){J||(j(f.$$.fragment,Q),J=!0)},o(Q){x(f.$$.fragment,Q),J=!1},d(Q){Q&&u(t),Ae(f),z&&z.d(),Ee=!1,at(ke)}}}function Ct(o){let t,e;return{c(){t=i("div"),e=me(o[14]),this.h()},l(s){t=r(s,"DIV",{class:!0});var a=h(t);e=pe(a,o[14]),a.forEach(u),this.h()},h(){n(t,"class","alert alert-error svelte-conwl2")},m(s,a){q(s,t,a),l(t,e)},p(s,a){a[0]&16384&&Te(e,s[14])},d(s){s&&u(t)}}}function kt(o){let t,e,s,a,b="Storage Usage",_,v,f,d,c,g,C,S,M,R,p,y,k="Storage Used",E,I,N,T,D,A,H,de,le,ee,re="Bandwidth Used",$,U,Z,ie,ne,K,J,Ee="Storage Information",ke,z,Q,Ce="Your storage quota is managed by your administrator",oe,we,ue="Contact your admin if you need more storage space",se,Se,Ne,ae,ge,B,ye="Close",fe,ve,W;f=new rt({props:{size:20}}),M=new Ut({props:{size:20}});function X(V,De){return V[10]?ol:nl}let P=X(o),O=P(o),be=o[10]&&o[10].max_storage_bytes&&Et(o);H=new Jt({props:{size:20}});function He(V,De){return V[10]?il:rl}let _e=He(o),Ie=_e(o),Y=o[10]&&o[10].max_bandwidth_bytes&&Nt(o),he=(o[9]||o[10])&&yt(o),L=o[10]&&o[10].storage_used>o[10].max_storage_bytes*.75&&Dt(),F=o[11]&&o[11].length>0&&St(o),te=o[0]&&o[0].role==="admin"&&Tt();return{c(){t=i("div"),e=i("div"),s=i("div"),a=i("h3"),a.textContent=b,_=w(),v=i("button"),Be(f.$$.fragment),d=w(),c=i("div"),g=i("div"),C=i("div"),S=i("div"),Be(M.$$.fragment),R=w(),p=i("div"),y=i("span"),y.textContent=k,E=w(),I=i("span"),O.c(),N=w(),be&&be.c(),T=w(),D=i("div"),A=i("div"),Be(H.$$.fragment),de=w(),le=i("div"),ee=i("span"),ee.textContent=re,$=w(),U=i("span"),Ie.c(),Z=w(),Y&&Y.c(),ie=w(),he&&he.c(),ne=w(),K=i("div"),J=i("h4"),J.textContent=Ee,ke=w(),z=i("ul"),Q=i("li"),Q.textContent=Ce,oe=w(),we=i("li"),we.textContent=ue,se=w(),L&&L.c(),Se=w(),F&&F.c(),Ne=w(),ae=i("div"),te&&te.c(),ge=w(),B=i("button"),B.textContent=ye,this.h()},l(V){t=r(V,"DIV",{class:!0});var De=h(t);e=r(De,"DIV",{class:!0});var Pe=h(e);s=r(Pe,"DIV",{class:!0});var Oe=h(s);a=r(Oe,"H3",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-ky8cl0"&&(a.textContent=b),_=m(Oe),v=r(Oe,"BUTTON",{class:!0});var Ke=h(v);Ue(f.$$.fragment,Ke),Ke.forEach(u),Oe.forEach(u),d=m(Pe),c=r(Pe,"DIV",{class:!0});var ze=h(c);g=r(ze,"DIV",{class:!0});var Fe=h(g);C=r(Fe,"DIV",{class:!0});var je=h(C);S=r(je,"DIV",{class:!0});var Je=h(S);Ue(M.$$.fragment,Je),Je.forEach(u),R=m(je),p=r(je,"DIV",{class:!0});var Me=h(p);y=r(Me,"SPAN",{class:!0,"data-svelte-h":!0}),G(y)!=="svelte-1n57b88"&&(y.textContent=k),E=m(Me),I=r(Me,"SPAN",{class:!0});var Qe=h(I);O.l(Qe),Qe.forEach(u),N=m(Me),be&&be.l(Me),Me.forEach(u),je.forEach(u),T=m(Fe),D=r(Fe,"DIV",{class:!0});var We=h(D);A=r(We,"DIV",{class:!0});var it=h(A);Ue(H.$$.fragment,it),it.forEach(u),de=m(We),le=r(We,"DIV",{class:!0});var Xe=h(le);ee=r(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),G(ee)!=="svelte-9h9qc8"&&(ee.textContent=re),$=m(Xe),U=r(Xe,"SPAN",{class:!0});var ct=h(U);Ie.l(ct),ct.forEach(u),Z=m(Xe),Y&&Y.l(Xe),Xe.forEach(u),We.forEach(u),Fe.forEach(u),ie=m(ze),he&&he.l(ze),ne=m(ze),K=r(ze,"DIV",{class:!0});var et=h(K);J=r(et,"H4",{class:!0,"data-svelte-h":!0}),G(J)!=="svelte-17f0c5n"&&(J.textContent=Ee),ke=m(et),z=r(et,"UL",{class:!0});var Ze=h(z);Q=r(Ze,"LI",{class:!0,"data-svelte-h":!0}),G(Q)!=="svelte-dj2ug8"&&(Q.textContent=Ce),oe=m(Ze),we=r(Ze,"LI",{class:!0,"data-svelte-h":!0}),G(we)!=="svelte-hgoiso"&&(we.textContent=ue),se=m(Ze),L&&L.l(Ze),Ze.forEach(u),et.forEach(u),Se=m(ze),F&&F.l(ze),ze.forEach(u),Ne=m(Pe),ae=r(Pe,"DIV",{class:!0});var tt=h(ae);te&&te.l(tt),ge=m(tt),B=r(tt,"BUTTON",{class:!0,"data-svelte-h":!0}),G(B)!=="svelte-qf12z4"&&(B.textContent=ye),tt.forEach(u),Pe.forEach(u),De.forEach(u),this.h()},h(){n(a,"class","svelte-conwl2"),n(v,"class","close-btn svelte-conwl2"),n(s,"class","modal-header svelte-conwl2"),n(S,"class","stat-icon storage-icon svelte-conwl2"),n(y,"class","stat-label svelte-conwl2"),n(I,"class","stat-value svelte-conwl2"),n(p,"class","stat-details svelte-conwl2"),n(C,"class","storage-stat-card svelte-conwl2"),n(A,"class","stat-icon bandwidth-icon svelte-conwl2"),n(ee,"class","stat-label svelte-conwl2"),n(U,"class","stat-value svelte-conwl2"),n(le,"class","stat-details svelte-conwl2"),n(D,"class","storage-stat-card svelte-conwl2"),n(g,"class","storage-overview svelte-conwl2"),n(J,"class","svelte-conwl2"),n(Q,"class","svelte-conwl2"),n(we,"class","svelte-conwl2"),n(z,"class","svelte-conwl2"),n(K,"class","storage-tips svelte-conwl2"),n(c,"class","modal-body svelte-conwl2"),n(B,"class","btn btn-primary svelte-conwl2"),n(ae,"class","modal-footer svelte-conwl2"),n(e,"class","modal storage-modal svelte-conwl2"),n(t,"class","modal-overlay svelte-conwl2")},m(V,De){q(V,t,De),l(t,e),l(e,s),l(s,a),l(s,_),l(s,v),Le(f,v,null),l(e,d),l(e,c),l(c,g),l(g,C),l(C,S),Le(M,S,null),l(C,R),l(C,p),l(p,y),l(p,E),l(p,I),O.m(I,null),l(p,N),be&&be.m(p,null),l(g,T),l(g,D),l(D,A),Le(H,A,null),l(D,de),l(D,le),l(le,ee),l(le,$),l(le,U),Ie.m(U,null),l(le,Z),Y&&Y.m(le,null),l(c,ie),he&&he.m(c,null),l(c,ne),l(c,K),l(K,J),l(K,ke),l(K,z),l(z,Q),l(z,oe),l(z,we),l(z,se),L&&L.m(z,null),l(c,Se),F&&F.m(c,null),l(e,Ne),l(e,ae),te&&te.m(ae,null),l(ae,ge),l(ae,B),fe=!0,ve||(W=[ce(v,"click",o[41]),ce(B,"click",o[42]),ce(e,"click",ot(o[21])),ce(t,"click",o[43])],ve=!0)},p(V,De){P===(P=X(V))&&O?O.p(V,De):(O.d(1),O=P(V),O&&(O.c(),O.m(I,null))),V[10]&&V[10].max_storage_bytes?be?be.p(V,De):(be=Et(V),be.c(),be.m(p,null)):be&&(be.d(1),be=null),_e===(_e=He(V))&&Ie?Ie.p(V,De):(Ie.d(1),Ie=_e(V),Ie&&(Ie.c(),Ie.m(U,null))),V[10]&&V[10].max_bandwidth_bytes?Y?Y.p(V,De):(Y=Nt(V),Y.c(),Y.m(le,null)):Y&&(Y.d(1),Y=null),V[9]||V[10]?he?he.p(V,De):(he=yt(V),he.c(),he.m(c,ne)):he&&(he.d(1),he=null),V[10]&&V[10].storage_used>V[10].max_storage_bytes*.75?L||(L=Dt(),L.c(),L.m(z,null)):L&&(L.d(1),L=null),V[11]&&V[11].length>0?F?(F.p(V,De),De[0]&2048&&j(F,1)):(F=St(V),F.c(),j(F,1),F.m(c,null)):F&&(qe(),x(F,1,1,()=>{F=null}),$e()),V[0]&&V[0].role==="admin"?te||(te=Tt(),te.c(),te.m(ae,ge)):te&&(te.d(1),te=null)},i(V){fe||(j(f.$$.fragment,V),j(M.$$.fragment,V),j(H.$$.fragment,V),j(F),fe=!0)},o(V){x(f.$$.fragment,V),x(M.$$.fragment,V),x(H.$$.fragment,V),x(F),fe=!1},d(V){V&&u(t),Ae(f),Ae(M),O.d(),be&&be.d(),Ae(H),Ie.d(),Y&&Y.d(),he&&he.d(),L&&L.d(),F&&F.d(),te&&te.d(),ve=!1,at(W)}}}function nl(o){let t;return{c(){t=me("Loading...")},l(e){t=pe(e,"Loading...")},m(e,s){q(e,t,s)},p:Ye,d(e){e&&u(t)}}}function ol(o){let t=Ge(o[10].storage_used||0)+"",e;return{c(){e=me(t)},l(s){e=pe(s,t)},m(s,a){q(s,e,a)},p(s,a){a[0]&1024&&t!==(t=Ge(s[10].storage_used||0)+"")&&Te(e,t)},d(s){s&&u(e)}}}function Et(o){let t,e,s,a,b,_=Ge(o[10].max_storage_bytes)+"",v,f;return{c(){t=i("div"),e=i("div"),s=w(),a=i("span"),b=me("of "),v=me(_),f=me(" available"),this.h()},l(d){t=r(d,"DIV",{class:!0});var c=h(t);e=r(c,"DIV",{class:!0,style:!0}),h(e).forEach(u),c.forEach(u),s=m(d),a=r(d,"SPAN",{class:!0});var g=h(a);b=pe(g,"of "),v=pe(g,_),f=pe(g," available"),g.forEach(u),this.h()},h(){n(e,"class","progress-fill svelte-conwl2"),xe(e,"width",Math.min(o[10].storage_used/o[10].max_storage_bytes*100,100)+"%"),n(t,"class","progress-bar svelte-conwl2"),n(a,"class","stat-detail svelte-conwl2")},m(d,c){q(d,t,c),l(t,e),q(d,s,c),q(d,a,c),l(a,b),l(a,v),l(a,f)},p(d,c){c[0]&1024&&xe(e,"width",Math.min(d[10].storage_used/d[10].max_storage_bytes*100,100)+"%"),c[0]&1024&&_!==(_=Ge(d[10].max_storage_bytes)+"")&&Te(v,_)},d(d){d&&(u(t),u(s),u(a))}}}function rl(o){let t;return{c(){t=me("Loading...")},l(e){t=pe(e,"Loading...")},m(e,s){q(e,t,s)},p:Ye,d(e){e&&u(t)}}}function il(o){let t=Ge(o[10].bandwidth_used||0)+"",e;return{c(){e=me(t)},l(s){e=pe(s,t)},m(s,a){q(s,e,a)},p(s,a){a[0]&1024&&t!==(t=Ge(s[10].bandwidth_used||0)+"")&&Te(e,t)},d(s){s&&u(e)}}}function Nt(o){let t,e,s,a,b,_=Ge(o[10].max_bandwidth_bytes)+"",v,f;return{c(){t=i("div"),e=i("div"),s=w(),a=i("span"),b=me("of "),v=me(_),f=me(" this month"),this.h()},l(d){t=r(d,"DIV",{class:!0});var c=h(t);e=r(c,"DIV",{class:!0,style:!0}),h(e).forEach(u),c.forEach(u),s=m(d),a=r(d,"SPAN",{class:!0});var g=h(a);b=pe(g,"of "),v=pe(g,_),f=pe(g," this month"),g.forEach(u),this.h()},h(){n(e,"class","progress-fill bandwidth svelte-conwl2"),xe(e,"width",Math.min(o[10].bandwidth_used/o[10].max_bandwidth_bytes*100,100)+"%"),n(t,"class","progress-bar svelte-conwl2"),n(a,"class","stat-detail svelte-conwl2")},m(d,c){q(d,t,c),l(t,e),q(d,s,c),q(d,a,c),l(a,b),l(a,v),l(a,f)},p(d,c){c[0]&1024&&xe(e,"width",Math.min(d[10].bandwidth_used/d[10].max_bandwidth_bytes*100,100)+"%"),c[0]&1024&&_!==(_=Ge(d[10].max_bandwidth_bytes)+"")&&Te(v,_)},d(d){d&&(u(t),u(s),u(a))}}}function yt(o){var H,de,le,ee,re;let t,e,s="Storage Details",a,b,_,v,f="Total Files:",d,c,g=(((de=(H=o[9])==null?void 0:H.storage)==null?void 0:de.total_objects)||0)+"",C,S,M,R,p="Shared Files:",y,k,E=(((ee=(le=o[9])==null?void 0:le.shares)==null?void 0:ee.total_shares)||0)+"",I,N,T,D=((re=o[10])==null?void 0:re.reset_bandwidth_at)&&Pt(o),A=o[10]&&o[10].storage_used>o[10].max_storage_bytes*.9&&It();return{c(){t=i("div"),e=i("h4"),e.textContent=s,a=w(),b=i("div"),_=i("div"),v=i("span"),v.textContent=f,d=w(),c=i("span"),C=me(g),S=w(),M=i("div"),R=i("span"),R.textContent=p,y=w(),k=i("span"),I=me(E),N=w(),D&&D.c(),T=w(),A&&A.c(),this.h()},l($){t=r($,"DIV",{class:!0});var U=h(t);e=r(U,"H4",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1fhunsr"&&(e.textContent=s),a=m(U),b=r(U,"DIV",{class:!0});var Z=h(b);_=r(Z,"DIV",{class:!0});var ie=h(_);v=r(ie,"SPAN",{class:!0,"data-svelte-h":!0}),G(v)!=="svelte-1qumz9c"&&(v.textContent=f),d=m(ie),c=r(ie,"SPAN",{class:!0});var ne=h(c);C=pe(ne,g),ne.forEach(u),ie.forEach(u),S=m(Z),M=r(Z,"DIV",{class:!0});var K=h(M);R=r(K,"SPAN",{class:!0,"data-svelte-h":!0}),G(R)!=="svelte-lp7fu3"&&(R.textContent=p),y=m(K),k=r(K,"SPAN",{class:!0});var J=h(k);I=pe(J,E),J.forEach(u),K.forEach(u),N=m(Z),D&&D.l(Z),T=m(Z),A&&A.l(Z),Z.forEach(u),U.forEach(u),this.h()},h(){n(e,"class","svelte-conwl2"),n(v,"class","detail-label svelte-conwl2"),n(c,"class","detail-value svelte-conwl2"),n(_,"class","detail-item svelte-conwl2"),n(R,"class","detail-label svelte-conwl2"),n(k,"class","detail-value svelte-conwl2"),n(M,"class","detail-item svelte-conwl2"),n(b,"class","detail-grid svelte-conwl2"),n(t,"class","storage-details svelte-conwl2")},m($,U){q($,t,U),l(t,e),l(t,a),l(t,b),l(b,_),l(_,v),l(_,d),l(_,c),l(c,C),l(b,S),l(b,M),l(M,R),l(M,y),l(M,k),l(k,I),l(b,N),D&&D.m(b,null),l(b,T),A&&A.m(b,null)},p($,U){var Z,ie,ne,K,J;U[0]&512&&g!==(g=(((ie=(Z=$[9])==null?void 0:Z.storage)==null?void 0:ie.total_objects)||0)+"")&&Te(C,g),U[0]&512&&E!==(E=(((K=(ne=$[9])==null?void 0:ne.shares)==null?void 0:K.total_shares)||0)+"")&&Te(I,E),(J=$[10])!=null&&J.reset_bandwidth_at?D?D.p($,U):(D=Pt($),D.c(),D.m(b,T)):D&&(D.d(1),D=null),$[10]&&$[10].storage_used>$[10].max_storage_bytes*.9?A||(A=It(),A.c(),A.m(b,null)):A&&(A.d(1),A=null)},d($){$&&u(t),D&&D.d(),A&&A.d()}}}function Pt(o){let t,e,s="Bandwidth Resets:",a,b,_=new Date(o[10].reset_bandwidth_at).toLocaleDateString()+"",v;return{c(){t=i("div"),e=i("span"),e.textContent=s,a=w(),b=i("span"),v=me(_),this.h()},l(f){t=r(f,"DIV",{class:!0});var d=h(t);e=r(d,"SPAN",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-1uentr8"&&(e.textContent=s),a=m(d),b=r(d,"SPAN",{class:!0});var c=h(b);v=pe(c,_),c.forEach(u),d.forEach(u),this.h()},h(){n(e,"class","detail-label svelte-conwl2"),n(b,"class","detail-value svelte-conwl2"),n(t,"class","detail-item svelte-conwl2")},m(f,d){q(f,t,d),l(t,e),l(t,a),l(t,b),l(b,v)},p(f,d){d[0]&1024&&_!==(_=new Date(f[10].reset_bandwidth_at).toLocaleDateString()+"")&&Te(v,_)},d(f){f&&u(t)}}}function It(o){let t,e='<span class="detail-label svelte-conwl2">⚠️ Storage Warning:</span> <span class="detail-value svelte-conwl2">Over 90% used</span>';return{c(){t=i("div"),t.innerHTML=e,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-133kqyi"&&(t.innerHTML=e),this.h()},h(){n(t,"class","detail-item warning svelte-conwl2")},m(s,a){q(s,t,a)},d(s){s&&u(t)}}}function Dt(o){let t,e="Your storage is almost full - please contact your administrator";return{c(){t=i("li"),t.textContent=e,this.h()},l(s){t=r(s,"LI",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-162kw3n"&&(t.textContent=e),this.h()},h(){n(t,"class","warning svelte-conwl2")},m(s,a){q(s,t,a)},d(s){s&&u(t)}}}function St(o){let t,e,s="Recent Activity",a,b,_,v=dt(o[11].slice(0,5)),f=[];for(let c=0;c<v.length;c+=1)f[c]=Vt(vt(o,v,c));const d=c=>x(f[c],1,1,()=>{f[c]=null});return{c(){t=i("div"),e=i("h4"),e.textContent=s,a=w(),b=i("div");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){t=r(c,"DIV",{class:!0});var g=h(t);e=r(g,"H4",{class:!0,"data-svelte-h":!0}),G(e)!=="svelte-dfla2a"&&(e.textContent=s),a=m(g),b=r(g,"DIV",{class:!0});var C=h(b);for(let S=0;S<f.length;S+=1)f[S].l(C);C.forEach(u),g.forEach(u),this.h()},h(){n(e,"class","svelte-conwl2"),n(b,"class","activity-list svelte-conwl2"),n(t,"class","recent-activity svelte-conwl2")},m(c,g){q(c,t,g),l(t,e),l(t,a),l(t,b);for(let C=0;C<f.length;C+=1)f[C]&&f[C].m(b,null);_=!0},p(c,g){if(g[0]&1050624){v=dt(c[11].slice(0,5));let C;for(C=0;C<v.length;C+=1){const S=vt(c,v,C);f[C]?(f[C].p(S,g),j(f[C],1)):(f[C]=Vt(S),f[C].c(),j(f[C],1),f[C].m(b,null))}for(qe(),C=v.length;C<f.length;C+=1)d(C);$e()}},i(c){if(!_){for(let g=0;g<v.length;g+=1)j(f[g]);_=!0}},o(c){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)x(f[g]);_=!1},d(c){c&&u(t),Ft(f,c)}}}function Vt(o){let t,e,s,a,b,_,v,f=o[47].action+"",d,c,g,C=new Date(o[47].created_at).toLocaleString()+"",S,M,R;var p=o[20](o[47].action);function y(k,E){return{props:{size:14}}}return p&&(s=ft(p,y())),{c(){t=i("div"),e=i("div"),s&&Be(s.$$.fragment),b=w(),_=i("div"),v=i("span"),d=me(f),c=w(),g=i("span"),S=me(C),M=w(),this.h()},l(k){t=r(k,"DIV",{class:!0});var E=h(t);e=r(E,"DIV",{class:!0});var I=h(e);s&&Ue(s.$$.fragment,I),I.forEach(u),b=m(E),_=r(E,"DIV",{class:!0});var N=h(_);v=r(N,"SPAN",{class:!0});var T=h(v);d=pe(T,f),T.forEach(u),c=m(N),g=r(N,"SPAN",{class:!0});var D=h(g);S=pe(D,C),D.forEach(u),N.forEach(u),M=m(E),E.forEach(u),this.h()},h(){n(e,"class",a="activity-icon "+Bt(o[47].action)+" svelte-conwl2"),n(v,"class","activity-action svelte-conwl2"),n(g,"class","activity-time svelte-conwl2"),n(_,"class","activity-details svelte-conwl2"),n(t,"class","activity-item svelte-conwl2")},m(k,E){q(k,t,E),l(t,e),s&&Le(s,e,null),l(t,b),l(t,_),l(_,v),l(v,d),l(_,c),l(_,g),l(g,S),l(t,M),R=!0},p(k,E){if(E[0]&2048&&p!==(p=k[20](k[47].action))){if(s){qe();const I=s;x(I.$$.fragment,1,0,()=>{Ae(I,1)}),$e()}p?(s=ft(p,y()),Be(s.$$.fragment),j(s.$$.fragment,1),Le(s,e,null)):s=null}(!R||E[0]&2048&&a!==(a="activity-icon "+Bt(k[47].action)+" svelte-conwl2"))&&n(e,"class",a),(!R||E[0]&2048)&&f!==(f=k[47].action+"")&&Te(d,f),(!R||E[0]&2048)&&C!==(C=new Date(k[47].created_at).toLocaleString()+"")&&Te(S,C)},i(k){R||(s&&j(s.$$.fragment,k),R=!0)},o(k){s&&x(s.$$.fragment,k),R=!1},d(k){k&&u(t),s&&Ae(s)}}}function Tt(o){let t,e="Extension Settings",s,a,b="Manage Files";return{c(){t=i("a"),t.textContent=e,s=w(),a=i("a"),a.textContent=b,this.h()},l(_){t=r(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(t)!=="svelte-87af3z"&&(t.textContent=e),s=m(_),a=r(_,"A",{href:!0,class:!0,"data-svelte-h":!0}),G(a)!=="svelte-bqcw15"&&(a.textContent=b),this.h()},h(){n(t,"href","/admin/extensions/cloudstorage"),n(t,"class","btn btn-secondary svelte-conwl2"),n(a,"href","/admin/storage"),n(a,"class","btn btn-secondary svelte-conwl2")},m(_,v){q(_,t,v),q(_,s,v),q(_,a,v)},d(_){_&&(u(t),u(s),u(a))}}}function cl(o){let t,e,s,a,b,_='<img src="/logo_long.png" alt="Solobase" class="logo svelte-conwl2"/>',v,f,d,c,g,C,S,M;const R=[ll,tl],p=[];function y(N,T){return N[1]?0:N[0]?1:-1}~(f=y(o))&&(d=p[f]=R[f](o));let k=o[5]&&wt(o),E=o[6]&&bt(o),I=o[7]&&kt(o);return{c(){t=w(),e=i("div"),s=i("div"),a=i("div"),b=i("div"),b.innerHTML=_,v=w(),d&&d.c(),c=w(),k&&k.c(),g=w(),E&&E.c(),C=w(),I&&I.c(),S=ut(),this.h()},l(N){$t("svelte-1tfeezg",document.head).forEach(u),t=m(N),e=r(N,"DIV",{class:!0});var D=h(e);s=r(D,"DIV",{class:!0});var A=h(s);a=r(A,"DIV",{class:!0});var H=h(a);b=r(H,"DIV",{class:!0,"data-svelte-h":!0}),G(b)!=="svelte-1ml0ev8"&&(b.innerHTML=_),v=m(H),d&&d.l(H),H.forEach(u),A.forEach(u),D.forEach(u),c=m(N),k&&k.l(N),g=m(N),E&&E.l(N),C=m(N),I&&I.l(N),S=ut(),this.h()},h(){document.title="Profile - Solobase",n(b,"class","logo-header svelte-conwl2"),n(a,"class","profile-card svelte-conwl2"),n(s,"class","profile-container svelte-conwl2"),n(e,"class","profile-page svelte-conwl2")},m(N,T){q(N,t,T),q(N,e,T),l(e,s),l(s,a),l(a,b),l(a,v),~f&&p[f].m(a,null),q(N,c,T),k&&k.m(N,T),q(N,g,T),E&&E.m(N,T),q(N,C,T),I&&I.m(N,T),q(N,S,T),M=!0},p(N,T){let D=f;f=y(N),f===D?~f&&p[f].p(N,T):(d&&(qe(),x(p[D],1,1,()=>{p[D]=null}),$e()),~f?(d=p[f],d?d.p(N,T):(d=p[f]=R[f](N),d.c()),j(d,1),d.m(a,null)):d=null),N[5]?k?(k.p(N,T),T[0]&32&&j(k,1)):(k=wt(N),k.c(),j(k,1),k.m(g.parentNode,g)):k&&(qe(),x(k,1,1,()=>{k=null}),$e()),N[6]?E?(E.p(N,T),T[0]&64&&j(E,1)):(E=bt(N),E.c(),j(E,1),E.m(C.parentNode,C)):E&&(qe(),x(E,1,1,()=>{E=null}),$e()),N[7]?I?(I.p(N,T),T[0]&128&&j(I,1)):(I=kt(N),I.c(),j(I,1),I.m(S.parentNode,S)):I&&(qe(),x(I,1,1,()=>{I=null}),$e())},i(N){M||(j(d),j(k),j(E),j(I),M=!0)},o(N){x(d),x(k),x(E),x(I),M=!1},d(N){N&&(u(t),u(e),u(c),u(g),u(C),u(S)),~f&&p[f].d(),k&&k.d(N),E&&E.d(N),I&&I.d(N)}}}function At(o){return o.substring(0,2).toUpperCase()}function Lt(o){const t=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16"];let e=0;for(let s=0;s<o.length;s++)e=o.charCodeAt(s)+((e<<5)-e);return t[Math.abs(e)%t.length]}function Ge(o){if(!o||o===0)return"0 B";const t=1024,e=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(o)/Math.log(t));return parseFloat((o/Math.pow(t,s)).toFixed(2))+" "+e[s]}function Bt(o){switch(o){case"download":return"text-purple-600";case"upload":return"text-green-600";case"share":return"text-cyan-600";default:return"text-gray-600"}}function ul(o,t,e){let s;qt(o,st,B=>e(44,s=B));let a=null,b=!0,_=!1,v="",f="",d=!1,c=!1,g=!1,C=!1,S=null,M=null,R=[],p={firstName:"",lastName:"",displayName:"",email:"",phone:"",location:""},y={currentPassword:"",newPassword:"",confirmPassword:""},k="",E="";Ot(async()=>{if(!s.user){lt("/auth/login");return}try{const ye=await Re.get("/auth/me");e(0,a=ye),e(12,p={firstName:a.first_name||"",lastName:a.last_name||"",displayName:a.display_name||a.email.split("@")[0],email:a.email,phone:a.phone||"",location:a.location||""}),await D(),e(1,b=!1)}catch(ye){e(3,v=ye.message||"Failed to load user profile"),e(1,b=!1)}});async function I(){e(2,_=!0),e(3,v=""),e(4,f="");try{await Re.patch(`/users/${a.id}`,{first_name:p.firstName,last_name:p.lastName,display_name:p.displayName,phone:p.phone,location:p.location}),e(4,f="Profile updated successfully"),st.updateUser({...a,first_name:p.firstName,last_name:p.lastName,display_name:p.displayName,phone:p.phone,location:p.location}),e(0,a={...a,first_name:p.firstName,last_name:p.lastName,display_name:p.displayName,phone:p.phone,location:p.location}),e(5,d=!1),setTimeout(()=>{e(4,f="")},3e3)}catch(B){e(3,v=B.message||"Failed to update profile")}finally{e(2,_=!1)}}async function N(){if(e(14,k=""),e(15,E=""),y.newPassword!==y.confirmPassword){e(14,k="New passwords do not match");return}if(y.newPassword.length<8){e(14,k="Password must be at least 8 characters");return}try{await Re.post("/auth/change-password",{current_password:y.currentPassword,new_password:y.newPassword}),e(15,E="Password changed successfully"),e(6,c=!1),e(13,y={currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>{e(15,E="")},3e3)}catch(B){e(14,k=B.message||"Failed to change password")}}async function T(){try{await Re.post("/auth/logout",{}),st.logout(),lt("/auth/login")}catch{st.logout(),lt("/auth/login")}}async function D(){try{const B=await Re.get("/settings/ext_cloudstorage_profile_show_usage");B&&B.value&&e(8,C=B.value==="true"||B.value===!0)}catch{e(8,C=!1)}}async function A(){try{const[B,ye,fe]=await Promise.all([Re.get("/ext/cloudstorage/api/stats").catch(()=>null),Re.get("/ext/cloudstorage/api/quota/me").catch(()=>null),Re.get("/ext/cloudstorage/api/access-logs?user_id=me&limit=10").catch(()=>null)]);e(9,S=B),e(10,M=ye),e(11,R=fe||[])}catch(B){console.error("Failed to load storage data:",B)}}async function H(){e(7,g=!0),S||await A()}function de(B){switch(B){case"download":return Zt;case"upload":return Xt;case"share":return Wt;default:return Qt}}function le(B){nt.call(this,o,B)}function ee(B){nt.call(this,o,B)}function re(B){nt.call(this,o,B)}const $=()=>lt("/profile/products"),U=()=>e(5,d=!0),Z=()=>e(6,c=!0),ie=()=>e(5,d=!1);function ne(){p.firstName=this.value,e(12,p)}function K(){p.lastName=this.value,e(12,p)}function J(){p.displayName=this.value,e(12,p)}function Ee(){p.phone=this.value,e(12,p)}function ke(){p.location=this.value,e(12,p)}const z=()=>e(5,d=!1),Q=()=>e(5,d=!1),Ce=()=>e(6,c=!1);function oe(){y.currentPassword=this.value,e(13,y)}function we(){y.newPassword=this.value,e(13,y)}function ue(){y.confirmPassword=this.value,e(13,y)}return[a,b,_,v,f,d,c,g,C,S,M,R,p,y,k,E,I,N,T,H,de,le,ee,re,$,U,Z,ie,ne,K,J,Ee,ke,z,Q,Ce,oe,we,ue,()=>{e(6,c=!1),e(13,y={currentPassword:"",newPassword:"",confirmPassword:""}),e(14,k="")},()=>e(6,c=!1),()=>e(7,g=!1),()=>e(7,g=!1),()=>e(7,g=!1)]}class Al extends zt{constructor(t){super(),Mt(this,t,ul,cl,Ht,{},null,[-1,-1])}}export{Al as component};
