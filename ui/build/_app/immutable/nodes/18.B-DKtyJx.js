import{S as gl,i as jl,s as El,d as o,w as pe,o as U,p as H,D as Rt,b as J,c as e,x as fe,E as A,C as t,e as a,f as p,F as C,h as v,y as ve,g as _e,j as r,k as _,z as he,t as me,H as Ll,a as kl,n as at,I as Il,B as As,K as D,M as kt,L as pl,J as $t,N as Tl,O as yl}from"../chunks/zFlxOerl.js";import{e as Cl}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{a as xs}from"../chunks/DCFqKId7.js";import{r as Ml}from"../chunks/gmZdcT_s.js";import{R as Dl}from"../chunks/IQb7G7yL.js";import{C as wl}from"../chunks/B4Vv3OTz.js";import{A as Hs}from"../chunks/NPpIMwoW.js";import{S as Vl}from"../chunks/CcH6nnIi.js";import{S as Sl}from"../chunks/DKmO0HAJ.js";import{M as xl}from"../chunks/B6iRZtB-.js";import{H as Al}from"../chunks/hgCRLMmt.js";import{S as Hl}from"../chunks/CAZALTwl.js";function Bl(i,s,l){const n=i.slice();return n[28]=s[l],n}function fl(i){let s,l,n,d;return l=new wl({props:{size:16,class:"mr-2"}}),{c(){s=r("div"),he(l.$$.fragment),n=me(`
					Settings saved`),this.h()},l(f){s=a(f,"DIV",{class:!0});var c=p(s);ve(l.$$.fragment,c),n=_e(c,`
					Settings saved`),c.forEach(o),this.h()},h(){t(s,"class","flex items-center text-green-600 px-3 py-2 bg-green-50 rounded")},m(f,c){J(f,s,c),fe(l,s,null),e(s,n),d=!0},i(f){d||(H(l.$$.fragment,f),d=!0)},o(f){U(l.$$.fragment,f),d=!1},d(f){f&&o(s),pe(l)}}}function vl(i){let s,l,n,d,f,c;return l=new Hs({props:{size:18}}),{c(){s=r("div"),he(l.$$.fragment),n=_(),d=r("span"),f=me(i[4]),this.h()},l(m){s=a(m,"DIV",{class:!0});var u=p(s);ve(l.$$.fragment,u),n=v(u),d=a(u,"SPAN",{});var b=p(d);f=_e(b,i[4]),b.forEach(o),u.forEach(o),this.h()},h(){t(s,"class","error-banner svelte-sjn19d")},m(m,u){J(m,s,u),fe(l,s,null),e(s,n),e(s,d),e(d,f),c=!0},p(m,u){(!c||u&16)&&kl(f,m[4])},i(m){c||(H(l.$$.fragment,m),c=!0)},o(m){U(l.$$.fragment,m),c=!1},d(m){m&&o(s),pe(l)}}}function Pl(i){let s,l,n,d,f="Failed to load settings. Please try refreshing the page.",c;return l=new Hs({props:{size:18}}),{c(){s=r("div"),he(l.$$.fragment),n=_(),d=r("span"),d.textContent=f,this.h()},l(m){s=a(m,"DIV",{class:!0});var u=p(s);ve(l.$$.fragment,u),n=v(u),d=a(u,"SPAN",{"data-svelte-h":!0}),C(d)!=="svelte-1y1qfo9"&&(d.textContent=f),u.forEach(o),this.h()},h(){t(s,"class","error-banner svelte-sjn19d")},m(m,u){J(m,s,u),fe(l,s,null),e(s,n),e(s,d),c=!0},p:at,i(m){c||(H(l.$$.fragment,m),c=!0)},o(m){U(l.$$.fragment,m),c=!1},d(m){m&&o(s),pe(l)}}}function Nl(i){let s,l,n,d,f,c,m,u,b,B,z='<span class="label-text font-medium svelte-sjn19d">Application Name</span>',I,T,x,g,L,P='<span class="label-text font-medium svelte-sjn19d">Application URL</span>',w,N,y,j,M,S,W="Allow User Signup",k,V,O,X,G,K,q="Require Email Confirmation",Ot,je,Gt,ae,Ne,Bs='<span class="label-text font-medium svelte-sjn19d">Notification Banner</span>',Kt,re,Xt,Ue,Ps='<span class="label-text-alt svelte-sjn19d">Leave empty to hide the notification banner</span>',Jt,rt,Ee,ze,qe,Wt,Qt,Le,ke,Fe,Ns='<span class="label-text font-medium svelte-sjn19d">Session Timeout</span> <span class="label-text-alt svelte-sjn19d">minutes</span>',Yt,Y,Zt,Ie,Re,Us='<span class="label-text font-medium svelte-sjn19d">Minimum Password Length</span>',es,Q,ts,it,Z,$e,Oe,ss,ls,ot,Te,ye,ns,Ge,zs="Enable SMTP",as,rs,dt,ee,Ke,Xe,is,os,ie,Ce,Je,qs='<span class="label-text font-medium svelte-sjn19d">Storage Provider</span>',ds,te,be,Fs="Local Filesystem",ge,Rs="Amazon S3",cs,Me,We,$s='<span class="label-text font-medium svelte-sjn19d">Max Upload Size</span>',us,oe,It,ps,De,Qe,Os='<span class="label-text font-medium svelte-sjn19d">Allowed File Types</span> <span class="label-text-alt svelte-sjn19d">comma-separated MIME types</span>',fs,de,vs,_s,ct,we,Ye,Gs="Developer Options",hs,Ve,ut,Se,xe,ms,Ze,Ks="Enable API Logging",bs,pt,Ae,He,gs,et,Xs="Enable Debug Mode",js,ft,se,tt,st,Es,Ls,vt,Be,Pe,ks,lt,Js="Enable Maintenance Mode",Is,Ts,_t,ce,le,ne,ht,ys,Ws;f=new Vl({props:{size:20}}),qe=new Sl({props:{size:20}}),Oe=new xl({props:{size:20}});let F=i[0].smtp_enabled&&_l(i);Xe=new Al({props:{size:20}});let R=i[0].storage_provider==="s3"&&hl(i);st=new Hs({props:{size:20,class:"text-warning"}});let $=i[0].maintenance_mode&&ml(i);const Qs=[ql,zl],nt=[];function Ys(h,E){return h[2]?0:1}return le=Ys(i),ne=nt[le]=Qs[le](i),{c(){s=r("div"),l=r("div"),n=r("div"),d=r("h2"),he(f.$$.fragment),c=me(`
						General Settings`),m=_(),u=r("div"),b=r("div"),B=r("label"),B.innerHTML=z,I=_(),T=r("input"),x=_(),g=r("div"),L=r("label"),L.innerHTML=P,w=_(),N=r("input"),y=_(),j=r("div"),M=r("label"),S=r("span"),S.textContent=W,k=_(),V=r("input"),O=_(),X=r("div"),G=r("label"),K=r("span"),K.textContent=q,Ot=_(),je=r("input"),Gt=_(),ae=r("div"),Ne=r("label"),Ne.innerHTML=Bs,Kt=_(),re=r("textarea"),Xt=_(),Ue=r("label"),Ue.innerHTML=Ps,Jt=_(),rt=r("div"),Ee=r("div"),ze=r("h2"),he(qe.$$.fragment),Wt=me(`
						Security`),Qt=_(),Le=r("div"),ke=r("div"),Fe=r("label"),Fe.innerHTML=Ns,Yt=_(),Y=r("input"),Zt=_(),Ie=r("div"),Re=r("label"),Re.innerHTML=Us,es=_(),Q=r("input"),ts=_(),it=r("div"),Z=r("div"),$e=r("h2"),he(Oe.$$.fragment),ss=me(`
						Email Configuration`),ls=_(),ot=r("div"),Te=r("label"),ye=r("input"),ns=_(),Ge=r("span"),Ge.textContent=zs,as=_(),F&&F.c(),rs=_(),dt=r("div"),ee=r("div"),Ke=r("h2"),he(Xe.$$.fragment),is=me(`
						Storage Configuration`),os=_(),ie=r("div"),Ce=r("div"),Je=r("label"),Je.innerHTML=qs,ds=_(),te=r("select"),be=r("option"),be.textContent=Fs,ge=r("option"),ge.textContent=Rs,cs=_(),Me=r("div"),We=r("label"),We.innerHTML=$s,us=_(),oe=r("input"),ps=_(),De=r("div"),Qe=r("label"),Qe.innerHTML=Os,fs=_(),de=r("input"),vs=_(),R&&R.c(),_s=_(),ct=r("div"),we=r("div"),Ye=r("h2"),Ye.textContent=Gs,hs=_(),Ve=r("div"),ut=r("div"),Se=r("label"),xe=r("input"),ms=_(),Ze=r("span"),Ze.textContent=Ks,bs=_(),pt=r("div"),Ae=r("label"),He=r("input"),gs=_(),et=r("span"),et.textContent=Xs,js=_(),ft=r("div"),se=r("div"),tt=r("h2"),he(st.$$.fragment),Es=me(`
						Maintenance Mode`),Ls=_(),vt=r("div"),Be=r("label"),Pe=r("input"),ks=_(),lt=r("span"),lt.textContent=Js,Is=_(),$&&$.c(),Ts=_(),_t=r("div"),ce=r("button"),ne.c(),this.h()},l(h){s=a(h,"DIV",{class:!0});var E=p(s);l=a(E,"DIV",{class:!0});var mt=p(l);n=a(mt,"DIV",{class:!0});var Tt=p(n);d=a(Tt,"H2",{class:!0});var Cs=p(d);ve(f.$$.fragment,Cs),c=_e(Cs,`
						General Settings`),Cs.forEach(o),m=v(Tt),u=a(Tt,"DIV",{class:!0});var ue=p(u);b=a(ue,"DIV",{class:!0});var yt=p(b);B=a(yt,"LABEL",{class:!0,"data-svelte-h":!0}),C(B)!=="svelte-bnlrta"&&(B.innerHTML=z),I=v(yt),T=a(yt,"INPUT",{type:!0,class:!0,placeholder:!0}),yt.forEach(o),x=v(ue),g=a(ue,"DIV",{class:!0});var Ct=p(g);L=a(Ct,"LABEL",{class:!0,"data-svelte-h":!0}),C(L)!=="svelte-16b5ce4"&&(L.innerHTML=P),w=v(Ct),N=a(Ct,"INPUT",{type:!0,class:!0,placeholder:!0}),Ct.forEach(o),y=v(ue),j=a(ue,"DIV",{class:!0});var Zs=p(j);M=a(Zs,"LABEL",{class:!0});var Mt=p(M);S=a(Mt,"SPAN",{class:!0,"data-svelte-h":!0}),C(S)!=="svelte-c1r6we"&&(S.textContent=W),k=v(Mt),V=a(Mt,"INPUT",{type:!0,class:!0}),Mt.forEach(o),Zs.forEach(o),O=v(ue),X=a(ue,"DIV",{class:!0});var el=p(X);G=a(el,"LABEL",{class:!0});var Dt=p(G);K=a(Dt,"SPAN",{class:!0,"data-svelte-h":!0}),C(K)!=="svelte-1dod6ji"&&(K.textContent=q),Ot=v(Dt),je=a(Dt,"INPUT",{type:!0,class:!0}),Dt.forEach(o),el.forEach(o),Gt=v(ue),ae=a(ue,"DIV",{class:!0});var bt=p(ae);Ne=a(bt,"LABEL",{class:!0,"data-svelte-h":!0}),C(Ne)!=="svelte-ptss2w"&&(Ne.innerHTML=Bs),Kt=v(bt),re=a(bt,"TEXTAREA",{class:!0,placeholder:!0,rows:!0}),p(re).forEach(o),Xt=v(bt),Ue=a(bt,"LABEL",{class:!0,"data-svelte-h":!0}),C(Ue)!=="svelte-1y851nr"&&(Ue.innerHTML=Ps),bt.forEach(o),ue.forEach(o),Tt.forEach(o),mt.forEach(o),Jt=v(E),rt=a(E,"DIV",{class:!0});var tl=p(rt);Ee=a(tl,"DIV",{class:!0});var wt=p(Ee);ze=a(wt,"H2",{class:!0});var Ms=p(ze);ve(qe.$$.fragment,Ms),Wt=_e(Ms,`
						Security`),Ms.forEach(o),Qt=v(wt),Le=a(wt,"DIV",{class:!0});var Vt=p(Le);ke=a(Vt,"DIV",{class:!0});var St=p(ke);Fe=a(St,"LABEL",{class:!0,"data-svelte-h":!0}),C(Fe)!=="svelte-a73xkb"&&(Fe.innerHTML=Ns),Yt=v(St),Y=a(St,"INPUT",{type:!0,class:!0,min:!0,placeholder:!0}),St.forEach(o),Zt=v(Vt),Ie=a(Vt,"DIV",{class:!0});var xt=p(Ie);Re=a(xt,"LABEL",{class:!0,"data-svelte-h":!0}),C(Re)!=="svelte-y4oyku"&&(Re.innerHTML=Us),es=v(xt),Q=a(xt,"INPUT",{type:!0,class:!0,min:!0,max:!0,placeholder:!0}),xt.forEach(o),Vt.forEach(o),wt.forEach(o),tl.forEach(o),ts=v(E),it=a(E,"DIV",{class:!0});var sl=p(it);Z=a(sl,"DIV",{class:!0});var gt=p(Z);$e=a(gt,"H2",{class:!0});var Ds=p($e);ve(Oe.$$.fragment,Ds),ss=_e(Ds,`
						Email Configuration`),Ds.forEach(o),ls=v(gt),ot=a(gt,"DIV",{class:!0});var ll=p(ot);Te=a(ll,"LABEL",{class:!0});var At=p(Te);ye=a(At,"INPUT",{type:!0,class:!0}),ns=v(At),Ge=a(At,"SPAN",{class:!0,"data-svelte-h":!0}),C(Ge)!=="svelte-3b95tr"&&(Ge.textContent=zs),At.forEach(o),ll.forEach(o),as=v(gt),F&&F.l(gt),gt.forEach(o),sl.forEach(o),rs=v(E),dt=a(E,"DIV",{class:!0});var nl=p(dt);ee=a(nl,"DIV",{class:!0});var jt=p(ee);Ke=a(jt,"H2",{class:!0});var ws=p(Ke);ve(Xe.$$.fragment,ws),is=_e(ws,`
						Storage Configuration`),ws.forEach(o),os=v(jt),ie=a(jt,"DIV",{class:!0});var Et=p(ie);Ce=a(Et,"DIV",{class:!0});var Ht=p(Ce);Je=a(Ht,"LABEL",{class:!0,"data-svelte-h":!0}),C(Je)!=="svelte-vucuf3"&&(Je.innerHTML=qs),ds=v(Ht),te=a(Ht,"SELECT",{class:!0});var Vs=p(te);be=a(Vs,"OPTION",{"data-svelte-h":!0}),C(be)!=="svelte-1yvfi9p"&&(be.textContent=Fs),ge=a(Vs,"OPTION",{"data-svelte-h":!0}),C(ge)!=="svelte-1v4rbc"&&(ge.textContent=Rs),Vs.forEach(o),Ht.forEach(o),cs=v(Et),Me=a(Et,"DIV",{class:!0});var Bt=p(Me);We=a(Bt,"LABEL",{class:!0,"data-svelte-h":!0}),C(We)!=="svelte-ijj0nh"&&(We.innerHTML=$s),us=v(Bt),oe=a(Bt,"INPUT",{type:!0,class:!0,placeholder:!0}),Bt.forEach(o),ps=v(Et),De=a(Et,"DIV",{class:!0});var Pt=p(De);Qe=a(Pt,"LABEL",{class:!0,"data-svelte-h":!0}),C(Qe)!=="svelte-xzjbz2"&&(Qe.innerHTML=Os),fs=v(Pt),de=a(Pt,"INPUT",{type:!0,class:!0,placeholder:!0}),Pt.forEach(o),Et.forEach(o),vs=v(jt),R&&R.l(jt),jt.forEach(o),nl.forEach(o),_s=v(E),ct=a(E,"DIV",{class:!0});var al=p(ct);we=a(al,"DIV",{class:!0});var Nt=p(we);Ye=a(Nt,"H2",{class:!0,"data-svelte-h":!0}),C(Ye)!=="svelte-1082w3i"&&(Ye.textContent=Gs),hs=v(Nt),Ve=a(Nt,"DIV",{class:!0});var Ut=p(Ve);ut=a(Ut,"DIV",{class:!0});var rl=p(ut);Se=a(rl,"LABEL",{class:!0});var zt=p(Se);xe=a(zt,"INPUT",{type:!0,class:!0}),ms=v(zt),Ze=a(zt,"SPAN",{class:!0,"data-svelte-h":!0}),C(Ze)!=="svelte-qz7phs"&&(Ze.textContent=Ks),zt.forEach(o),rl.forEach(o),bs=v(Ut),pt=a(Ut,"DIV",{class:!0});var il=p(pt);Ae=a(il,"LABEL",{class:!0});var qt=p(Ae);He=a(qt,"INPUT",{type:!0,class:!0}),gs=v(qt),et=a(qt,"SPAN",{class:!0,"data-svelte-h":!0}),C(et)!=="svelte-qfdvqd"&&(et.textContent=Xs),qt.forEach(o),il.forEach(o),Ut.forEach(o),Nt.forEach(o),al.forEach(o),js=v(E),ft=a(E,"DIV",{class:!0});var ol=p(ft);se=a(ol,"DIV",{class:!0});var Lt=p(se);tt=a(Lt,"H2",{class:!0});var Ss=p(tt);ve(st.$$.fragment,Ss),Es=_e(Ss,`
						Maintenance Mode`),Ss.forEach(o),Ls=v(Lt),vt=a(Lt,"DIV",{class:!0});var dl=p(vt);Be=a(dl,"LABEL",{class:!0});var Ft=p(Be);Pe=a(Ft,"INPUT",{type:!0,class:!0}),ks=v(Ft),lt=a(Ft,"SPAN",{class:!0,"data-svelte-h":!0}),C(lt)!=="svelte-1004vml"&&(lt.textContent=Js),Ft.forEach(o),dl.forEach(o),Is=v(Lt),$&&$.l(Lt),Lt.forEach(o),ol.forEach(o),Ts=v(E),_t=a(E,"DIV",{class:!0});var cl=p(_t);ce=a(cl,"BUTTON",{class:!0});var ul=p(ce);ne.l(ul),ul.forEach(o),cl.forEach(o),E.forEach(o),this.h()},h(){t(d,"class","card-title text-xl mb-4 svelte-sjn19d"),t(B,"class","label svelte-sjn19d"),t(T,"type","text"),t(T,"class","input input-bordered svelte-sjn19d"),t(T,"placeholder","My Application"),t(b,"class","form-control svelte-sjn19d"),t(L,"class","label svelte-sjn19d"),t(N,"type","url"),t(N,"class","input input-bordered svelte-sjn19d"),t(N,"placeholder","https://example.com"),t(g,"class","form-control svelte-sjn19d"),t(S,"class","label-text font-medium svelte-sjn19d"),t(V,"type","checkbox"),t(V,"class","toggle toggle-primary svelte-sjn19d"),t(M,"class","label cursor-pointer svelte-sjn19d"),t(j,"class","form-control svelte-sjn19d"),t(K,"class","label-text font-medium svelte-sjn19d"),t(je,"type","checkbox"),t(je,"class","toggle toggle-primary svelte-sjn19d"),t(G,"class","label cursor-pointer svelte-sjn19d"),t(X,"class","form-control svelte-sjn19d"),t(Ne,"class","label svelte-sjn19d"),t(re,"class","textarea textarea-bordered svelte-sjn19d"),t(re,"placeholder","Enter a notification message to display to all users"),t(re,"rows","2"),t(Ue,"class","label svelte-sjn19d"),t(ae,"class","form-control svelte-sjn19d"),t(u,"class","settings-fields svelte-sjn19d"),t(n,"class","card-body"),t(l,"class","card bg-base-100 shadow-sm"),t(ze,"class","card-title text-xl mb-4 svelte-sjn19d"),t(Fe,"class","label svelte-sjn19d"),t(Y,"type","number"),t(Y,"class","input input-bordered svelte-sjn19d"),t(Y,"min","5"),t(Y,"placeholder","1440"),t(ke,"class","form-control svelte-sjn19d"),t(Re,"class","label svelte-sjn19d"),t(Q,"type","number"),t(Q,"class","input input-bordered svelte-sjn19d"),t(Q,"min","6"),t(Q,"max","32"),t(Q,"placeholder","8"),t(Ie,"class","form-control svelte-sjn19d"),t(Le,"class","settings-fields svelte-sjn19d"),t(Ee,"class","card-body"),t(rt,"class","card bg-base-100 shadow-sm"),t($e,"class","card-title text-xl mb-4 svelte-sjn19d"),t(ye,"type","checkbox"),t(ye,"class","toggle toggle-primary svelte-sjn19d"),t(Ge,"class","label-text font-medium svelte-sjn19d"),t(Te,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(ot,"class","form-control mb-4 svelte-sjn19d"),t(Z,"class","card-body"),t(it,"class","card bg-base-100 shadow-sm"),t(Ke,"class","card-title text-xl mb-4 svelte-sjn19d"),t(Je,"class","label svelte-sjn19d"),be.__value="local",D(be,be.__value),ge.__value="s3",D(ge,ge.__value),t(te,"class","select select-bordered svelte-sjn19d"),i[0].storage_provider===void 0&&Tl(()=>i[18].call(te)),t(Ce,"class","form-control svelte-sjn19d"),t(We,"class","label svelte-sjn19d"),t(oe,"type","text"),t(oe,"class","input input-bordered svelte-sjn19d"),oe.value=It=bl(i[0].max_upload_size),t(oe,"placeholder","10 MB"),t(Me,"class","form-control svelte-sjn19d"),t(Qe,"class","label svelte-sjn19d"),t(de,"type","text"),t(de,"class","input input-bordered svelte-sjn19d"),t(de,"placeholder","image/*,application/pdf,text/*"),t(De,"class","form-control md:col-span-2 svelte-sjn19d"),t(ie,"class","settings-fields svelte-sjn19d"),t(ee,"class","card-body"),t(dt,"class","card bg-base-100 shadow-sm"),t(Ye,"class","card-title text-xl mb-4 svelte-sjn19d"),t(xe,"type","checkbox"),t(xe,"class","toggle toggle-primary svelte-sjn19d"),t(Ze,"class","label-text font-medium svelte-sjn19d"),t(Se,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(ut,"class","form-control svelte-sjn19d"),t(He,"type","checkbox"),t(He,"class","toggle toggle-warning svelte-sjn19d"),t(et,"class","label-text font-medium svelte-sjn19d"),t(Ae,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(pt,"class","form-control svelte-sjn19d"),t(Ve,"class","space-y-3"),t(we,"class","card-body"),t(ct,"class","card bg-base-100 shadow-sm"),t(tt,"class","card-title text-xl mb-4 svelte-sjn19d"),t(Pe,"type","checkbox"),t(Pe,"class","toggle toggle-warning svelte-sjn19d"),t(lt,"class","label-text font-medium svelte-sjn19d"),t(Be,"class","label cursor-pointer justify-start gap-3 svelte-sjn19d"),t(vt,"class","form-control mb-4 svelte-sjn19d"),t(se,"class","card-body"),t(ft,"class","card bg-base-100 shadow-sm border-2 border-warning/20"),t(ce,"class","save-button svelte-sjn19d"),ce.disabled=i[2],t(_t,"class","save-container svelte-sjn19d"),t(s,"class","settings-grid svelte-sjn19d")},m(h,E){J(h,s,E),e(s,l),e(l,n),e(n,d),fe(f,d,null),e(d,c),e(n,m),e(n,u),e(u,b),e(b,B),e(b,I),e(b,T),D(T,i[0].app_name),e(u,x),e(u,g),e(g,L),e(g,w),e(g,N),D(N,i[0].app_url),e(u,y),e(u,j),e(j,M),e(M,S),e(M,k),e(M,V),V.checked=i[0].allow_signup,e(u,O),e(u,X),e(X,G),e(G,K),e(G,Ot),e(G,je),je.checked=i[0].require_email_confirmation,e(u,Gt),e(u,ae),e(ae,Ne),e(ae,Kt),e(ae,re),D(re,i[0].notification),e(ae,Xt),e(ae,Ue),e(s,Jt),e(s,rt),e(rt,Ee),e(Ee,ze),fe(qe,ze,null),e(ze,Wt),e(Ee,Qt),e(Ee,Le),e(Le,ke),e(ke,Fe),e(ke,Yt),e(ke,Y),D(Y,i[0].session_timeout),e(Le,Zt),e(Le,Ie),e(Ie,Re),e(Ie,es),e(Ie,Q),D(Q,i[0].password_min_length),e(s,ts),e(s,it),e(it,Z),e(Z,$e),fe(Oe,$e,null),e($e,ss),e(Z,ls),e(Z,ot),e(ot,Te),e(Te,ye),ye.checked=i[0].smtp_enabled,e(Te,ns),e(Te,Ge),e(Z,as),F&&F.m(Z,null),e(s,rs),e(s,dt),e(dt,ee),e(ee,Ke),fe(Xe,Ke,null),e(Ke,is),e(ee,os),e(ee,ie),e(ie,Ce),e(Ce,Je),e(Ce,ds),e(Ce,te),e(te,be),e(te,ge),pl(te,i[0].storage_provider,!0),e(ie,cs),e(ie,Me),e(Me,We),e(Me,us),e(Me,oe),e(ie,ps),e(ie,De),e(De,Qe),e(De,fs),e(De,de),D(de,i[0].allowed_file_types),e(ee,vs),R&&R.m(ee,null),e(s,_s),e(s,ct),e(ct,we),e(we,Ye),e(we,hs),e(we,Ve),e(Ve,ut),e(ut,Se),e(Se,xe),xe.checked=i[0].enable_api_logs,e(Se,ms),e(Se,Ze),e(Ve,bs),e(Ve,pt),e(pt,Ae),e(Ae,He),He.checked=i[0].enable_debug_mode,e(Ae,gs),e(Ae,et),e(s,js),e(s,ft),e(ft,se),e(se,tt),fe(st,tt,null),e(tt,Es),e(se,Ls),e(se,vt),e(vt,Be),e(Be,Pe),Pe.checked=i[0].maintenance_mode,e(Be,ks),e(Be,lt),e(se,Is),$&&$.m(se,null),e(s,Ts),e(s,_t),e(_t,ce),nt[le].m(ce,null),ht=!0,ys||(Ws=[A(T,"input",i[7]),A(N,"input",i[8]),A(V,"change",i[9]),A(je,"change",i[10]),A(re,"input",i[11]),A(Y,"input",i[12]),A(Q,"input",i[13]),A(ye,"change",i[14]),A(te,"change",i[18]),A(oe,"change",i[19]),A(de,"input",i[20]),A(xe,"change",i[23]),A(He,"change",i[24]),A(Pe,"change",i[25]),A(ce,"click",i[5])],ys=!0)},p(h,E){E&1&&T.value!==h[0].app_name&&D(T,h[0].app_name),E&1&&N.value!==h[0].app_url&&D(N,h[0].app_url),E&1&&(V.checked=h[0].allow_signup),E&1&&(je.checked=h[0].require_email_confirmation),E&1&&D(re,h[0].notification),E&1&&kt(Y.value)!==h[0].session_timeout&&D(Y,h[0].session_timeout),E&1&&kt(Q.value)!==h[0].password_min_length&&D(Q,h[0].password_min_length),E&1&&(ye.checked=h[0].smtp_enabled),h[0].smtp_enabled?F?F.p(h,E):(F=_l(h),F.c(),F.m(Z,null)):F&&(F.d(1),F=null),E&1&&pl(te,h[0].storage_provider),(!ht||E&1&&It!==(It=bl(h[0].max_upload_size))&&oe.value!==It)&&(oe.value=It),E&1&&de.value!==h[0].allowed_file_types&&D(de,h[0].allowed_file_types),h[0].storage_provider==="s3"?R?R.p(h,E):(R=hl(h),R.c(),R.m(ee,null)):R&&(R.d(1),R=null),E&1&&(xe.checked=h[0].enable_api_logs),E&1&&(He.checked=h[0].enable_debug_mode),E&1&&(Pe.checked=h[0].maintenance_mode),h[0].maintenance_mode?$?$.p(h,E):($=ml(h),$.c(),$.m(se,null)):$&&($.d(1),$=null);let mt=le;le=Ys(h),le!==mt&&($t(),U(nt[mt],1,1,()=>{nt[mt]=null}),Rt(),ne=nt[le],ne||(ne=nt[le]=Qs[le](h),ne.c()),H(ne,1),ne.m(ce,null)),(!ht||E&4)&&(ce.disabled=h[2])},i(h){ht||(H(f.$$.fragment,h),H(qe.$$.fragment,h),H(Oe.$$.fragment,h),H(Xe.$$.fragment,h),H(st.$$.fragment,h),H(ne),ht=!0)},o(h){U(f.$$.fragment,h),U(qe.$$.fragment,h),U(Oe.$$.fragment,h),U(Xe.$$.fragment,h),U(st.$$.fragment,h),U(ne),ht=!1},d(h){h&&o(s),pe(f),pe(qe),pe(Oe),F&&F.d(),pe(Xe),R&&R.d(),pe(st),$&&$.d(),nt[le].d(),ys=!1,As(Ws)}}}function Ul(i){let s,l=Cl([1,2,3,4]),n=[];for(let d=0;d<4;d+=1)n[d]=Fl(Bl(i,l,d));return{c(){s=r("div");for(let d=0;d<4;d+=1)n[d].c();this.h()},l(d){s=a(d,"DIV",{class:!0});var f=p(s);for(let c=0;c<4;c+=1)n[c].l(f);f.forEach(o),this.h()},h(){t(s,"class","settings-grid svelte-sjn19d")},m(d,f){J(d,s,f);for(let c=0;c<4;c+=1)n[c]&&n[c].m(s,null)},p:at,i:at,o:at,d(d){d&&o(s),Il(n,d)}}}function _l(i){let s,l,n,d='<span class="label-text font-medium svelte-sjn19d">SMTP Host</span>',f,c,m,u,b,B='<span class="label-text font-medium svelte-sjn19d">SMTP Port</span>',z,I,T,x,g,L='<span class="label-text font-medium svelte-sjn19d">SMTP Username</span>',P,w,N,y;return{c(){s=r("div"),l=r("div"),n=r("label"),n.innerHTML=d,f=_(),c=r("input"),m=_(),u=r("div"),b=r("label"),b.innerHTML=B,z=_(),I=r("input"),T=_(),x=r("div"),g=r("label"),g.innerHTML=L,P=_(),w=r("input"),this.h()},l(j){s=a(j,"DIV",{class:!0});var M=p(s);l=a(M,"DIV",{class:!0});var S=p(l);n=a(S,"LABEL",{class:!0,"data-svelte-h":!0}),C(n)!=="svelte-9s1803"&&(n.innerHTML=d),f=v(S),c=a(S,"INPUT",{type:!0,class:!0,placeholder:!0}),S.forEach(o),m=v(M),u=a(M,"DIV",{class:!0});var W=p(u);b=a(W,"LABEL",{class:!0,"data-svelte-h":!0}),C(b)!=="svelte-3399a4"&&(b.innerHTML=B),z=v(W),I=a(W,"INPUT",{type:!0,class:!0,placeholder:!0}),W.forEach(o),T=v(M),x=a(M,"DIV",{class:!0});var k=p(x);g=a(k,"LABEL",{class:!0,"data-svelte-h":!0}),C(g)!=="svelte-z6ffzp"&&(g.innerHTML=L),P=v(k),w=a(k,"INPUT",{type:!0,class:!0,placeholder:!0}),k.forEach(o),M.forEach(o),this.h()},h(){t(n,"class","label svelte-sjn19d"),t(c,"type","text"),t(c,"class","input input-bordered svelte-sjn19d"),t(c,"placeholder","smtp.example.com"),t(l,"class","form-control svelte-sjn19d"),t(b,"class","label svelte-sjn19d"),t(I,"type","number"),t(I,"class","input input-bordered svelte-sjn19d"),t(I,"placeholder","587"),t(u,"class","form-control svelte-sjn19d"),t(g,"class","label svelte-sjn19d"),t(w,"type","text"),t(w,"class","input input-bordered svelte-sjn19d"),t(w,"placeholder","user@example.com"),t(x,"class","form-control md:col-span-2 svelte-sjn19d"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4 pl-4 border-l-2 border-primary/20")},m(j,M){J(j,s,M),e(s,l),e(l,n),e(l,f),e(l,c),D(c,i[0].smtp_host),e(s,m),e(s,u),e(u,b),e(u,z),e(u,I),D(I,i[0].smtp_port),e(s,T),e(s,x),e(x,g),e(x,P),e(x,w),D(w,i[0].smtp_user),N||(y=[A(c,"input",i[15]),A(I,"input",i[16]),A(w,"input",i[17])],N=!0)},p(j,M){M&1&&c.value!==j[0].smtp_host&&D(c,j[0].smtp_host),M&1&&kt(I.value)!==j[0].smtp_port&&D(I,j[0].smtp_port),M&1&&w.value!==j[0].smtp_user&&D(w,j[0].smtp_user)},d(j){j&&o(s),N=!1,As(y)}}}function hl(i){let s,l,n,d='<span class="label-text font-medium svelte-sjn19d">S3 Bucket</span>',f,c,m,u,b,B='<span class="label-text font-medium svelte-sjn19d">S3 Region</span>',z,I,T,x;return{c(){s=r("div"),l=r("div"),n=r("label"),n.innerHTML=d,f=_(),c=r("input"),m=_(),u=r("div"),b=r("label"),b.innerHTML=B,z=_(),I=r("input"),this.h()},l(g){s=a(g,"DIV",{class:!0});var L=p(s);l=a(L,"DIV",{class:!0});var P=p(l);n=a(P,"LABEL",{class:!0,"data-svelte-h":!0}),C(n)!=="svelte-1dt9nr1"&&(n.innerHTML=d),f=v(P),c=a(P,"INPUT",{type:!0,class:!0,placeholder:!0}),P.forEach(o),m=v(L),u=a(L,"DIV",{class:!0});var w=p(u);b=a(w,"LABEL",{class:!0,"data-svelte-h":!0}),C(b)!=="svelte-1scbzmr"&&(b.innerHTML=B),z=v(w),I=a(w,"INPUT",{type:!0,class:!0,placeholder:!0}),w.forEach(o),L.forEach(o),this.h()},h(){t(n,"class","label svelte-sjn19d"),t(c,"type","text"),t(c,"class","input input-bordered svelte-sjn19d"),t(c,"placeholder","my-bucket"),t(l,"class","form-control svelte-sjn19d"),t(b,"class","label svelte-sjn19d"),t(I,"type","text"),t(I,"class","input input-bordered svelte-sjn19d"),t(I,"placeholder","us-east-1"),t(u,"class","form-control svelte-sjn19d"),t(s,"class","grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pl-4 border-l-2 border-primary/20")},m(g,L){J(g,s,L),e(s,l),e(l,n),e(l,f),e(l,c),D(c,i[0].s3_bucket),e(s,m),e(s,u),e(u,b),e(u,z),e(u,I),D(I,i[0].s3_region),T||(x=[A(c,"input",i[21]),A(I,"input",i[22])],T=!0)},p(g,L){L&1&&c.value!==g[0].s3_bucket&&D(c,g[0].s3_bucket),L&1&&I.value!==g[0].s3_region&&D(I,g[0].s3_region)},d(g){g&&o(s),T=!1,As(x)}}}function ml(i){let s,l,n='<span class="label-text font-medium svelte-sjn19d">Maintenance Message</span>',d,f,c,m;return{c(){s=r("div"),l=r("label"),l.innerHTML=n,d=_(),f=r("textarea"),this.h()},l(u){s=a(u,"DIV",{class:!0});var b=p(s);l=a(b,"LABEL",{class:!0,"data-svelte-h":!0}),C(l)!=="svelte-swxfkl"&&(l.innerHTML=n),d=v(b),f=a(b,"TEXTAREA",{class:!0,placeholder:!0}),p(f).forEach(o),b.forEach(o),this.h()},h(){t(l,"class","label svelte-sjn19d"),t(f,"class","textarea textarea-bordered h-24 svelte-sjn19d"),t(f,"placeholder","We're currently performing maintenance. Please check back later."),t(s,"class","form-control pl-4 border-l-2 border-warning/20 svelte-sjn19d")},m(u,b){J(u,s,b),e(s,l),e(s,d),e(s,f),D(f,i[0].maintenance_message),c||(m=A(f,"input",i[26]),c=!0)},p(u,b){b&1&&D(f,u[0].maintenance_message)},d(u){u&&o(s),c=!1,m()}}}function zl(i){let s,l,n;return s=new Hl({props:{size:18}}),{c(){he(s.$$.fragment),l=me(`
						Save Settings`)},l(d){ve(s.$$.fragment,d),l=_e(d,`
						Save Settings`)},m(d,f){fe(s,d,f),J(d,l,f),n=!0},i(d){n||(H(s.$$.fragment,d),n=!0)},o(d){U(s.$$.fragment,d),n=!1},d(d){d&&o(l),pe(s,d)}}}function ql(i){let s,l;return{c(){s=r("div"),l=me(`
						Saving...`),this.h()},l(n){s=a(n,"DIV",{class:!0}),p(s).forEach(o),l=_e(n,`
						Saving...`),this.h()},h(){t(s,"class","spinner svelte-sjn19d")},m(n,d){J(n,s,d),J(n,l,d)},i:at,o:at,d(n){n&&(o(s),o(l))}}}function Fl(i){let s,l='<div class="skeleton-title svelte-sjn19d"></div> <div class="skeleton-content svelte-sjn19d"><div class="skeleton-input svelte-sjn19d"></div> <div class="skeleton-input svelte-sjn19d"></div></div> ';return{c(){s=r("div"),s.innerHTML=l,this.h()},l(n){s=a(n,"DIV",{class:!0,"data-svelte-h":!0}),C(s)!=="svelte-6muhxt"&&(s.innerHTML=l),this.h()},h(){t(s,"class","settings-card svelte-sjn19d")},m(n,d){J(n,s,d)},p:at,d(n){n&&o(s)}}}function Rl(i){let s,l,n,d="Settings",f,c,m,u,b,B,z,I,T,x,g,L,P,w,N,y=i[3]&&fl();b=new Dl({props:{size:16,class:"mr-2"}});let j=i[4]&&vl(i);const M=[Ul,Nl,Pl],S=[];function W(k,V){return k[1]?0:k[0]?1:2}return g=W(i),L=S[g]=M[g](i),{c(){s=r("div"),l=r("div"),n=r("h1"),n.textContent=d,f=_(),c=r("div"),y&&y.c(),m=_(),u=r("button"),he(b.$$.fragment),B=me(`
				Reset to Defaults`),I=_(),T=r("div"),j&&j.c(),x=_(),L.c(),this.h()},l(k){s=a(k,"DIV",{class:!0});var V=p(s);l=a(V,"DIV",{class:!0});var O=p(l);n=a(O,"H1",{class:!0,"data-svelte-h":!0}),C(n)!=="svelte-1upq91r"&&(n.textContent=d),f=v(O),c=a(O,"DIV",{class:!0});var X=p(c);y&&y.l(X),m=v(X),u=a(X,"BUTTON",{class:!0});var G=p(u);ve(b.$$.fragment,G),B=_e(G,`
				Reset to Defaults`),G.forEach(o),X.forEach(o),O.forEach(o),I=v(V),T=a(V,"DIV",{class:!0});var K=p(T);j&&j.l(K),x=v(K),L.l(K),K.forEach(o),V.forEach(o),this.h()},h(){t(n,"class","text-3xl font-bold text-gray-900"),t(u,"class","btn btn-ghost btn-sm"),u.disabled=z=i[2]||i[1],t(c,"class","flex gap-2"),t(l,"class","flex justify-between items-center mb-8"),t(T,"class","settings-content svelte-sjn19d"),t(s,"class","container mx-auto p-6 max-w-6xl")},m(k,V){J(k,s,V),e(s,l),e(l,n),e(l,f),e(l,c),y&&y.m(c,null),e(c,m),e(c,u),fe(b,u,null),e(u,B),e(s,I),e(s,T),j&&j.m(T,null),e(T,x),S[g].m(T,null),P=!0,w||(N=A(u,"click",i[6]),w=!0)},p(k,[V]){k[3]?y?V&8&&H(y,1):(y=fl(),y.c(),H(y,1),y.m(c,m)):y&&($t(),U(y,1,1,()=>{y=null}),Rt()),(!P||V&6&&z!==(z=k[2]||k[1]))&&(u.disabled=z),k[4]?j?(j.p(k,V),V&16&&H(j,1)):(j=vl(k),j.c(),H(j,1),j.m(T,x)):j&&($t(),U(j,1,1,()=>{j=null}),Rt());let O=g;g=W(k),g===O?S[g].p(k,V):($t(),U(S[O],1,1,()=>{S[O]=null}),Rt(),L=S[g],L?L.p(k,V):(L=S[g]=M[g](k),L.c()),H(L,1),L.m(T,null))},i(k){P||(H(y),H(b.$$.fragment,k),H(j),H(L),P=!0)},o(k){U(y),U(b.$$.fragment,k),U(j),U(L),P=!1},d(k){k&&o(s),y&&y.d(),pe(b),j&&j.d(),S[g].d(),w=!1,N()}}}function bl(i){const s=["B","KB","MB","GB"];let l=i,n=0;for(;l>=1024&&n<s.length-1;)l/=1024,n++;return`${l.toFixed(1)} ${s[n]}`}function $l(i){const s=i.match(/^(\d+(?:\.\d+)?)\s*([KMGT]?B)?$/i);if(!s)return 0;const l=parseFloat(s[1]),n=(s[2]||"B").toUpperCase(),d={B:1,KB:1024,MB:1024*1024,GB:1024*1024*1024};return Math.floor(l*(d[n]||1))}function Ol(i,s,l){let n=null,d=!0,f=!1,c=!1,m="";Ll(async()=>{Ml()&&await u()});async function u(){l(1,d=!0),l(4,m="");const q=await xs.getSettings();q.data?l(0,n=q.data):l(4,m=q.error||"Failed to load settings"),l(1,d=!1)}async function b(){if(!n)return;l(2,f=!0),l(3,c=!1),l(4,m="");const q=await xs.updateSettings(n);q.data?(l(0,n=q.data),l(3,c=!0),setTimeout(()=>l(3,c=!1),3e3)):l(4,m=q.error||"Failed to save settings"),l(2,f=!1)}async function B(){if(!confirm("Are you sure you want to reset all settings to default values?"))return;l(2,f=!0),l(4,m="");const q=await xs.post("/admin/settings/reset");q.data?(l(0,n=q.data),l(3,c=!0),setTimeout(()=>l(3,c=!1),3e3)):l(4,m=q.error||"Failed to reset settings"),l(2,f=!1)}function z(){n.app_name=this.value,l(0,n)}function I(){n.app_url=this.value,l(0,n)}function T(){n.allow_signup=this.checked,l(0,n)}function x(){n.require_email_confirmation=this.checked,l(0,n)}function g(){n.notification=this.value,l(0,n)}function L(){n.session_timeout=kt(this.value),l(0,n)}function P(){n.password_min_length=kt(this.value),l(0,n)}function w(){n.smtp_enabled=this.checked,l(0,n)}function N(){n.smtp_host=this.value,l(0,n)}function y(){n.smtp_port=kt(this.value),l(0,n)}function j(){n.smtp_user=this.value,l(0,n)}function M(){n.storage_provider=yl(this),l(0,n)}const S=q=>l(0,n.max_upload_size=$l(q.currentTarget.value),n);function W(){n.allowed_file_types=this.value,l(0,n)}function k(){n.s3_bucket=this.value,l(0,n)}function V(){n.s3_region=this.value,l(0,n)}function O(){n.enable_api_logs=this.checked,l(0,n)}function X(){n.enable_debug_mode=this.checked,l(0,n)}function G(){n.maintenance_mode=this.checked,l(0,n)}function K(){n.maintenance_message=this.value,l(0,n)}return[n,d,f,c,m,b,B,z,I,T,x,g,L,P,w,N,y,j,M,S,W,k,V,O,X,G,K]}class an extends gl{constructor(s){super(),jl(this,s,Ol,Rl,El,{})}}export{an as component};
