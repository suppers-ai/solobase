import{S as Lt,i as Rt,s as Ht,v as Le,w as te,o as j,p as F,x as le,y as re,z as se,A as it,m as ll,u as sl,q as nl,r as rl,d as _,I as al,B as Ke,a as _e,L as zl,K as Ye,C as f,D as ke,b as Q,c as r,E as K,T as ze,e as h,f as w,h as y,F as ne,g as x,G as wt,j as m,k as T,t as ee,H as ps,J as we,n as qt,U as $t,V as ot,Z as bs,a6 as Bl,Y as gl,a9 as Vl,aa as Pl}from"../chunks/BDqP8p-g.js";import{e as ft}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{a as It}from"../chunks/DCFqKId7.js";import{E as gs}from"../chunks/a9SKPU_w.js";import{F as ks}from"../chunks/CUS5Uvgi.js";import{r as ws}from"../chunks/ywsRGr9m.js";import{H as yl}from"../chunks/C5ZGxTFH.js";import{F as Gt}from"../chunks/CRys0y2a.js";import{R as us}from"../chunks/Z-2Wz0nd.js";import{S as $s}from"../chunks/B_xPGucJ.js";import{g as ol,a as il}from"../chunks/CgU5AtxT.js";import{I as fl}from"../chunks/DEeCOqOg.js";import{U as ds}from"../chunks/Bv-8LV_A.js";import{L as Cs}from"../chunks/DPPSrE3k.js";import{X as Kt}from"../chunks/DhjFA1Ec.js";import{D as $l}from"../chunks/BqQCH2Kx.js";import{F as Tl}from"../chunks/D_nXqxHx.js";import{C as Es}from"../chunks/SKdYEbXJ.js";import{A as ys,M as Ts,F as Is}from"../chunks/BuCOTlq_.js";import{F as Ds}from"../chunks/2ZouDDiu.js";import{C as Ns}from"../chunks/DrjeAFw4.js";import{C as Fs}from"../chunks/CDK99suQ.js";import{C as Us}from"../chunks/D4tGolQ7.js";import{T as Il}from"../chunks/CLM56qV-.js";import{M as hs}from"../chunks/BuU7ElNb.js";import{P as ms}from"../chunks/CuWZIf1d.js";import{E as _s}from"../chunks/RQBjKavb.js";function zs(n){let e;const t=n[2].default,l=ll(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&8)&&sl(l,t,s,s[3],e?rl(t,s[3],a,null):nl(s[3]),null)},i(s){e||(F(l,s),e=!0)},o(s){j(l,s),e=!1},d(s){l&&l.d(s)}}}function Bs(n){let e,t;const l=[{name:"folder-plus"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[zs]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=Le(s,l[a]);return e=new fl({props:s}),{c(){se(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,o){le(e,a,o),t=!0},p(a,[o]){const i=o&3?ol(l,[l[0],o&2&&il(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){j(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function Vs(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=[["path",{d:"M12 10v6"}],["path",{d:"M9 13h6"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"}]];return n.$$set=o=>{t(1,e=Le(Le({},e),it(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=it(e),[a,e,l,s]}class vs extends Lt{constructor(e){super(),Rt(this,e,Vs,Bs,Ht,{})}}function Ps(n){let e;const t=n[2].default,l=ll(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&8)&&sl(l,t,s,s[3],e?rl(t,s[3],a,null):nl(s[3]),null)},i(s){e||(F(l,s),e=!0)},o(s){j(l,s),e=!1},d(s){l&&l.d(s)}}}function As(n){let e,t;const l=[{name:"folder-tree"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Ps]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=Le(s,l[a]);return e=new fl({props:s}),{c(){se(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,o){le(e,a,o),t=!0},p(a,[o]){const i=o&3?ol(l,[l[0],o&2&&il(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){j(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function Os(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3"}]];return n.$$set=o=>{t(1,e=Le(Le({},e),it(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=it(e),[a,e,l,s]}class Ss extends Lt{constructor(e){super(),Rt(this,e,Os,As,Ht,{})}}function js(n){let e;const t=n[2].default,l=ll(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&8)&&sl(l,t,s,s[3],e?rl(t,s[3],a,null):nl(s[3]),null)},i(s){e||(F(l,s),e=!0)},o(s){j(l,s),e=!1},d(s){l&&l.d(s)}}}function Ms(n){let e,t;const l=[{name:"grid-3x3"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[js]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=Le(s,l[a]);return e=new fl({props:s}),{c(){se(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,o){le(e,a,o),t=!0},p(a,[o]){const i=o&3?ol(l,[l[0],o&2&&il(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){j(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function Ls(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];return n.$$set=o=>{t(1,e=Le(Le({},e),it(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=it(e),[a,e,l,s]}class Rs extends Lt{constructor(e){super(),Rt(this,e,Ls,Ms,Ht,{})}}function Hs(n){let e;const t=n[2].default,l=ll(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&8)&&sl(l,t,s,s[3],e?rl(t,s[3],a,null):nl(s[3]),null)},i(s){e||(F(l,s),e=!0)},o(s){j(l,s),e=!1},d(s){l&&l.d(s)}}}function qs(n){let e,t;const l=[{name:"image"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Hs]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=Le(s,l[a]);return e=new fl({props:s}),{c(){se(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,o){le(e,a,o),t=!0},p(a,[o]){const i=o&3?ol(l,[l[0],o&2&&il(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){j(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function Gs(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}],["circle",{cx:"9",cy:"9",r:"2"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"}]];return n.$$set=o=>{t(1,e=Le(Le({},e),it(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=it(e),[a,e,l,s]}class Ks extends Lt{constructor(e){super(),Rt(this,e,Gs,qs,Ht,{})}}function Zs(n){let e;const t=n[2].default,l=ll(t,n,n[3],null);return{c(){l&&l.c()},l(s){l&&l.l(s)},m(s,a){l&&l.m(s,a),e=!0},p(s,a){l&&l.p&&(!e||a&8)&&sl(l,t,s,s[3],e?rl(t,s[3],a,null):nl(s[3]),null)},i(s){e||(F(l,s),e=!0)},o(s){j(l,s),e=!1},d(s){l&&l.d(s)}}}function Ys(n){let e,t;const l=[{name:"move"},n[1],{iconNode:n[0]}];let s={$$slots:{default:[Zs]},$$scope:{ctx:n}};for(let a=0;a<l.length;a+=1)s=Le(s,l[a]);return e=new fl({props:s}),{c(){se(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,o){le(e,a,o),t=!0},p(a,[o]){const i=o&3?ol(l,[l[0],o&2&&il(a[1]),o&1&&{iconNode:a[0]}]):{};o&8&&(i.$$scope={dirty:o,ctx:a}),e.$set(i)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){j(e.$$.fragment,a),t=!1},d(a){te(e,a)}}}function Js(n,e,t){let{$$slots:l={},$$scope:s}=e;const a=[["polyline",{points:"5 9 2 12 5 15"}],["polyline",{points:"9 5 12 2 15 5"}],["polyline",{points:"15 19 12 22 9 19"}],["polyline",{points:"19 9 22 12 19 15"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22"}]];return n.$$set=o=>{t(1,e=Le(Le({},e),it(o))),"$$scope"in o&&t(3,s=o.$$scope)},e=it(e),[a,e,l,s]}class Qs extends Lt{constructor(e){super(),Rt(this,e,Js,Ys,Ht,{})}}function Al(n,e,t){const l=n.slice();return l[115]=e[t],l[117]=t,l}function El(n){const e=n.slice(),t=e[115].name+"_"+e[115].lastModified;e[118]=t;const l=e[16].get(e[118])||0;return e[119]=l,e}function Ol(n,e,t){const l=n.slice();return l[115]=e[t],l}function Sl(n,e,t){const l=n.slice();return l[115]=e[t],l}function jl(n,e,t){const l=n.slice();return l[124]=e[t],l[126]=t,l}function Ml(n,e,t){const l=n.slice();return l[127]=e[t],l}function Ws(n){let e,t="Select a bucket";return{c(){e=m("option"),e.textContent=t,this.h()},l(l){e=h(l,"OPTION",{"data-svelte-h":!0}),ne(e)!=="svelte-k8hrnn"&&(e.textContent=t),this.h()},h(){e.__value="",Ye(e,e.__value)},m(l,s){Q(l,e,s)},d(l){l&&_(e)}}}function Xs(n){let e,t="No buckets available";return{c(){e=m("option"),e.textContent=t,this.h()},l(l){e=h(l,"OPTION",{"data-svelte-h":!0}),ne(e)!=="svelte-1u7tzx7"&&(e.textContent=t),this.h()},h(){e.__value="",Ye(e,e.__value)},m(l,s){Q(l,e,s)},d(l){l&&_(e)}}}function Ll(n){let e,t=n[127].name+"",l,s,a;return{c(){e=m("option"),l=ee(t),s=T(),this.h()},l(o){e=h(o,"OPTION",{});var i=w(e);l=x(i,t),s=y(i),i.forEach(_),this.h()},h(){e.__value=a=n[127].id,Ye(e,e.__value)},m(o,i){Q(o,e,i),r(e,l),r(e,s)},p(o,i){i[0]&268435456&&t!==(t=o[127].name+"")&&_e(l,t),i[0]&268435456&&a!==(a=o[127].id)&&(e.__value=a,Ye(e,e.__value))},d(o){o&&_(e)}}}function xs(n){let e,t,l,s,a="Select a bucket to view files",o,i,u="or",p,d,g,b,P,C,k;return t=new Gt({props:{size:48,style:"color: var(--text-muted)"}}),g=new vs({props:{size:16}}),{c(){e=m("div"),se(t.$$.fragment),l=T(),s=m("p"),s.textContent=a,o=T(),i=m("p"),i.textContent=u,p=T(),d=m("button"),se(g.$$.fragment),b=ee(`
						Create a bucket`),this.h()},l(D){e=h(D,"DIV",{class:!0});var c=w(e);re(t.$$.fragment,c),l=y(c),s=h(c,"P",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1la4qji"&&(s.textContent=a),o=y(c),i=h(c,"P",{class:!0,style:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1v1g1bz"&&(i.textContent=u),p=y(c),d=h(c,"BUTTON",{class:!0,style:!0});var $=w(d);re(g.$$.fragment,$),b=x($,`
						Create a bucket`),$.forEach(_),c.forEach(_),this.h()},h(){f(s,"class","svelte-bfawk2"),f(i,"class","text-muted svelte-bfawk2"),ze(i,"margin-top","0.5rem"),f(d,"class","btn btn-primary"),ze(d,"margin-top","0.75rem"),f(e,"class","no-bucket-selected svelte-bfawk2")},m(D,c){Q(D,e,c),le(t,e,null),r(e,l),r(e,s),r(e,o),r(e,i),r(e,p),r(e,d),le(g,d,null),r(d,b),P=!0,C||(k=K(d,"click",n[39]),C=!0)},p:qt,i(D){P||(F(t.$$.fragment,D),F(g.$$.fragment,D),P=!0)},o(D){j(t.$$.fragment,D),j(g.$$.fragment,D),P=!1},d(D){D&&_(e),te(t),te(g),C=!1,k()}}}function en(n){let e,t,l,s,a=n[3].name+"",o,i,u,p,d,g,b,P,C,k,D;l=new Gt({props:{size:14}});let c=ft(n[32]),$=[];for(let N=0;N<c.length;N+=1)$[N]=Rl(jl(n,c,N));const L=N=>j($[N],1,1,()=>{$[N]=null});let E=n[5].size>0&&Hl(n);const I=[sn,ln,tn],V=[];function A(N,z){return N[2]==="grid"?0:N[2]==="list"?1:N[2]==="explorer"?2:-1}~(d=A(n))&&(g=V[d]=I[d](n));let O=n[3]&&Xl(n);return{c(){e=m("div"),t=m("button"),se(l.$$.fragment),s=T(),o=ee(a),i=T();for(let N=0;N<$.length;N+=1)$[N].c();u=T(),E&&E.c(),p=T(),g&&g.c(),b=T(),O&&O.c(),P=wt(),this.h()},l(N){e=h(N,"DIV",{class:!0});var z=w(e);t=h(z,"BUTTON",{class:!0});var S=w(t);re(l.$$.fragment,S),s=y(S),o=x(S,a),S.forEach(_),i=y(z);for(let U=0;U<$.length;U+=1)$[U].l(z);z.forEach(_),u=y(N),E&&E.l(N),p=y(N),g&&g.l(N),b=y(N),O&&O.l(N),P=wt(),this.h()},h(){f(t,"class","breadcrumb-item svelte-bfawk2"),f(e,"class","files-breadcrumb svelte-bfawk2")},m(N,z){Q(N,e,z),r(e,t),le(l,t,null),r(t,s),r(t,o),r(e,i);for(let S=0;S<$.length;S+=1)$[S]&&$[S].m(e,null);Q(N,u,z),E&&E.m(N,z),Q(N,p,z),~d&&V[d].m(N,z),Q(N,b,z),O&&O.m(N,z),Q(N,P,z),C=!0,k||(D=K(t,"click",n[81]),k=!0)},p(N,z){if((!C||z[0]&8)&&a!==(a=N[3].name+"")&&_e(o,a),z[1]&34){c=ft(N[32]);let U;for(U=0;U<c.length;U+=1){const B=jl(N,c,U);$[U]?($[U].p(B,z),F($[U],1)):($[U]=Rl(B),$[U].c(),F($[U],1),$[U].m(e,null))}for(we(),U=c.length;U<$.length;U+=1)L(U);ke()}N[5].size>0?E?(E.p(N,z),z[0]&32&&F(E,1)):(E=Hl(N),E.c(),F(E,1),E.m(p.parentNode,p)):E&&(we(),j(E,1,1,()=>{E=null}),ke());let S=d;d=A(N),d===S?~d&&V[d].p(N,z):(g&&(we(),j(V[S],1,1,()=>{V[S]=null}),ke()),~d?(g=V[d],g?g.p(N,z):(g=V[d]=I[d](N),g.c()),F(g,1),g.m(b.parentNode,b)):g=null),N[3]?O?(O.p(N,z),z[0]&8&&F(O,1)):(O=Xl(N),O.c(),F(O,1),O.m(P.parentNode,P)):O&&(we(),j(O,1,1,()=>{O=null}),ke())},i(N){if(!C){F(l.$$.fragment,N);for(let z=0;z<c.length;z+=1)F($[z]);F(E),F(g),F(O),C=!0}},o(N){j(l.$$.fragment,N),$=$.filter(Boolean);for(let z=0;z<$.length;z+=1)j($[z]);j(E),j(g),j(O),C=!1},d(N){N&&(_(e),_(u),_(p),_(b),_(P)),te(l),al($,N),E&&E.d(N),~d&&V[d].d(N),O&&O.d(N),k=!1,D()}}}function Rl(n){let e,t,l,s=n[124]+"",a,o,i,u,p;e=new Ns({props:{size:14,style:"color: var(--text-muted)"}});function d(){return n[82](n[126])}return{c(){se(e.$$.fragment),t=T(),l=m("button"),a=ee(s),o=T(),this.h()},l(g){re(e.$$.fragment,g),t=y(g),l=h(g,"BUTTON",{class:!0});var b=w(l);a=x(b,s),o=y(b),b.forEach(_),this.h()},h(){f(l,"class","breadcrumb-item svelte-bfawk2")},m(g,b){le(e,g,b),Q(g,t,b),Q(g,l,b),r(l,a),r(l,o),i=!0,u||(p=K(l,"click",d),u=!0)},p(g,b){n=g,(!i||b[1]&2)&&s!==(s=n[124]+"")&&_e(a,s)},i(g){i||(F(e.$$.fragment,g),i=!0)},o(g){j(e.$$.fragment,g),i=!1},d(g){g&&(_(t),_(l)),te(e,g),u=!1,p()}}}function Hl(n){let e,t,l,s,a=n[5].size+"",o,i,u=n[5].size!==1?"s":"",p,d,g,b,P,C,k,D,c,$,L,E,I,V,A,O,N,z,S,U,B,H="Clear selection",M,G,X;return l=new Fs({props:{size:16}}),C=new $l({props:{size:14}}),$=new Us({props:{size:14}}),V=new Qs({props:{size:14}}),z=new Il({props:{size:14}}),{c(){e=m("div"),t=m("div"),se(l.$$.fragment),s=T(),o=ee(a),i=ee(" item"),p=ee(u),d=ee(" selected"),g=T(),b=m("div"),P=m("button"),se(C.$$.fragment),k=ee(`
								Download`),D=T(),c=m("button"),se($.$$.fragment),L=ee(`
								Copy`),E=T(),I=m("button"),se(V.$$.fragment),A=ee(`
								Move`),O=T(),N=m("button"),se(z.$$.fragment),S=ee(`
								Delete`),U=T(),B=m("button"),B.textContent=H,this.h()},l(q){e=h(q,"DIV",{class:!0});var ae=w(e);t=h(ae,"DIV",{class:!0});var Z=w(t);re(l.$$.fragment,Z),s=y(Z),o=x(Z,a),i=x(Z," item"),p=x(Z,u),d=x(Z," selected"),Z.forEach(_),g=y(ae),b=h(ae,"DIV",{class:!0});var fe=w(b);P=h(fe,"BUTTON",{class:!0});var ce=w(P);re(C.$$.fragment,ce),k=x(ce,`
								Download`),ce.forEach(_),D=y(fe),c=h(fe,"BUTTON",{class:!0});var ie=w(c);re($.$$.fragment,ie),L=x(ie,`
								Copy`),ie.forEach(_),E=y(fe),I=h(fe,"BUTTON",{class:!0});var W=w(I);re(V.$$.fragment,W),A=x(W,`
								Move`),W.forEach(_),O=y(fe),N=h(fe,"BUTTON",{class:!0});var de=w(N);re(z.$$.fragment,de),S=x(de,`
								Delete`),de.forEach(_),U=y(fe),B=h(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(B)!=="svelte-1vxzz46"&&(B.textContent=H),fe.forEach(_),ae.forEach(_),this.h()},h(){f(t,"class","selection-info svelte-bfawk2"),f(P,"class","btn btn-secondary btn-sm"),f(c,"class","btn btn-secondary btn-sm"),f(I,"class","btn btn-secondary btn-sm"),f(N,"class","btn btn-danger btn-sm"),f(B,"class","btn-text svelte-bfawk2"),f(b,"class","selection-actions svelte-bfawk2"),f(e,"class","selection-bar svelte-bfawk2")},m(q,ae){Q(q,e,ae),r(e,t),le(l,t,null),r(t,s),r(t,o),r(t,i),r(t,p),r(t,d),r(e,g),r(e,b),r(b,P),le(C,P,null),r(P,k),r(b,D),r(b,c),le($,c,null),r(c,L),r(b,E),r(b,I),le(V,I,null),r(I,A),r(b,O),r(b,N),le(z,N,null),r(N,S),r(b,U),r(b,B),M=!0,G||(X=K(B,"click",n[83]),G=!0)},p(q,ae){(!M||ae[0]&32)&&a!==(a=q[5].size+"")&&_e(o,a),(!M||ae[0]&32)&&u!==(u=q[5].size!==1?"s":"")&&_e(p,u)},i(q){M||(F(l.$$.fragment,q),F(C.$$.fragment,q),F($.$$.fragment,q),F(V.$$.fragment,q),F(z.$$.fragment,q),M=!0)},o(q){j(l.$$.fragment,q),j(C.$$.fragment,q),j($.$$.fragment,q),j(V.$$.fragment,q),j(z.$$.fragment,q),M=!1},d(q){q&&_(e),te(l),te(C),te($),te(V),te(z),G=!1,X()}}}function tn(n){let e,t,l;return t=new ks({props:{files:n[63](n[31]),mode:"both"}}),t.$on("select",n[97]),{c(){e=m("div"),se(t.$$.fragment),this.h()},l(s){e=h(s,"DIV",{class:!0});var a=w(e);re(t.$$.fragment,a),a.forEach(_),this.h()},h(){f(e,"class","explorer-view svelte-bfawk2")},m(s,a){Q(s,e,a),le(t,e,null),l=!0},p(s,a){const o={};a[1]&1&&(o.files=s[63](s[31])),t.$set(o)},i(s){l||(F(t.$$.fragment,s),l=!0)},o(s){j(t.$$.fragment,s),l=!1},d(s){s&&_(e),te(t)}}}function ln(n){let e,t,l,s,a,o,i,u,p,d="Name",g,b,P="Size",C,k,D="Modified",c,$,L="Actions",E,I,V,A,O,N,z=ft(n[31]),S=[];for(let H=0;H<z.length;H+=1)S[H]=Zl(Ol(n,z,H));const U=H=>j(S[H],1,1,()=>{S[H]=null});let B=n[31].length===0&&Yl();return{c(){e=m("div"),t=m("table"),l=m("thead"),s=m("tr"),a=m("th"),o=m("input"),u=T(),p=m("th"),p.textContent=d,g=T(),b=m("th"),b.textContent=P,C=T(),k=m("th"),k.textContent=D,c=T(),$=m("th"),$.textContent=L,E=T(),I=m("tbody");for(let H=0;H<S.length;H+=1)S[H].c();V=T(),B&&B.c(),this.h()},l(H){e=h(H,"DIV",{class:!0});var M=w(e);t=h(M,"TABLE",{class:!0});var G=w(t);l=h(G,"THEAD",{});var X=w(l);s=h(X,"TR",{});var q=w(s);a=h(q,"TH",{style:!0});var ae=w(a);o=h(ae,"INPUT",{type:!0}),ae.forEach(_),u=y(q),p=h(q,"TH",{"data-svelte-h":!0}),ne(p)!=="svelte-13ju7y1"&&(p.textContent=d),g=y(q),b=h(q,"TH",{style:!0,"data-svelte-h":!0}),ne(b)!=="svelte-go5ouh"&&(b.textContent=P),C=y(q),k=h(q,"TH",{style:!0,"data-svelte-h":!0}),ne(k)!=="svelte-3jxwdc"&&(k.textContent=D),c=y(q),$=h(q,"TH",{style:!0,"data-svelte-h":!0}),ne($)!=="svelte-dfiryx"&&($.textContent=L),q.forEach(_),X.forEach(_),E=y(G),I=h(G,"TBODY",{});var Z=w(I);for(let fe=0;fe<S.length;fe+=1)S[fe].l(Z);Z.forEach(_),G.forEach(_),V=y(M),B&&B.l(M),M.forEach(_),this.h()},h(){f(o,"type","checkbox"),o.checked=i=n[5].size===n[31].length&&n[31].length>0,ze(a,"width","40px"),ze(b,"width","100px"),ze(k,"width","150px"),ze($,"width","100px"),f(t,"class","table svelte-bfawk2"),f(e,"class","files-list svelte-bfawk2")},m(H,M){Q(H,e,M),r(e,t),r(t,l),r(l,s),r(s,a),r(a,o),r(s,u),r(s,p),r(s,g),r(s,b),r(s,C),r(s,k),r(s,c),r(s,$),r(t,E),r(t,I);for(let G=0;G<S.length;G+=1)S[G]&&S[G].m(I,null);r(e,V),B&&B.m(e,null),A=!0,O||(N=K(o,"change",n[38]),O=!0)},p(H,M){if((!A||M[0]&32|M[1]&1&&i!==(i=H[5].size===H[31].length&&H[31].length>0))&&(o.checked=i),M[0]&262176|M[1]&859832405){z=ft(H[31]);let G;for(G=0;G<z.length;G+=1){const X=Ol(H,z,G);S[G]?(S[G].p(X,M),F(S[G],1)):(S[G]=Zl(X),S[G].c(),F(S[G],1),S[G].m(I,null))}for(we(),G=z.length;G<S.length;G+=1)U(G);ke()}H[31].length===0?B?M[1]&1&&F(B,1):(B=Yl(),B.c(),F(B,1),B.m(e,null)):B&&(we(),j(B,1,1,()=>{B=null}),ke())},i(H){if(!A){for(let M=0;M<z.length;M+=1)F(S[M]);F(B),A=!0}},o(H){S=S.filter(Boolean);for(let M=0;M<S.length;M+=1)j(S[M]);j(B),A=!1},d(H){H&&_(e),al(S,H),B&&B.d(),O=!1,N()}}}function sn(n){let e,t,l,s;const a=[fn,on,an],o=[];function i(u,p){return u[17]?0:u[31].length>0?1:2}return t=i(n),l=o[t]=a[t](n),{c(){e=m("div"),l.c(),this.h()},l(u){e=h(u,"DIV",{class:!0});var p=w(e);l.l(p),p.forEach(_),this.h()},h(){f(e,"class","files-grid svelte-bfawk2")},m(u,p){Q(u,e,p),o[t].m(e,null),s=!0},p(u,p){let d=t;t=i(u),t===d?o[t].p(u,p):(we(),j(o[d],1,1,()=>{o[d]=null}),ke(),l=o[t],l?l.p(u,p):(l=o[t]=a[t](u),l.c()),F(l,1),l.m(e,null))},i(u){s||(F(l),s=!0)},o(u){j(l),s=!1},d(u){u&&_(e),o[t].d()}}}function nn(n){let e,t=(n[115].object_name||"Untitled File")+"",l,s;return{c(){e=m("span"),l=ee(t),this.h()},l(a){e=h(a,"SPAN",{class:!0,title:!0});var o=w(e);l=x(o,t),o.forEach(_),this.h()},h(){f(e,"class","file-name-text svelte-bfawk2"),f(e,"title",s=n[115].object_name||"Untitled File")},m(a,o){Q(a,e,o),r(e,l)},p(a,o){o[1]&1&&t!==(t=(a[115].object_name||"Untitled File")+"")&&_e(l,t),o[1]&1&&s!==(s=a[115].object_name||"Untitled File")&&f(e,"title",s)},d(a){a&&_(e)}}}function rn(n){let e,t,l=(n[115].object_name||"Untitled Folder")+"",s,a,o,i;function u(){return n[91](n[115])}return{c(){e=m("button"),t=m("span"),s=ee(l),this.h()},l(p){e=h(p,"BUTTON",{class:!0,title:!0});var d=w(e);t=h(d,"SPAN",{class:!0});var g=w(t);s=x(g,l),g.forEach(_),d.forEach(_),this.h()},h(){f(t,"class","file-name-text svelte-bfawk2"),f(e,"class","folder-link-inline svelte-bfawk2"),f(e,"title",a=n[115].object_name||"Untitled Folder")},m(p,d){Q(p,e,d),r(e,t),r(t,s),o||(i=K(e,"click",u),o=!0)},p(p,d){n=p,d[1]&1&&l!==(l=(n[115].object_name||"Untitled Folder")+"")&&_e(s,l),d[1]&1&&a!==(a=n[115].object_name||"Untitled Folder")&&f(e,"title",a)},d(p){p&&_(e),o=!1,i()}}}function ql(n){let e,t="Public";return{c(){e=m("span"),e.textContent=t,this.h()},l(l){e=h(l,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1vtkqny"&&(e.textContent=t),this.h()},h(){f(e,"class","badge badge-success")},m(l,s){Q(l,e,s)},d(l){l&&_(e)}}}function Gl(n){let e,t,l,s,a,o,i="Rename",u,p,d,g,b,P="Delete",C,k,D,c=n[115].type!=="folder"&&Kl(n);s=new ms({props:{size:14}});function $(){return n[95](n[115])}d=new Il({props:{size:14}});function L(){return n[96](n[115])}return{c(){e=m("div"),c&&c.c(),t=T(),l=m("button"),se(s.$$.fragment),a=T(),o=m("span"),o.textContent=i,u=T(),p=m("button"),se(d.$$.fragment),g=T(),b=m("span"),b.textContent=P,this.h()},l(E){e=h(E,"DIV",{class:!0});var I=w(e);c&&c.l(I),t=y(I),l=h(I,"BUTTON",{class:!0});var V=w(l);re(s.$$.fragment,V),a=y(V),o=h(V,"SPAN",{"data-svelte-h":!0}),ne(o)!=="svelte-v18waw"&&(o.textContent=i),V.forEach(_),u=y(I),p=h(I,"BUTTON",{class:!0});var A=w(p);re(d.$$.fragment,A),g=y(A),b=h(A,"SPAN",{"data-svelte-h":!0}),ne(b)!=="svelte-gz26bx"&&(b.textContent=P),A.forEach(_),I.forEach(_),this.h()},h(){f(l,"class","dropdown-item svelte-bfawk2"),f(p,"class","dropdown-item dropdown-item-danger svelte-bfawk2"),f(e,"class","list-dropdown-menu svelte-bfawk2")},m(E,I){Q(E,e,I),c&&c.m(e,null),r(e,t),r(e,l),le(s,l,null),r(l,a),r(l,o),r(e,u),r(e,p),le(d,p,null),r(p,g),r(p,b),C=!0,k||(D=[K(l,"click",$),K(p,"click",L),K(e,"click",$t(n[75]))],k=!0)},p(E,I){n=E,n[115].type!=="folder"?c?(c.p(n,I),I[1]&1&&F(c,1)):(c=Kl(n),c.c(),F(c,1),c.m(e,t)):c&&(we(),j(c,1,1,()=>{c=null}),ke())},i(E){C||(F(c),F(s.$$.fragment,E),F(d.$$.fragment,E),C=!0)},o(E){j(c),j(s.$$.fragment,E),j(d.$$.fragment,E),C=!1},d(E){E&&_(e),c&&c.d(),te(s),te(d),k=!1,Ke(D)}}}function Kl(n){let e,t,l,s,a="View",o,i,u,p,d,g="Download",b,P,C;t=new _s({props:{size:14}});function k(){return n[93](n[115])}u=new $l({props:{size:14}});function D(){return n[94](n[115])}return{c(){e=m("button"),se(t.$$.fragment),l=T(),s=m("span"),s.textContent=a,o=T(),i=m("button"),se(u.$$.fragment),p=T(),d=m("span"),d.textContent=g,this.h()},l(c){e=h(c,"BUTTON",{class:!0});var $=w(e);re(t.$$.fragment,$),l=y($),s=h($,"SPAN",{"data-svelte-h":!0}),ne(s)!=="svelte-11f3b0v"&&(s.textContent=a),$.forEach(_),o=y(c),i=h(c,"BUTTON",{class:!0});var L=w(i);re(u.$$.fragment,L),p=y(L),d=h(L,"SPAN",{"data-svelte-h":!0}),ne(d)!=="svelte-q9mf3e"&&(d.textContent=g),L.forEach(_),this.h()},h(){f(e,"class","dropdown-item svelte-bfawk2"),f(i,"class","dropdown-item svelte-bfawk2")},m(c,$){Q(c,e,$),le(t,e,null),r(e,l),r(e,s),Q(c,o,$),Q(c,i,$),le(u,i,null),r(i,p),r(i,d),b=!0,P||(C=[K(e,"click",k),K(i,"click",D)],P=!0)},p(c,$){n=c},i(c){b||(F(t.$$.fragment,c),F(u.$$.fragment,c),b=!0)},o(c){j(t.$$.fragment,c),j(u.$$.fragment,c),b=!1},d(c){c&&(_(e),_(o),_(i)),te(t),te(u),P=!1,Ke(C)}}}function Zl(n){let e,t,l,s,a,o,i,u,p,d,g,b,P=(n[115].type==="folder"?"Folder":n[115].size)+"",C,k,D,c=n[115].modified+"",$,L,E,I,V,A,O,N,z,S,U,B;function H(){return n[90](n[115])}var M=n[33](n[115].type);function G(ie,W){return{props:{size:20,style:"color: "+kl(ie[115].type)}}}M&&(u=gl(M,G(n)));function X(ie,W){return ie[115].type==="folder"?rn:nn}let q=X(n),ae=q(n),Z=n[115].public&&ql();A=new hs({props:{size:16}});function fe(...ie){return n[92](n[115],...ie)}let ce=n[18]===n[115].id&&Gl(n);return{c(){e=m("tr"),t=m("td"),l=m("input"),a=T(),o=m("td"),i=m("div"),u&&se(u.$$.fragment),p=T(),ae.c(),d=T(),Z&&Z.c(),g=T(),b=m("td"),C=ee(P),k=T(),D=m("td"),$=ee(c),L=T(),E=m("td"),I=m("div"),V=m("button"),se(A.$$.fragment),O=T(),ce&&ce.c(),N=T(),this.h()},l(ie){e=h(ie,"TR",{class:!0});var W=w(e);t=h(W,"TD",{});var de=w(t);l=h(de,"INPUT",{type:!0}),de.forEach(_),a=y(W),o=h(W,"TD",{});var pe=w(o);i=h(pe,"DIV",{class:!0});var he=w(i);u&&re(u.$$.fragment,he),p=y(he),ae.l(he),d=y(he),Z&&Z.l(he),he.forEach(_),pe.forEach(_),g=y(W),b=h(W,"TD",{class:!0});var be=w(b);C=x(be,P),be.forEach(_),k=y(W),D=h(W,"TD",{class:!0});var me=w(D);$=x(me,c),me.forEach(_),L=y(W),E=h(W,"TD",{});var Fe=w(E);I=h(Fe,"DIV",{class:!0});var Ue=w(I);V=h(Ue,"BUTTON",{class:!0,title:!0});var Oe=w(V);re(A.$$.fragment,Oe),Oe.forEach(_),O=y(Ue),ce&&ce.l(Ue),Ue.forEach(_),Fe.forEach(_),N=y(W),W.forEach(_),this.h()},h(){f(l,"type","checkbox"),l.checked=s=n[5].has(n[115].id),f(i,"class","file-name svelte-bfawk2"),f(b,"class","text-muted svelte-bfawk2"),f(D,"class","text-muted svelte-bfawk2"),f(V,"class","btn-icon-sm svelte-bfawk2"),f(V,"title","More options"),f(I,"class","action-buttons svelte-bfawk2"),f(e,"class",z=Vl(n[5].has(n[115].id)?"selected":"")+" svelte-bfawk2")},m(ie,W){Q(ie,e,W),r(e,t),r(t,l),r(e,a),r(e,o),r(o,i),u&&le(u,i,null),r(i,p),ae.m(i,null),r(i,d),Z&&Z.m(i,null),r(e,g),r(e,b),r(b,C),r(e,k),r(e,D),r(D,$),r(e,L),r(e,E),r(E,I),r(I,V),le(A,V,null),r(I,O),ce&&ce.m(I,null),r(e,N),S=!0,U||(B=[K(l,"change",H),K(V,"click",fe)],U=!0)},p(ie,W){if(n=ie,(!S||W[0]&32|W[1]&1&&s!==(s=n[5].has(n[115].id)))&&(l.checked=s),W[1]&1&&M!==(M=n[33](n[115].type))){if(u){we();const de=u;j(de.$$.fragment,1,0,()=>{te(de,1)}),ke()}M?(u=gl(M,G(n)),se(u.$$.fragment),F(u.$$.fragment,1),le(u,i,p)):u=null}else if(M){const de={};W[1]&1&&(de.style="color: "+kl(n[115].type)),u.$set(de)}q===(q=X(n))&&ae?ae.p(n,W):(ae.d(1),ae=q(n),ae&&(ae.c(),ae.m(i,d))),n[115].public?Z||(Z=ql(),Z.c(),Z.m(i,null)):Z&&(Z.d(1),Z=null),(!S||W[1]&1)&&P!==(P=(n[115].type==="folder"?"Folder":n[115].size)+"")&&_e(C,P),(!S||W[1]&1)&&c!==(c=n[115].modified+"")&&_e($,c),n[18]===n[115].id?ce?(ce.p(n,W),W[0]&262144|W[1]&1&&F(ce,1)):(ce=Gl(n),ce.c(),F(ce,1),ce.m(I,null)):ce&&(we(),j(ce,1,1,()=>{ce=null}),ke()),(!S||W[0]&32|W[1]&1&&z!==(z=Vl(n[5].has(n[115].id)?"selected":"")+" svelte-bfawk2"))&&f(e,"class",z)},i(ie){S||(u&&F(u.$$.fragment,ie),F(A.$$.fragment,ie),F(ce),S=!0)},o(ie){u&&j(u.$$.fragment,ie),j(A.$$.fragment,ie),j(ce),S=!1},d(ie){ie&&_(e),u&&te(u),ae.d(),Z&&Z.d(),te(A),ce&&ce.d(),U=!1,Ke(B)}}}function Yl(n){let e,t,l,s,a="This folder is empty",o,i,u="Upload files or create folders to get started",p;return t=new Gt({props:{size:48,style:"color: var(--text-muted)"}}),{c(){e=m("div"),se(t.$$.fragment),l=T(),s=m("p"),s.textContent=a,o=T(),i=m("p"),i.textContent=u,this.h()},l(d){e=h(d,"DIV",{class:!0,style:!0});var g=w(e);re(t.$$.fragment,g),l=y(g),s=h(g,"P",{style:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1frrvl7"&&(s.textContent=a),o=y(g),i=h(g,"P",{style:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1oa4em"&&(i.textContent=u),g.forEach(_),this.h()},h(){ze(s,"margin-top","1rem"),ze(i,"font-size","0.875rem"),f(e,"class","empty-state"),ze(e,"padding","3rem"),ze(e,"text-align","center"),ze(e,"color","var(--text-muted)")},m(d,g){Q(d,e,g),le(t,e,null),r(e,l),r(e,s),r(e,o),r(e,i),p=!0},i(d){p||(F(t.$$.fragment,d),p=!0)},o(d){j(t.$$.fragment,d),p=!1},d(d){d&&_(e),te(t)}}}function an(n){let e,t,l,s,a="This folder is empty",o,i,u="Upload files or create folders to get started",p;return t=new Gt({props:{size:48,style:"color: var(--text-muted)"}}),{c(){e=m("div"),se(t.$$.fragment),l=T(),s=m("p"),s.textContent=a,o=T(),i=m("p"),i.textContent=u,this.h()},l(d){e=h(d,"DIV",{class:!0});var g=w(e);re(t.$$.fragment,g),l=y(g),s=h(g,"P",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1ih6k3r"&&(s.textContent=a),o=y(g),i=h(g,"P",{class:!0,"data-svelte-h":!0}),ne(i)!=="svelte-1vo2la8"&&(i.textContent=u),g.forEach(_),this.h()},h(){f(s,"class","svelte-bfawk2"),f(i,"class","text-muted svelte-bfawk2"),f(e,"class","empty-folder svelte-bfawk2")},m(d,g){Q(d,e,g),le(t,e,null),r(e,l),r(e,s),r(e,o),r(e,i),p=!0},p:qt,i(d){p||(F(t.$$.fragment,d),p=!0)},o(d){j(t.$$.fragment,d),p=!1},d(d){d&&_(e),te(t)}}}function on(n){let e,t,l=ft(n[31]),s=[];for(let o=0;o<l.length;o+=1)s[o]=Wl(Sl(n,l,o));const a=o=>j(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=wt()},l(o){for(let i=0;i<s.length;i+=1)s[i].l(o);e=wt()},m(o,i){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(o,i);Q(o,e,i),t=!0},p(o,i){if(i[0]&262176|i[1]&859832341){l=ft(o[31]);let u;for(u=0;u<l.length;u+=1){const p=Sl(o,l,u);s[u]?(s[u].p(p,i),F(s[u],1)):(s[u]=Wl(p),s[u].c(),F(s[u],1),s[u].m(e.parentNode,e))}for(we(),u=l.length;u<s.length;u+=1)a(u);ke()}},i(o){if(!t){for(let i=0;i<l.length;i+=1)F(s[i]);t=!0}},o(o){s=s.filter(Boolean);for(let i=0;i<s.length;i+=1)j(s[i]);t=!1},d(o){o&&_(e),al(s,o)}}}function fn(n){let e,t,l,s,a,o="Loading files...",i;return l=new us({props:{size:24,class:"spin"}}),{c(){e=m("div"),t=m("div"),se(l.$$.fragment),s=T(),a=m("p"),a.textContent=o,this.h()},l(u){e=h(u,"DIV",{class:!0});var p=w(e);t=h(p,"DIV",{class:!0});var d=w(t);re(l.$$.fragment,d),d.forEach(_),s=y(p),a=h(p,"P",{class:!0,"data-svelte-h":!0}),ne(a)!=="svelte-o9p97l"&&(a.textContent=o),p.forEach(_),this.h()},h(){f(t,"class","loading-spinner svelte-bfawk2"),f(a,"class","svelte-bfawk2"),f(e,"class","empty-folder svelte-bfawk2")},m(u,p){Q(u,e,p),r(e,t),le(l,t,null),r(e,s),r(e,a),i=!0},p:qt,i(u){i||(F(l.$$.fragment,u),i=!0)},o(u){j(l.$$.fragment,u),i=!1},d(u){u&&_(e),te(l)}}}function Jl(n){let e,t,l,s,a,o,i="Rename",u,p,d,g,b,P="Delete",C,k,D,c=n[115].type!=="folder"&&Ql(n);s=new ms({props:{size:14}});function $(){return n[87](n[115])}d=new Il({props:{size:14}});function L(){return n[88](n[115])}return{c(){e=m("div"),c&&c.c(),t=T(),l=m("button"),se(s.$$.fragment),a=T(),o=m("span"),o.textContent=i,u=T(),p=m("button"),se(d.$$.fragment),g=T(),b=m("span"),b.textContent=P,this.h()},l(E){e=h(E,"DIV",{class:!0});var I=w(e);c&&c.l(I),t=y(I),l=h(I,"BUTTON",{class:!0});var V=w(l);re(s.$$.fragment,V),a=y(V),o=h(V,"SPAN",{"data-svelte-h":!0}),ne(o)!=="svelte-v18waw"&&(o.textContent=i),V.forEach(_),u=y(I),p=h(I,"BUTTON",{class:!0});var A=w(p);re(d.$$.fragment,A),g=y(A),b=h(A,"SPAN",{"data-svelte-h":!0}),ne(b)!=="svelte-gz26bx"&&(b.textContent=P),A.forEach(_),I.forEach(_),this.h()},h(){f(l,"class","dropdown-item svelte-bfawk2"),f(p,"class","dropdown-item dropdown-item-danger svelte-bfawk2"),f(e,"class","file-dropdown-menu svelte-bfawk2")},m(E,I){Q(E,e,I),c&&c.m(e,null),r(e,t),r(e,l),le(s,l,null),r(l,a),r(l,o),r(e,u),r(e,p),le(d,p,null),r(p,g),r(p,b),C=!0,k||(D=[K(l,"click",$),K(p,"click",L),K(e,"click",$t(n[74]))],k=!0)},p(E,I){n=E,n[115].type!=="folder"?c?(c.p(n,I),I[1]&1&&F(c,1)):(c=Ql(n),c.c(),F(c,1),c.m(e,t)):c&&(we(),j(c,1,1,()=>{c=null}),ke())},i(E){C||(F(c),F(s.$$.fragment,E),F(d.$$.fragment,E),C=!0)},o(E){j(c),j(s.$$.fragment,E),j(d.$$.fragment,E),C=!1},d(E){E&&_(e),c&&c.d(),te(s),te(d),k=!1,Ke(D)}}}function Ql(n){let e,t,l,s,a="View",o,i,u,p,d,g="Download",b,P,C;t=new _s({props:{size:14}});function k(){return n[85](n[115])}u=new $l({props:{size:14}});function D(){return n[86](n[115])}return{c(){e=m("button"),se(t.$$.fragment),l=T(),s=m("span"),s.textContent=a,o=T(),i=m("button"),se(u.$$.fragment),p=T(),d=m("span"),d.textContent=g,this.h()},l(c){e=h(c,"BUTTON",{class:!0});var $=w(e);re(t.$$.fragment,$),l=y($),s=h($,"SPAN",{"data-svelte-h":!0}),ne(s)!=="svelte-11f3b0v"&&(s.textContent=a),$.forEach(_),o=y(c),i=h(c,"BUTTON",{class:!0});var L=w(i);re(u.$$.fragment,L),p=y(L),d=h(L,"SPAN",{"data-svelte-h":!0}),ne(d)!=="svelte-q9mf3e"&&(d.textContent=g),L.forEach(_),this.h()},h(){f(e,"class","dropdown-item svelte-bfawk2"),f(i,"class","dropdown-item svelte-bfawk2")},m(c,$){Q(c,e,$),le(t,e,null),r(e,l),r(e,s),Q(c,o,$),Q(c,i,$),le(u,i,null),r(i,p),r(i,d),b=!0,P||(C=[K(e,"click",k),K(i,"click",D)],P=!0)},p(c,$){n=c},i(c){b||(F(t.$$.fragment,c),F(u.$$.fragment,c),b=!0)},o(c){j(t.$$.fragment,c),j(u.$$.fragment,c),b=!1},d(c){c&&(_(e),_(o),_(i)),te(t),te(u),P=!1,Ke(C)}}}function cn(n){let e=(n[115].object_name||"Untitled")+"",t;return{c(){t=ee(e)},l(l){t=x(l,e)},m(l,s){Q(l,t,s)},p(l,s){s[1]&1&&e!==(e=(l[115].object_name||"Untitled")+"")&&_e(t,e)},d(l){l&&_(t)}}}function un(n){let e,t=(n[115].object_name||"Untitled")+"",l,s,a;function o(){return n[89](n[115])}return{c(){e=m("button"),l=ee(t),this.h()},l(i){e=h(i,"BUTTON",{class:!0});var u=w(e);l=x(u,t),u.forEach(_),this.h()},h(){f(e,"class","folder-link svelte-bfawk2")},m(i,u){Q(i,e,u),r(e,l),s||(a=K(e,"click",o),s=!0)},p(i,u){n=i,u[1]&1&&t!==(t=(n[115].object_name||"Untitled")+"")&&_e(l,t)},d(i){i&&_(e),s=!1,a()}}}function Wl(n){let e,t,l,s,a,o,i,u,p,d,g,b,P,C,k;l=new hs({props:{size:16}});function D(...A){return n[84](n[115],...A)}let c=n[18]===n[115].id&&Jl(n);var $=n[33](n[115].type);function L(A,O){return{props:{size:40,style:"color: "+kl(A[115].type)}}}$&&(i=gl($,L(n)));function E(A,O){return A[115].type==="folder"?un:cn}let I=E(n),V=I(n);return{c(){e=m("div"),t=m("button"),se(l.$$.fragment),s=T(),c&&c.c(),a=T(),o=m("div"),i&&se(i.$$.fragment),u=T(),p=m("div"),V.c(),g=T(),this.h()},l(A){e=h(A,"DIV",{class:!0});var O=w(e);t=h(O,"BUTTON",{class:!0,title:!0});var N=w(t);re(l.$$.fragment,N),N.forEach(_),s=y(O),c&&c.l(O),a=y(O),o=h(O,"DIV",{class:!0});var z=w(o);i&&re(i.$$.fragment,z),z.forEach(_),u=y(O),p=h(O,"DIV",{class:!0,title:!0});var S=w(p);V.l(S),S.forEach(_),g=y(O),O.forEach(_),this.h()},h(){f(t,"class","file-menu-btn svelte-bfawk2"),f(t,"title","More options"),f(o,"class","file-card-icon svelte-bfawk2"),f(p,"class","file-card-name svelte-bfawk2"),f(p,"title",d=n[115].object_name||"Untitled"),f(e,"class",b="file-card "+(n[5].has(n[115].id)?"selected":"")+" svelte-bfawk2")},m(A,O){Q(A,e,O),r(e,t),le(l,t,null),r(e,s),c&&c.m(e,null),r(e,a),r(e,o),i&&le(i,o,null),r(e,u),r(e,p),V.m(p,null),r(e,g),P=!0,C||(k=K(t,"click",D),C=!0)},p(A,O){if(n=A,n[18]===n[115].id?c?(c.p(n,O),O[0]&262144|O[1]&1&&F(c,1)):(c=Jl(n),c.c(),F(c,1),c.m(e,a)):c&&(we(),j(c,1,1,()=>{c=null}),ke()),O[1]&1&&$!==($=n[33](n[115].type))){if(i){we();const N=i;j(N.$$.fragment,1,0,()=>{te(N,1)}),ke()}$?(i=gl($,L(n)),se(i.$$.fragment),F(i.$$.fragment,1),le(i,o,null)):i=null}else if($){const N={};O[1]&1&&(N.style="color: "+kl(n[115].type)),i.$set(N)}I===(I=E(n))&&V?V.p(n,O):(V.d(1),V=I(n),V&&(V.c(),V.m(p,null))),(!P||O[1]&1&&d!==(d=n[115].object_name||"Untitled"))&&f(p,"title",d),(!P||O[0]&32|O[1]&1&&b!==(b="file-card "+(n[5].has(n[115].id)?"selected":"")+" svelte-bfawk2"))&&f(e,"class",b)},i(A){P||(F(l.$$.fragment,A),F(c),i&&F(i.$$.fragment,A),P=!0)},o(A){j(l.$$.fragment,A),j(c),i&&j(i.$$.fragment,A),P=!1},d(A){A&&_(e),te(l),c&&c.d(),i&&te(i),V.d(),C=!1,k()}}}function Xl(n){let e,t,l,s,a,o,i=(n[3].files||0)+"",u,p,d,g,b,P,C,k,D=(n[3].size||"0 B")+"",c,$,L,E;l=new Tl({props:{size:16}}),b=new yl({props:{size:16}});let I=n[3].public&&xl();return{c(){e=m("div"),t=m("div"),se(l.$$.fragment),s=T(),a=m("span"),o=m("strong"),u=ee(i),p=ee(" files"),d=T(),g=m("div"),se(b.$$.fragment),P=T(),C=m("span"),k=m("strong"),c=ee(D),$=ee(" used"),L=T(),I&&I.c(),this.h()},l(V){e=h(V,"DIV",{class:!0});var A=w(e);t=h(A,"DIV",{class:!0});var O=w(t);re(l.$$.fragment,O),s=y(O),a=h(O,"SPAN",{});var N=w(a);o=h(N,"STRONG",{class:!0});var z=w(o);u=x(z,i),z.forEach(_),p=x(N," files"),N.forEach(_),O.forEach(_),d=y(A),g=h(A,"DIV",{class:!0});var S=w(g);re(b.$$.fragment,S),P=y(S),C=h(S,"SPAN",{});var U=w(C);k=h(U,"STRONG",{class:!0});var B=w(k);c=x(B,D),B.forEach(_),$=x(U," used"),U.forEach(_),S.forEach(_),L=y(A),I&&I.l(A),A.forEach(_),this.h()},h(){f(o,"class","svelte-bfawk2"),f(t,"class","bucket-info-item svelte-bfawk2"),f(k,"class","svelte-bfawk2"),f(g,"class","bucket-info-item svelte-bfawk2"),f(e,"class","bucket-info-bar svelte-bfawk2")},m(V,A){Q(V,e,A),r(e,t),le(l,t,null),r(t,s),r(t,a),r(a,o),r(o,u),r(a,p),r(e,d),r(e,g),le(b,g,null),r(g,P),r(g,C),r(C,k),r(k,c),r(C,$),r(e,L),I&&I.m(e,null),E=!0},p(V,A){(!E||A[0]&8)&&i!==(i=(V[3].files||0)+"")&&_e(u,i),(!E||A[0]&8)&&D!==(D=(V[3].size||"0 B")+"")&&_e(c,D),V[3].public?I||(I=xl(),I.c(),I.m(e,null)):I&&(I.d(1),I=null)},i(V){E||(F(l.$$.fragment,V),F(b.$$.fragment,V),E=!0)},o(V){j(l.$$.fragment,V),j(b.$$.fragment,V),E=!1},d(V){V&&_(e),te(l),te(b),I&&I.d()}}}function xl(n){let e,t='<span class="badge badge-success">Public</span>';return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-plytwu"&&(e.innerHTML=t),this.h()},h(){f(e,"class","bucket-info-item svelte-bfawk2")},m(l,s){Q(l,e,s)},d(l){l&&_(e)}}}function es(n){let e,t,l,s,a="Create Bucket",o,i,u,p,d,g,b,P="Bucket Name",C,k,D,c,$="Use lowercase letters, numbers, and hyphens",L,E,I,V,A,O,N,z="Allow public read access to files in this bucket",S,U,B,H="Cancel",M,G,X="Create Bucket",q,ae,Z;return u=new Kt({props:{size:20}}),{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h3"),s.textContent=a,o=T(),i=m("button"),se(u.$$.fragment),p=T(),d=m("div"),g=m("div"),b=m("label"),b.textContent=P,C=T(),k=m("input"),D=T(),c=m("small"),c.textContent=$,L=T(),E=m("div"),I=m("label"),V=m("input"),A=ee(`
						Public Access`),O=T(),N=m("small"),N.textContent=z,S=T(),U=m("div"),B=m("button"),B.textContent=H,M=T(),G=m("button"),G.textContent=X,this.h()},l(fe){e=h(fe,"DIV",{class:!0,role:!0,tabindex:!0});var ce=w(e);t=h(ce,"DIV",{class:!0,role:!0,"aria-modal":!0});var ie=w(t);l=h(ie,"DIV",{class:!0});var W=w(l);s=h(W,"H3",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1oz5klh"&&(s.textContent=a),o=y(W),i=h(W,"BUTTON",{class:!0});var de=w(i);re(u.$$.fragment,de),de.forEach(_),W.forEach(_),p=y(ie),d=h(ie,"DIV",{class:!0});var pe=w(d);g=h(pe,"DIV",{class:!0});var he=w(g);b=h(he,"LABEL",{class:!0,"data-svelte-h":!0}),ne(b)!=="svelte-1tdrjdf"&&(b.textContent=P),C=y(he),k=h(he,"INPUT",{type:!0,class:!0,placeholder:!0}),D=y(he),c=h(he,"SMALL",{class:!0,"data-svelte-h":!0}),ne(c)!=="svelte-1b9xoky"&&(c.textContent=$),he.forEach(_),L=y(pe),E=h(pe,"DIV",{class:!0});var be=w(E);I=h(be,"LABEL",{class:!0});var me=w(I);V=h(me,"INPUT",{type:!0}),A=x(me,`
						Public Access`),me.forEach(_),O=y(be),N=h(be,"SMALL",{class:!0,"data-svelte-h":!0}),ne(N)!=="svelte-17ivywc"&&(N.textContent=z),be.forEach(_),pe.forEach(_),S=y(ie),U=h(ie,"DIV",{class:!0});var Fe=w(U);B=h(Fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(B)!=="svelte-kwtdi9"&&(B.textContent=H),M=y(Fe),G=h(Fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(G)!=="svelte-dzvkqc"&&(G.textContent=X),Fe.forEach(_),ie.forEach(_),ce.forEach(_),this.h()},h(){f(s,"class","modal-title svelte-bfawk2"),f(i,"class","modal-close svelte-bfawk2"),f(l,"class","modal-header svelte-bfawk2"),f(b,"class","form-label"),f(k,"type","text"),f(k,"class","form-input"),f(k,"placeholder","my-bucket"),f(c,"class","form-hint svelte-bfawk2"),f(g,"class","form-group"),f(V,"type","checkbox"),f(I,"class","checkbox-label svelte-bfawk2"),f(N,"class","form-hint svelte-bfawk2"),f(E,"class","form-group"),f(d,"class","modal-body svelte-bfawk2"),f(B,"class","btn btn-secondary"),f(G,"class","btn btn-primary"),f(U,"class","modal-footer svelte-bfawk2"),f(t,"class","modal modal-sm svelte-bfawk2"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(e,"class","modal-overlay svelte-bfawk2"),f(e,"role","button"),f(e,"tabindex","-1")},m(fe,ce){Q(fe,e,ce),r(e,t),r(t,l),r(l,s),r(l,o),r(l,i),le(u,i,null),r(t,p),r(t,d),r(d,g),r(g,b),r(g,C),r(g,k),Ye(k,n[26].name),r(g,D),r(g,c),r(d,L),r(d,E),r(E,I),r(I,V),V.checked=n[26].public,r(I,A),r(E,O),r(E,N),r(t,S),r(t,U),r(U,B),r(U,M),r(U,G),q=!0,ae||(Z=[K(i,"click",n[40]),K(k,"input",n[98]),K(V,"change",n[99]),K(B,"click",n[40]),K(G,"click",n[41]),K(t,"click",$t(n[73])),K(e,"click",n[40]),K(e,"keydown",n[100])],ae=!0)},p(fe,ce){ce[0]&67108864&&k.value!==fe[26].name&&Ye(k,fe[26].name),ce[0]&67108864&&(V.checked=fe[26].public)},i(fe){q||(F(u.$$.fragment,fe),q=!0)},o(fe){j(u.$$.fragment,fe),q=!1},d(fe){fe&&_(e),te(u),ae=!1,Ke(Z)}}}function ts(n){let e,t,l,s,a="Create Folder",o,i,u,p,d,g,b,P="Folder Name",C,k,D,c,$,L="Cancel",E,I,V="Create Folder",A,O,N;return u=new Kt({props:{size:20}}),{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h3"),s.textContent=a,o=T(),i=m("button"),se(u.$$.fragment),p=T(),d=m("div"),g=m("div"),b=m("label"),b.textContent=P,C=T(),k=m("input"),D=T(),c=m("div"),$=m("button"),$.textContent=L,E=T(),I=m("button"),I.textContent=V,this.h()},l(z){e=h(z,"DIV",{class:!0,role:!0,tabindex:!0});var S=w(e);t=h(S,"DIV",{class:!0,role:!0,"aria-modal":!0});var U=w(t);l=h(U,"DIV",{class:!0});var B=w(l);s=h(B,"H3",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1ceb0hv"&&(s.textContent=a),o=y(B),i=h(B,"BUTTON",{class:!0});var H=w(i);re(u.$$.fragment,H),H.forEach(_),B.forEach(_),p=y(U),d=h(U,"DIV",{class:!0});var M=w(d);g=h(M,"DIV",{class:!0});var G=w(g);b=h(G,"LABEL",{class:!0,"data-svelte-h":!0}),ne(b)!=="svelte-odvf95"&&(b.textContent=P),C=y(G),k=h(G,"INPUT",{type:!0,class:!0,placeholder:!0}),G.forEach(_),M.forEach(_),D=y(U),c=h(U,"DIV",{class:!0});var X=w(c);$=h(X,"BUTTON",{class:!0,"data-svelte-h":!0}),ne($)!=="svelte-1q88toj"&&($.textContent=L),E=y(X),I=h(X,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(I)!=="svelte-1un9rd8"&&(I.textContent=V),X.forEach(_),U.forEach(_),S.forEach(_),this.h()},h(){f(s,"class","modal-title svelte-bfawk2"),f(i,"class","modal-close svelte-bfawk2"),f(l,"class","modal-header svelte-bfawk2"),f(b,"class","form-label"),f(k,"type","text"),f(k,"class","form-input"),f(k,"placeholder","New Folder"),f(g,"class","form-group"),f(d,"class","modal-body svelte-bfawk2"),f($,"class","btn btn-secondary"),f(I,"class","btn btn-primary"),f(c,"class","modal-footer svelte-bfawk2"),f(t,"class","modal modal-sm svelte-bfawk2"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(e,"class","modal-overlay svelte-bfawk2"),f(e,"role","button"),f(e,"tabindex","-1")},m(z,S){Q(z,e,S),r(e,t),r(t,l),r(l,s),r(l,o),r(l,i),le(u,i,null),r(t,p),r(t,d),r(d,g),r(g,b),r(g,C),r(g,k),Ye(k,n[27].name),r(t,D),r(t,c),r(c,$),r(c,E),r(c,I),A=!0,O||(N=[K(i,"click",n[43]),K(k,"input",n[101]),K($,"click",n[43]),K(I,"click",n[44]),K(t,"click",$t(n[72])),K(e,"click",n[43]),K(e,"keydown",n[102])],O=!0)},p(z,S){S[0]&134217728&&k.value!==z[27].name&&Ye(k,z[27].name)},i(z){A||(F(u.$$.fragment,z),A=!0)},o(z){j(u.$$.fragment,z),A=!1},d(z){z&&_(e),te(u),O=!1,Ke(N)}}}function ls(n){let e,t,l,s,a="Upload Files",o,i,u,p,d,g,b,P,C,k='<p class="text-muted svelte-bfawk2">Maximum file size: 100MB</p> <p class="text-muted svelte-bfawk2">Supported formats: All file types</p>',D,c,$,L,E=n[15].length>0?"Cancel":"Close",I,V,A,O;u=new Kt({props:{size:20}});const N=[hn,dn],z=[];function S(B,H){return B[15].length===0?0:1}g=S(n),b=z[g]=N[g](n);let U=n[15].length>0&&as(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h3"),s.textContent=a,o=T(),i=m("button"),se(u.$$.fragment),p=T(),d=m("div"),b.c(),P=T(),C=m("div"),C.innerHTML=k,D=T(),c=m("div"),U&&U.c(),$=T(),L=m("button"),I=ee(E),this.h()},l(B){e=h(B,"DIV",{class:!0,role:!0,tabindex:!0});var H=w(e);t=h(H,"DIV",{class:!0,role:!0,"aria-modal":!0});var M=w(t);l=h(M,"DIV",{class:!0});var G=w(l);s=h(G,"H3",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-1su1tw7"&&(s.textContent=a),o=y(G),i=h(G,"BUTTON",{class:!0});var X=w(i);re(u.$$.fragment,X),X.forEach(_),G.forEach(_),p=y(M),d=h(M,"DIV",{class:!0});var q=w(d);b.l(q),P=y(q),C=h(q,"DIV",{class:!0,"data-svelte-h":!0}),ne(C)!=="svelte-1apbtmk"&&(C.innerHTML=k),q.forEach(_),D=y(M),c=h(M,"DIV",{class:!0});var ae=w(c);U&&U.l(ae),$=y(ae),L=h(ae,"BUTTON",{class:!0});var Z=w(L);I=x(Z,E),Z.forEach(_),ae.forEach(_),M.forEach(_),H.forEach(_),this.h()},h(){f(s,"class","modal-title svelte-bfawk2"),f(i,"class","modal-close svelte-bfawk2"),f(l,"class","modal-header svelte-bfawk2"),f(C,"class","upload-info svelte-bfawk2"),f(d,"class","modal-body svelte-bfawk2"),f(L,"class","btn btn-secondary"),L.disabled=n[13],f(c,"class","modal-footer svelte-bfawk2"),f(t,"class","modal svelte-bfawk2"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(e,"class","modal-overlay svelte-bfawk2"),f(e,"role","button"),f(e,"tabindex","-1")},m(B,H){Q(B,e,H),r(e,t),r(t,l),r(l,s),r(l,o),r(l,i),le(u,i,null),r(t,p),r(t,d),z[g].m(d,null),r(d,P),r(d,C),r(t,D),r(t,c),U&&U.m(c,null),r(c,$),r(c,L),r(L,I),V=!0,A||(O=[K(i,"click",n[46]),K(L,"click",n[46]),K(t,"click",$t(n[69])),K(e,"click",n[46]),K(e,"keydown",n[105])],A=!0)},p(B,H){let M=g;g=S(B),g===M?z[g].p(B,H):(we(),j(z[M],1,1,()=>{z[M]=null}),ke(),b=z[g],b?b.p(B,H):(b=z[g]=N[g](B),b.c()),F(b,1),b.m(d,P)),B[15].length>0?U?U.p(B,H):(U=as(B),U.c(),U.m(c,$)):U&&(U.d(1),U=null),(!V||H[0]&32768)&&E!==(E=B[15].length>0?"Cancel":"Close")&&_e(I,E),(!V||H[0]&8192)&&(L.disabled=B[13])},i(B){V||(F(u.$$.fragment,B),F(b),V=!0)},o(B){j(u.$$.fragment,B),j(b),V=!1},d(B){B&&_(e),te(u),z[g].d(),U&&U.d(),A=!1,Ke(O)}}}function dn(n){let e,t,l,s=n[15].length+"",a,o,i,u,p,d,g=ft(n[15]),b=[];for(let k=0;k<g.length;k+=1)b[k]=ns(Al(n,g,k));const P=k=>j(b[k],1,1,()=>{b[k]=null});let C=n[13]&&rs(n);return{c(){e=m("div"),t=m("h4"),l=ee("Selected Files ("),a=ee(s),o=ee(")"),i=T(),u=m("div");for(let k=0;k<b.length;k+=1)b[k].c();p=T(),C&&C.c(),this.h()},l(k){e=h(k,"DIV",{class:!0});var D=w(e);t=h(D,"H4",{class:!0});var c=w(t);l=x(c,"Selected Files ("),a=x(c,s),o=x(c,")"),c.forEach(_),i=y(D),u=h(D,"DIV",{class:!0});var $=w(u);for(let L=0;L<b.length;L+=1)b[L].l($);$.forEach(_),p=y(D),C&&C.l(D),D.forEach(_),this.h()},h(){f(t,"class","selected-files-title svelte-bfawk2"),f(u,"class","files-list-container svelte-bfawk2"),f(e,"class","selected-files svelte-bfawk2")},m(k,D){Q(k,e,D),r(e,t),r(t,l),r(t,a),r(t,o),r(e,i),r(e,u);for(let c=0;c<b.length;c+=1)b[c]&&b[c].m(u,null);r(e,p),C&&C.m(e,null),d=!0},p(k,D){if((!d||D[0]&32768)&&s!==(s=k[15].length+"")&&_e(a,s),D[0]&106496){g=ft(k[15]);let c;for(c=0;c<g.length;c+=1){const $=Al(k,g,c);b[c]?(b[c].p($,D),F(b[c],1)):(b[c]=ns($),b[c].c(),F(b[c],1),b[c].m(u,null))}for(we(),c=g.length;c<b.length;c+=1)P(c);ke()}k[13]?C?C.p(k,D):(C=rs(k),C.c(),C.m(e,null)):C&&(C.d(1),C=null)},i(k){if(!d){for(let D=0;D<g.length;D+=1)F(b[D]);d=!0}},o(k){b=b.filter(Boolean);for(let D=0;D<b.length;D+=1)j(b[D]);d=!1},d(k){k&&_(e),al(b,k),C&&C.d()}}}function hn(n){let e,t,l,s,a="Drag and drop files here or click to browse",o,i,u,p,d,g,b,P;return t=new ds({props:{size:48,style:"color: var(--text-muted)"}}),{c(){e=m("div"),se(t.$$.fragment),l=T(),s=m("p"),s.textContent=a,o=T(),i=m("button"),u=ee("Browse Files"),p=T(),d=m("input"),this.h()},l(C){e=h(C,"DIV",{class:!0});var k=w(e);re(t.$$.fragment,k),l=y(k),s=h(k,"P",{class:!0,"data-svelte-h":!0}),ne(s)!=="svelte-163wm35"&&(s.textContent=a),o=y(k),i=h(k,"BUTTON",{class:!0});var D=w(i);u=x(D,"Browse Files"),D.forEach(_),p=y(k),d=h(k,"INPUT",{type:!0,class:!0,style:!0}),k.forEach(_),this.h()},h(){f(s,"class","upload-text svelte-bfawk2"),f(i,"class","btn btn-primary"),i.disabled=n[13],f(d,"type","file"),d.multiple=!0,f(d,"class","hidden-file-input svelte-bfawk2"),d.disabled=n[13],ze(d,"display","none"),f(e,"class","upload-zone svelte-bfawk2")},m(C,k){Q(C,e,k),le(t,e,null),r(e,l),r(e,s),r(e,o),r(e,i),r(i,u),r(e,p),r(e,d),n[103](d),g=!0,b||(P=[K(i,"click",n[49]),K(d,"change",n[48]),K(e,"drop",n[47]),K(e,"dragover",Bl(n[70])),K(e,"dragenter",Bl(n[71]))],b=!0)},p(C,k){(!g||k[0]&8192)&&(i.disabled=C[13]),(!g||k[0]&8192)&&(d.disabled=C[13])},i(C){g||(F(t.$$.fragment,C),g=!0)},o(C){j(t.$$.fragment,C),g=!1},d(C){C&&_(e),te(t),n[103](null),b=!1,Ke(P)}}}function ss(n){let e;function t(a,o){return a[119]>=0?_n:mn}let l=t(n),s=l(n);return{c(){s.c(),e=wt()},l(a){s.l(a),e=wt()},m(a,o){s.m(a,o),Q(a,e,o)},p(a,o){l===(l=t(a))&&s?s.p(a,o):(s.d(1),s=l(a),s&&(s.c(),s.m(e.parentNode,e)))},d(a){a&&_(e),s.d(a)}}}function mn(n){let e,t="Failed";return{c(){e=m("span"),e.textContent=t,this.h()},l(l){e=h(l,"SPAN",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-wuzour"&&(e.textContent=t),this.h()},h(){f(e,"class","file-upload-error svelte-bfawk2")},m(l,s){Q(l,e,s)},p:qt,d(l){l&&_(e)}}}function _n(n){let e,t,l,s,a=n[119]+"",o,i;return{c(){e=m("div"),t=m("div"),l=T(),s=m("span"),o=ee(a),i=ee("%"),this.h()},l(u){e=h(u,"DIV",{class:!0});var p=w(e);t=h(p,"DIV",{class:!0,style:!0}),w(t).forEach(_),p.forEach(_),l=y(u),s=h(u,"SPAN",{class:!0});var d=w(s);o=x(d,a),i=x(d,"%"),d.forEach(_),this.h()},h(){f(t,"class","file-progress-fill svelte-bfawk2"),ze(t,"width",n[119]+"%"),f(e,"class","file-progress-bar svelte-bfawk2"),f(s,"class","file-progress-text svelte-bfawk2")},m(u,p){Q(u,e,p),r(e,t),Q(u,l,p),Q(u,s,p),r(s,o),r(s,i)},p(u,p){p[0]&98304&&ze(t,"width",u[119]+"%"),p[0]&98304&&a!==(a=u[119]+"")&&_e(o,a)},d(u){u&&(_(e),_(l),_(s))}}}function ns(n){let e,t,l,s,a,o=n[115].name+"",i,u,p,d=wl(n[115].size)+"",g,b,P,C;t=new Tl({props:{size:16,style:"color: var(--text-muted)"}});let k=n[13]&&ss(El(n));return{c(){e=m("div"),se(t.$$.fragment),l=T(),s=m("div"),a=m("span"),i=ee(o),u=T(),p=m("span"),g=ee(d),b=T(),k&&k.c(),P=T(),this.h()},l(D){e=h(D,"DIV",{class:!0});var c=w(e);re(t.$$.fragment,c),l=y(c),s=h(c,"DIV",{class:!0});var $=w(s);a=h($,"SPAN",{class:!0});var L=w(a);i=x(L,o),L.forEach(_),u=y($),p=h($,"SPAN",{class:!0});var E=w(p);g=x(E,d),E.forEach(_),b=y($),k&&k.l($),$.forEach(_),P=y(c),c.forEach(_),this.h()},h(){f(a,"class","selected-file-name svelte-bfawk2"),f(p,"class","selected-file-size svelte-bfawk2"),f(s,"class","file-upload-info svelte-bfawk2"),f(e,"class","selected-file-item svelte-bfawk2")},m(D,c){Q(D,e,c),le(t,e,null),r(e,l),r(e,s),r(s,a),r(a,i),r(s,u),r(s,p),r(p,g),r(s,b),k&&k.m(s,null),r(e,P),C=!0},p(D,c){(!C||c[0]&32768)&&o!==(o=D[115].name+"")&&_e(i,o),(!C||c[0]&32768)&&d!==(d=wl(D[115].size)+"")&&_e(g,d),D[13]?k?k.p(El(D),c):(k=ss(El(D)),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},i(D){C||(F(t.$$.fragment,D),C=!0)},o(D){j(t.$$.fragment,D),C=!1},d(D){D&&_(e),te(t),k&&k.d()}}}function rs(n){let e,t,l,s,a;return{c(){e=m("div"),t=m("span"),l=ee("Overall Progress: "),s=ee(n[14]),a=ee("%"),this.h()},l(o){e=h(o,"DIV",{class:!0});var i=w(e);t=h(i,"SPAN",{class:!0});var u=w(t);l=x(u,"Overall Progress: "),s=x(u,n[14]),a=x(u,"%"),u.forEach(_),i.forEach(_),this.h()},h(){f(t,"class","progress-text svelte-bfawk2"),f(e,"class","overall-progress svelte-bfawk2")},m(o,i){Q(o,e,i),r(e,t),r(t,l),r(t,s),r(t,a)},p(o,i){i[0]&16384&&_e(s,o[14])},d(o){o&&_(e)}}}function as(n){let e,t,l,s,a=n[13]?"Uploading...":`Upload ${n[15].length} File${n[15].length!==1?"s":""}`,o,i,u;return{c(){e=m("button"),t=ee("Clear Selection"),l=T(),s=m("button"),o=ee(a),this.h()},l(p){e=h(p,"BUTTON",{class:!0});var d=w(e);t=x(d,"Clear Selection"),d.forEach(_),l=y(p),s=h(p,"BUTTON",{class:!0});var g=w(s);o=x(g,a),g.forEach(_),this.h()},h(){f(e,"class","btn btn-secondary"),e.disabled=n[13],f(s,"class","btn btn-primary"),s.disabled=n[13]},m(p,d){Q(p,e,d),r(e,t),Q(p,l,d),Q(p,s,d),r(s,o),i||(u=[K(e,"click",n[104]),K(s,"click",n[50])],i=!0)},p(p,d){d[0]&8192&&(e.disabled=p[13]),d[0]&40960&&a!==(a=p[13]?"Uploading...":`Upload ${p[15].length} File${p[15].length!==1?"s":""}`)&&_e(o,a),d[0]&8192&&(s.disabled=p[13])},d(p){p&&(_(e),_(l),_(s)),i=!1,Ke(u)}}}function os(n){var fe,ce,ie,W;let e,t,l,s,a,o=((fe=n[11])==null?void 0:fe.type)==="folder"?"Folder":"File",i,u,p,d,g,b,P,C,k=((ce=n[11])==null?void 0:ce.type)==="folder"?"folder":"file",D,c,$,L,E=((ie=n[11])==null?void 0:ie.name)+"",I,V,A,O,N="This action cannot be undone.",z,S,U,B="Cancel",H,M,G="Delete",X,q,ae;d=new Kt({props:{size:20}});let Z=((W=n[11])==null?void 0:W.type)==="folder"&&is();return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h3"),a=ee("Delete "),i=ee(o),u=T(),p=m("button"),se(d.$$.fragment),g=T(),b=m("div"),P=m("p"),C=ee("Are you sure you want to delete this "),D=ee(k),c=ee("?"),$=T(),L=m("p"),I=ee(E),V=T(),Z&&Z.c(),A=T(),O=m("p"),O.textContent=N,z=T(),S=m("div"),U=m("button"),U.textContent=B,H=T(),M=m("button"),M.textContent=G,this.h()},l(de){e=h(de,"DIV",{class:!0,role:!0,tabindex:!0});var pe=w(e);t=h(pe,"DIV",{class:!0,role:!0,"aria-modal":!0});var he=w(t);l=h(he,"DIV",{class:!0});var be=w(l);s=h(be,"H3",{class:!0});var me=w(s);a=x(me,"Delete "),i=x(me,o),me.forEach(_),u=y(be),p=h(be,"BUTTON",{class:!0});var Fe=w(p);re(d.$$.fragment,Fe),Fe.forEach(_),be.forEach(_),g=y(he),b=h(he,"DIV",{class:!0});var Ue=w(b);P=h(Ue,"P",{});var Oe=w(P);C=x(Oe,"Are you sure you want to delete this "),D=x(Oe,k),c=x(Oe,"?"),Oe.forEach(_),$=y(Ue),L=h(Ue,"P",{class:!0});var Se=w(L);I=x(Se,E),Se.forEach(_),V=y(Ue),Z&&Z.l(Ue),A=y(Ue),O=h(Ue,"P",{class:!0,"data-svelte-h":!0}),ne(O)!=="svelte-1ek8f9r"&&(O.textContent=N),Ue.forEach(_),z=y(he),S=h(he,"DIV",{class:!0});var Re=w(S);U=h(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(U)!=="svelte-em89ju"&&(U.textContent=B),H=y(Re),M=h(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(M)!=="svelte-kz4umu"&&(M.textContent=G),Re.forEach(_),he.forEach(_),pe.forEach(_),this.h()},h(){f(s,"class","modal-title svelte-bfawk2"),f(p,"class","modal-close svelte-bfawk2"),f(l,"class","modal-header svelte-bfawk2"),f(L,"class","text-muted svelte-bfawk2"),f(O,"class","text-danger svelte-bfawk2"),f(b,"class","modal-body svelte-bfawk2"),f(U,"class","btn btn-secondary"),f(M,"class","btn btn-danger"),f(S,"class","modal-footer svelte-bfawk2"),f(t,"class","modal modal-sm svelte-bfawk2"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(e,"class","modal-overlay svelte-bfawk2"),f(e,"role","button"),f(e,"tabindex","-1")},m(de,pe){Q(de,e,pe),r(e,t),r(t,l),r(l,s),r(s,a),r(s,i),r(l,u),r(l,p),le(d,p,null),r(t,g),r(t,b),r(b,P),r(P,C),r(P,D),r(P,c),r(b,$),r(b,L),r(L,I),r(b,V),Z&&Z.m(b,null),r(b,A),r(b,O),r(t,z),r(t,S),r(S,U),r(S,H),r(S,M),X=!0,q||(ae=[K(p,"click",n[51]),K(U,"click",n[51]),K(M,"click",n[52]),K(t,"click",$t(n[68])),K(e,"click",n[51]),K(e,"keydown",n[106])],q=!0)},p(de,pe){var he,be,me,Fe;(!X||pe[0]&2048)&&o!==(o=((he=de[11])==null?void 0:he.type)==="folder"?"Folder":"File")&&_e(i,o),(!X||pe[0]&2048)&&k!==(k=((be=de[11])==null?void 0:be.type)==="folder"?"folder":"file")&&_e(D,k),(!X||pe[0]&2048)&&E!==(E=((me=de[11])==null?void 0:me.name)+"")&&_e(I,E),((Fe=de[11])==null?void 0:Fe.type)==="folder"?Z||(Z=is(),Z.c(),Z.m(b,A)):Z&&(Z.d(1),Z=null)},i(de){X||(F(d.$$.fragment,de),X=!0)},o(de){j(d.$$.fragment,de),X=!1},d(de){de&&_(e),te(d),Z&&Z.d(),q=!1,Ke(ae)}}}function is(n){let e,t="This will delete all files and folders inside.";return{c(){e=m("p"),e.textContent=t,this.h()},l(l){e=h(l,"P",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1qh5pv9"&&(e.textContent=t),this.h()},h(){f(e,"class","text-danger svelte-bfawk2")},m(l,s){Q(l,e,s)},d(l){l&&_(e)}}}function fs(n){var U;let e,t,l,s,a,o=((U=n[12])==null?void 0:U.type)==="folder"?"Folder":"File",i,u,p,d,g,b,P,C,k="New Name",D,c,$,L,E,I="Cancel",V,A,O="Rename",N,z,S;return d=new Kt({props:{size:20}}),{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h3"),a=ee("Rename "),i=ee(o),u=T(),p=m("button"),se(d.$$.fragment),g=T(),b=m("div"),P=m("div"),C=m("label"),C.textContent=k,D=T(),c=m("input"),$=T(),L=m("div"),E=m("button"),E.textContent=I,V=T(),A=m("button"),A.textContent=O,this.h()},l(B){e=h(B,"DIV",{class:!0,role:!0,tabindex:!0});var H=w(e);t=h(H,"DIV",{class:!0,role:!0,"aria-modal":!0});var M=w(t);l=h(M,"DIV",{class:!0});var G=w(l);s=h(G,"H3",{class:!0});var X=w(s);a=x(X,"Rename "),i=x(X,o),X.forEach(_),u=y(G),p=h(G,"BUTTON",{class:!0});var q=w(p);re(d.$$.fragment,q),q.forEach(_),G.forEach(_),g=y(M),b=h(M,"DIV",{class:!0});var ae=w(b);P=h(ae,"DIV",{class:!0});var Z=w(P);C=h(Z,"LABEL",{class:!0,"data-svelte-h":!0}),ne(C)!=="svelte-1i8efq9"&&(C.textContent=k),D=y(Z),c=h(Z,"INPUT",{type:!0,class:!0,placeholder:!0}),Z.forEach(_),ae.forEach(_),$=y(M),L=h(M,"DIV",{class:!0});var fe=w(L);E=h(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(E)!=="svelte-12epuqp"&&(E.textContent=I),V=y(fe),A=h(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(A)!=="svelte-1n8vl2f"&&(A.textContent=O),fe.forEach(_),M.forEach(_),H.forEach(_),this.h()},h(){f(s,"class","modal-title svelte-bfawk2"),f(p,"class","modal-close svelte-bfawk2"),f(l,"class","modal-header svelte-bfawk2"),f(C,"class","form-label"),f(c,"type","text"),f(c,"class","form-input"),f(c,"placeholder","Enter new name"),f(P,"class","form-group"),f(b,"class","modal-body svelte-bfawk2"),f(E,"class","btn btn-secondary"),f(A,"class","btn btn-primary"),f(L,"class","modal-footer svelte-bfawk2"),f(t,"class","modal modal-sm svelte-bfawk2"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(e,"class","modal-overlay svelte-bfawk2"),f(e,"role","button"),f(e,"tabindex","-1")},m(B,H){Q(B,e,H),r(e,t),r(t,l),r(l,s),r(s,a),r(s,i),r(l,u),r(l,p),le(d,p,null),r(t,g),r(t,b),r(b,P),r(P,C),r(P,D),r(P,c),Ye(c,n[19]),r(t,$),r(t,L),r(L,E),r(L,V),r(L,A),N=!0,z||(S=[K(p,"click",n[57]),K(c,"input",n[107]),K(E,"click",n[57]),K(A,"click",n[58]),K(t,"click",$t(n[67])),K(e,"click",n[57]),K(e,"keydown",n[108])],z=!0)},p(B,H){var M;(!N||H[0]&4096)&&o!==(o=((M=B[12])==null?void 0:M.type)==="folder"?"Folder":"File")&&_e(i,o),H[0]&524288&&c.value!==B[19]&&Ye(c,B[19])},i(B){N||(F(d.$$.fragment,B),N=!0)},o(B){j(d.$$.fragment,B),N=!1},d(B){B&&_(e),te(d),z=!1,Ke(S)}}}function cs(n){var S;let e,t,l,s,a,o=(((S=n[22])==null?void 0:S.name)||"File")+"",i,u,p,d,g,b,P,C,k,D="Close",c,$,L,E,I,V,A;d=new Kt({props:{size:20}});function O(U,B){return U[25]?gn:U[24]?bn:U[23]?pn:vn}let N=O(n),z=N(n);return L=new $l({props:{size:16}}),{c(){e=m("div"),t=m("div"),l=m("div"),s=m("h3"),a=ee("Preview: "),i=ee(o),u=T(),p=m("button"),se(d.$$.fragment),g=T(),b=m("div"),z.c(),P=T(),C=m("div"),k=m("button"),k.textContent=D,c=T(),$=m("button"),se(L.$$.fragment),E=ee(`
					Download`),this.h()},l(U){e=h(U,"DIV",{class:!0,role:!0,tabindex:!0});var B=w(e);t=h(B,"DIV",{class:!0,role:!0,"aria-modal":!0});var H=w(t);l=h(H,"DIV",{class:!0});var M=w(l);s=h(M,"H3",{class:!0});var G=w(s);a=x(G,"Preview: "),i=x(G,o),G.forEach(_),u=y(M),p=h(M,"BUTTON",{class:!0});var X=w(p);re(d.$$.fragment,X),X.forEach(_),M.forEach(_),g=y(H),b=h(H,"DIV",{class:!0});var q=w(b);z.l(q),q.forEach(_),P=y(H),C=h(H,"DIV",{class:!0});var ae=w(C);k=h(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),ne(k)!=="svelte-kbg5gp"&&(k.textContent=D),c=y(ae),$=h(ae,"BUTTON",{class:!0});var Z=w($);re(L.$$.fragment,Z),E=x(Z,`
					Download`),Z.forEach(_),ae.forEach(_),H.forEach(_),B.forEach(_),this.h()},h(){f(s,"class","modal-title svelte-bfawk2"),f(p,"class","modal-close svelte-bfawk2"),f(l,"class","modal-header svelte-bfawk2"),f(b,"class","modal-body preview-modal-body svelte-bfawk2"),f(k,"class","btn btn-secondary"),f($,"class","btn btn-primary"),f(C,"class","modal-footer svelte-bfawk2"),f(t,"class","modal modal-lg svelte-bfawk2"),f(t,"role","dialog"),f(t,"aria-modal","true"),f(e,"class","modal-overlay svelte-bfawk2"),f(e,"role","button"),f(e,"tabindex","-1")},m(U,B){Q(U,e,B),r(e,t),r(t,l),r(l,s),r(s,a),r(s,i),r(l,u),r(l,p),le(d,p,null),r(t,g),r(t,b),z.m(b,null),r(t,P),r(t,C),r(C,k),r(C,c),r(C,$),le(L,$,null),r($,E),I=!0,V||(A=[K(p,"click",n[54]),K(k,"click",n[54]),K($,"click",n[109]),K(t,"click",$t(n[66])),K(e,"click",n[54]),K(e,"keydown",n[110])],V=!0)},p(U,B){var H;(!I||B[0]&4194304)&&o!==(o=(((H=U[22])==null?void 0:H.name)||"File")+"")&&_e(i,o),N===(N=O(U))&&z?z.p(U,B):(z.d(1),z=N(U),z&&(z.c(),z.m(b,null)))},i(U){I||(F(d.$$.fragment,U),F(L.$$.fragment,U),I=!0)},o(U){j(d.$$.fragment,U),j(L.$$.fragment,U),I=!1},d(U){U&&_(e),te(d),z.d(),te(L),V=!1,Ke(A)}}}function vn(n){let e,t="No preview available";return{c(){e=m("div"),e.textContent=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-174k9ue"&&(e.textContent=t),this.h()},h(){f(e,"class","preview-empty svelte-bfawk2")},m(l,s){Q(l,e,s)},p:qt,d(l){l&&_(e)}}}function pn(n){let e,t;return{c(){e=m("pre"),t=ee(n[23]),this.h()},l(l){e=h(l,"PRE",{class:!0});var s=w(e);t=x(s,n[23]),s.forEach(_),this.h()},h(){f(e,"class","preview-text svelte-bfawk2")},m(l,s){Q(l,e,s),r(e,t)},p(l,s){s[0]&8388608&&_e(t,l[23])},d(l){l&&_(e)}}}function bn(n){let e,t,l,s;return{c(){e=m("div"),t=m("img"),this.h()},l(a){e=h(a,"DIV",{class:!0});var o=w(e);t=h(o,"IMG",{src:!0,alt:!0,class:!0}),o.forEach(_),this.h()},h(){var a;Pl(t.src,l=n[24])||f(t,"src",l),f(t,"alt",s=(a=n[22])==null?void 0:a.name),f(t,"class","preview-image svelte-bfawk2"),f(e,"class","preview-image-container svelte-bfawk2")},m(a,o){Q(a,e,o),r(e,t)},p(a,o){var i;o[0]&16777216&&!Pl(t.src,l=a[24])&&f(t,"src",l),o[0]&4194304&&s!==(s=(i=a[22])==null?void 0:i.name)&&f(t,"alt",s)},d(a){a&&_(e)}}}function gn(n){let e,t=`<span class="spinner svelte-bfawk2"></span>
						Loading preview...`;return{c(){e=m("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),ne(e)!=="svelte-1wzh4lk"&&(e.innerHTML=t),this.h()},h(){f(e,"class","preview-loading svelte-bfawk2")},m(l,s){Q(l,e,s)},p:qt,d(l){l&&_(e)}}}function kn(n){let e,t,l,s,a,o,i,u,p="Storage Manager",d,g,b,P=n[28].length+"",C,k,D,c,$="•",L,E,I,V,A,O,N="•",z,S,U,B,H,M,G,X,q,ae,Z,fe,ce,ie,W,de,pe,he,be,me,Fe="+ Create New Bucket",Ue,Oe,Se,Re,Ct,st,ct,Zt,Je,Yt,Pe,nt,vt,He,rt,Et,Ze,Dt="New Folder",pt,Jt,Be,We,yt,Ve,cl="Upload Files",Tt,Qt,Qe,Xe,ut,Nt,Wt,xe,dt,Ft,Xt,et,ht,Ut,xt,qe,Ge,el,zt,Bt,Vt,Pt,At,je,tl,ul;o=new yl({props:{size:24}}),X=new yl({props:{size:14}}),de=new Gt({props:{size:16,style:"color: var(--warning-color)"}});function dl(R,oe){if(R[28].length===0)return Xs;if(!R[3])return Ws}let bt=dl(n),Ae=bt&&bt(n),gt=ft(n[28]),Ne=[];for(let R=0;R<gt.length;R+=1)Ne[R]=Ll(Ml(n,gt,R));Re=new us({props:{size:16}}),ct=new $s({props:{size:16}}),nt=new gs({props:{data:n[31],filename:"storage_files",disabled:n[31].length===0,flatten:!0}}),rt=new vs({props:{size:16}}),We=new ds({props:{size:16}}),ut=new Rs({props:{size:16}}),dt=new Cs({props:{size:16}}),ht=new Ss({props:{size:16}});const hl=[en,xs],at=[];function ml(R,oe){return R[3]?0:1}qe=ml(n),Ge=at[qe]=hl[qe](n);let $e=n[6]&&es(n),Ce=n[7]&&ts(n),Ee=n[8]&&ls(n),ye=n[9]&&os(n),Te=n[10]&&fs(n),Ie=n[21]&&cs(n);return{c(){e=m("div"),t=m("div"),l=m("div"),s=m("div"),a=m("div"),se(o.$$.fragment),i=T(),u=m("h1"),u.textContent=p,d=T(),g=m("div"),b=m("span"),C=ee(P),k=ee(" buckets"),D=T(),c=m("span"),c.textContent=$,L=T(),E=m("span"),I=ee(n[30]),V=ee(" files"),A=T(),O=m("span"),O.textContent=N,z=T(),S=m("span"),U=ee(n[29]),B=ee(" used"),H=T(),M=m("div"),G=m("span"),se(X.$$.fragment),q=ee(`
					Connected`),ae=T(),Z=m("div"),fe=m("div"),ce=m("div"),ie=m("div"),W=m("div"),se(de.$$.fragment),pe=T(),he=m("select"),Ae&&Ae.c(),be=wt();for(let R=0;R<Ne.length;R+=1)Ne[R].c();me=m("option"),me.textContent=Fe,Oe=T(),Se=m("button"),se(Re.$$.fragment),Ct=T(),st=m("div"),se(ct.$$.fragment),Zt=T(),Je=m("input"),Yt=T(),Pe=m("div"),se(nt.$$.fragment),vt=T(),He=m("button"),se(rt.$$.fragment),Et=T(),Ze=m("span"),Ze.textContent=Dt,Jt=T(),Be=m("button"),se(We.$$.fragment),yt=T(),Ve=m("span"),Ve.textContent=cl,Qt=T(),Qe=m("div"),Xe=m("button"),se(ut.$$.fragment),Wt=T(),xe=m("button"),se(dt.$$.fragment),Xt=T(),et=m("button"),se(ht.$$.fragment),xt=T(),Ge.c(),el=T(),$e&&$e.c(),zt=T(),Ce&&Ce.c(),Bt=T(),Ee&&Ee.c(),Vt=T(),ye&&ye.c(),Pt=T(),Te&&Te.c(),At=T(),Ie&&Ie.c(),this.h()},l(R){e=h(R,"DIV",{class:!0});var oe=w(e);t=h(oe,"DIV",{class:!0});var tt=w(t);l=h(tt,"DIV",{class:!0});var Me=w(l);s=h(Me,"DIV",{class:!0});var mt=w(s);a=h(mt,"DIV",{class:!0});var _t=w(a);re(o.$$.fragment,_t),i=y(_t),u=h(_t,"H1",{class:!0,"data-svelte-h":!0}),ne(u)!=="svelte-fi3w24"&&(u.textContent=p),_t.forEach(_),d=y(mt),g=h(mt,"DIV",{class:!0});var v=w(g);b=h(v,"SPAN",{class:!0});var J=w(b);C=x(J,P),k=x(J," buckets"),J.forEach(_),D=y(v),c=h(v,"SPAN",{class:!0,"data-svelte-h":!0}),ne(c)!=="svelte-12o8t6a"&&(c.textContent=$),L=y(v),E=h(v,"SPAN",{class:!0});var Y=w(E);I=x(Y,n[30]),V=x(Y," files"),Y.forEach(_),A=y(v),O=h(v,"SPAN",{class:!0,"data-svelte-h":!0}),ne(O)!=="svelte-12o8t6a"&&(O.textContent=N),z=y(v),S=h(v,"SPAN",{class:!0});var ue=w(S);U=x(ue,n[29]),B=x(ue," used"),ue.forEach(_),v.forEach(_),mt.forEach(_),H=y(Me),M=h(Me,"DIV",{class:!0});var ve=w(M);G=h(ve,"SPAN",{class:!0});var De=w(G);re(X.$$.fragment,De),q=x(De,`
					Connected`),De.forEach(_),ve.forEach(_),Me.forEach(_),tt.forEach(_),ae=y(oe),Z=h(oe,"DIV",{class:!0});var ge=w(Z);fe=h(ge,"DIV",{class:!0});var lt=w(fe);ce=h(lt,"DIV",{class:!0});var Ot=w(ce);ie=h(Ot,"DIV",{class:!0});var St=w(ie);W=h(St,"DIV",{class:!0});var jt=w(W);re(de.$$.fragment,jt),pe=y(jt),he=h(jt,"SELECT",{class:!0});var _l=w(he);Ae&&Ae.l(_l),be=wt();for(let Cl=0;Cl<Ne.length;Cl+=1)Ne[Cl].l(_l);me=h(_l,"OPTION",{style:!0,"data-svelte-h":!0}),ne(me)!=="svelte-12pyb7o"&&(me.textContent=Fe),_l.forEach(_),Oe=y(jt),Se=h(jt,"BUTTON",{class:!0,title:!0,style:!0});var Dl=w(Se);re(Re.$$.fragment,Dl),Dl.forEach(_),jt.forEach(_),Ct=y(St),st=h(St,"DIV",{class:!0});var vl=w(st);re(ct.$$.fragment,vl),Zt=y(vl),Je=h(vl,"INPUT",{type:!0,placeholder:!0,class:!0}),vl.forEach(_),Yt=y(St),Pe=h(St,"DIV",{class:!0});var kt=w(Pe);re(nt.$$.fragment,kt),vt=y(kt),He=h(kt,"BUTTON",{class:!0,title:!0});var pl=w(He);re(rt.$$.fragment,pl),Et=y(pl),Ze=h(pl,"SPAN",{class:!0,"data-svelte-h":!0}),ne(Ze)!=="svelte-1pudxd6"&&(Ze.textContent=Dt),pl.forEach(_),Jt=y(kt),Be=h(kt,"BUTTON",{class:!0,title:!0});var bl=w(Be);re(We.$$.fragment,bl),yt=y(bl),Ve=h(bl,"SPAN",{class:!0,"data-svelte-h":!0}),ne(Ve)!=="svelte-xqlrn6"&&(Ve.textContent=cl),bl.forEach(_),Qt=y(kt),Qe=h(kt,"DIV",{class:!0});var Mt=w(Qe);Xe=h(Mt,"BUTTON",{class:!0,title:!0});var Nl=w(Xe);re(ut.$$.fragment,Nl),Nl.forEach(_),Wt=y(Mt),xe=h(Mt,"BUTTON",{class:!0,title:!0});var Fl=w(xe);re(dt.$$.fragment,Fl),Fl.forEach(_),Xt=y(Mt),et=h(Mt,"BUTTON",{class:!0,title:!0});var Ul=w(et);re(ht.$$.fragment,Ul),Ul.forEach(_),Mt.forEach(_),kt.forEach(_),St.forEach(_),xt=y(Ot),Ge.l(Ot),Ot.forEach(_),lt.forEach(_),ge.forEach(_),el=y(oe),$e&&$e.l(oe),zt=y(oe),Ce&&Ce.l(oe),Bt=y(oe),Ee&&Ee.l(oe),Vt=y(oe),ye&&ye.l(oe),Pt=y(oe),Te&&Te.l(oe),At=y(oe),Ie&&Ie.l(oe),oe.forEach(_),this.h()},h(){f(u,"class","svelte-bfawk2"),f(a,"class","header-title svelte-bfawk2"),f(b,"class","meta-item svelte-bfawk2"),f(c,"class","meta-separator svelte-bfawk2"),f(E,"class","meta-item svelte-bfawk2"),f(O,"class","meta-separator svelte-bfawk2"),f(S,"class","meta-item svelte-bfawk2"),f(g,"class","header-meta svelte-bfawk2"),f(s,"class","header-left svelte-bfawk2"),f(G,"class","info-item svelte-bfawk2"),f(M,"class","header-info svelte-bfawk2"),f(l,"class","header-content svelte-bfawk2"),f(t,"class","page-header svelte-bfawk2"),me.__value="create-new",Ye(me,me.__value),ze(me,"border-top","1px solid var(--border-color)"),ze(me,"font-weight","500"),f(he,"class","bucket-select svelte-bfawk2"),f(Se,"class","toolbar-btn svelte-bfawk2"),f(Se,"title","Refresh buckets"),ze(Se,"padding","0"),ze(Se,"width","36px"),f(W,"class","bucket-selector svelte-bfawk2"),f(Je,"type","text"),f(Je,"placeholder","Search files..."),f(Je,"class","svelte-bfawk2"),f(st,"class","search-box svelte-bfawk2"),f(Ze,"class","btn-text-label svelte-bfawk2"),f(He,"class","toolbar-btn svelte-bfawk2"),He.disabled=pt=!n[3],f(He,"title","New Folder"),f(Ve,"class","btn-text-label svelte-bfawk2"),f(Be,"class","toolbar-btn toolbar-btn-primary svelte-bfawk2"),Be.disabled=Tt=!n[3],f(Be,"title","Upload Files"),f(Xe,"class",Nt="view-toggle-btn "+(n[2]==="grid"?"active":"")+" svelte-bfawk2"),f(Xe,"title","Grid view"),f(xe,"class",Ft="view-toggle-btn "+(n[2]==="list"?"active":"")+" svelte-bfawk2"),f(xe,"title","List view"),f(et,"class",Ut="view-toggle-btn "+(n[2]==="explorer"?"active":"")+" svelte-bfawk2"),f(et,"title","Explorer view"),f(Qe,"class","view-toggles svelte-bfawk2"),f(Pe,"class","toolbar-right svelte-bfawk2"),f(ie,"class","files-toolbar svelte-bfawk2"),f(ce,"class","card svelte-bfawk2"),f(fe,"class","files-container svelte-bfawk2"),f(Z,"class","content-area svelte-bfawk2"),f(e,"class","storage-page svelte-bfawk2")},m(R,oe){var tt;Q(R,e,oe),r(e,t),r(t,l),r(l,s),r(s,a),le(o,a,null),r(a,i),r(a,u),r(s,d),r(s,g),r(g,b),r(b,C),r(b,k),r(g,D),r(g,c),r(g,L),r(g,E),r(E,I),r(E,V),r(g,A),r(g,O),r(g,z),r(g,S),r(S,U),r(S,B),r(l,H),r(l,M),r(M,G),le(X,G,null),r(G,q),r(e,ae),r(e,Z),r(Z,fe),r(fe,ce),r(ce,ie),r(ie,W),le(de,W,null),r(W,pe),r(W,he),Ae&&Ae.m(he,null),r(he,be);for(let Me=0;Me<Ne.length;Me+=1)Ne[Me]&&Ne[Me].m(he,null);r(he,me),zl(he,((tt=n[3])==null?void 0:tt.id)||""),r(W,Oe),r(W,Se),le(Re,Se,null),r(ie,Ct),r(ie,st),le(ct,st,null),r(st,Zt),r(st,Je),Ye(Je,n[1]),r(ie,Yt),r(ie,Pe),le(nt,Pe,null),r(Pe,vt),r(Pe,He),le(rt,He,null),r(He,Et),r(He,Ze),r(Pe,Jt),r(Pe,Be),le(We,Be,null),r(Be,yt),r(Be,Ve),r(Pe,Qt),r(Pe,Qe),r(Qe,Xe),le(ut,Xe,null),r(Qe,Wt),r(Qe,xe),le(dt,xe,null),r(Qe,Xt),r(Qe,et),le(ht,et,null),r(ce,xt),at[qe].m(ce,null),r(e,el),$e&&$e.m(e,null),r(e,zt),Ce&&Ce.m(e,null),r(e,Bt),Ee&&Ee.m(e,null),r(e,Vt),ye&&ye.m(e,null),r(e,Pt),Te&&Te.m(e,null),r(e,At),Ie&&Ie.m(e,null),je=!0,tl||(ul=[K(he,"change",n[76]),K(Se,"click",n[61]),K(Je,"input",n[77]),K(He,"click",n[42]),K(Be,"click",n[45]),K(Xe,"click",n[78]),K(xe,"click",n[79]),K(et,"click",n[80])],tl=!0)},p(R,oe){var mt,_t;if((!je||oe[0]&268435456)&&P!==(P=R[28].length+"")&&_e(C,P),(!je||oe[0]&1073741824)&&_e(I,R[30]),(!je||oe[0]&536870912)&&_e(U,R[29]),bt!==(bt=dl(R))&&(Ae&&Ae.d(1),Ae=bt&&bt(R),Ae&&(Ae.c(),Ae.m(he,be))),oe[0]&268435456){gt=ft(R[28]);let v;for(v=0;v<gt.length;v+=1){const J=Ml(R,gt,v);Ne[v]?Ne[v].p(J,oe):(Ne[v]=Ll(J),Ne[v].c(),Ne[v].m(he,me))}for(;v<Ne.length;v+=1)Ne[v].d(1);Ne.length=gt.length}(!je||oe[0]&268435464&&Ue!==(Ue=((mt=R[3])==null?void 0:mt.id)||""))&&zl(he,((_t=R[3])==null?void 0:_t.id)||""),oe[0]&2&&Je.value!==R[1]&&Ye(Je,R[1]);const tt={};oe[1]&1&&(tt.data=R[31]),oe[1]&1&&(tt.disabled=R[31].length===0),nt.$set(tt),(!je||oe[0]&268435464&&pt!==(pt=!R[3]))&&(He.disabled=pt),(!je||oe[0]&268435464&&Tt!==(Tt=!R[3]))&&(Be.disabled=Tt),(!je||oe[0]&4&&Nt!==(Nt="view-toggle-btn "+(R[2]==="grid"?"active":"")+" svelte-bfawk2"))&&f(Xe,"class",Nt),(!je||oe[0]&4&&Ft!==(Ft="view-toggle-btn "+(R[2]==="list"?"active":"")+" svelte-bfawk2"))&&f(xe,"class",Ft),(!je||oe[0]&4&&Ut!==(Ut="view-toggle-btn "+(R[2]==="explorer"?"active":"")+" svelte-bfawk2"))&&f(et,"class",Ut);let Me=qe;qe=ml(R),qe===Me?at[qe].p(R,oe):(we(),j(at[Me],1,1,()=>{at[Me]=null}),ke(),Ge=at[qe],Ge?Ge.p(R,oe):(Ge=at[qe]=hl[qe](R),Ge.c()),F(Ge,1),Ge.m(ce,null)),R[6]?$e?($e.p(R,oe),oe[0]&64&&F($e,1)):($e=es(R),$e.c(),F($e,1),$e.m(e,zt)):$e&&(we(),j($e,1,1,()=>{$e=null}),ke()),R[7]?Ce?(Ce.p(R,oe),oe[0]&128&&F(Ce,1)):(Ce=ts(R),Ce.c(),F(Ce,1),Ce.m(e,Bt)):Ce&&(we(),j(Ce,1,1,()=>{Ce=null}),ke()),R[8]?Ee?(Ee.p(R,oe),oe[0]&256&&F(Ee,1)):(Ee=ls(R),Ee.c(),F(Ee,1),Ee.m(e,Vt)):Ee&&(we(),j(Ee,1,1,()=>{Ee=null}),ke()),R[9]?ye?(ye.p(R,oe),oe[0]&512&&F(ye,1)):(ye=os(R),ye.c(),F(ye,1),ye.m(e,Pt)):ye&&(we(),j(ye,1,1,()=>{ye=null}),ke()),R[10]?Te?(Te.p(R,oe),oe[0]&1024&&F(Te,1)):(Te=fs(R),Te.c(),F(Te,1),Te.m(e,At)):Te&&(we(),j(Te,1,1,()=>{Te=null}),ke()),R[21]?Ie?(Ie.p(R,oe),oe[0]&2097152&&F(Ie,1)):(Ie=cs(R),Ie.c(),F(Ie,1),Ie.m(e,null)):Ie&&(we(),j(Ie,1,1,()=>{Ie=null}),ke())},i(R){je||(F(o.$$.fragment,R),F(X.$$.fragment,R),F(de.$$.fragment,R),F(Re.$$.fragment,R),F(ct.$$.fragment,R),F(nt.$$.fragment,R),F(rt.$$.fragment,R),F(We.$$.fragment,R),F(ut.$$.fragment,R),F(dt.$$.fragment,R),F(ht.$$.fragment,R),F(Ge),F($e),F(Ce),F(Ee),F(ye),F(Te),F(Ie),je=!0)},o(R){j(o.$$.fragment,R),j(X.$$.fragment,R),j(de.$$.fragment,R),j(Re.$$.fragment,R),j(ct.$$.fragment,R),j(nt.$$.fragment,R),j(rt.$$.fragment,R),j(We.$$.fragment,R),j(ut.$$.fragment,R),j(dt.$$.fragment,R),j(ht.$$.fragment,R),j(Ge),j($e),j(Ce),j(Ee),j(ye),j(Te),j(Ie),je=!1},d(R){R&&_(e),te(o),te(X),te(de),Ae&&Ae.d(),al(Ne,R),te(Re),te(ct),te(nt),te(rt),te(We),te(ut),te(dt),te(ht),at[qe].d(),$e&&$e.d(),Ce&&Ce.d(),Ee&&Ee.d(),ye&&ye.d(),Te&&Te.d(),Ie&&Ie.d(),tl=!1,Ke(ul)}}}function kl(n){switch(n){case"folder":return"#f59e0b";case"image":return"#10b981";case"pdf":return"#ef4444";case"video":return"#8b5cf6";case"audio":return"#3b82f6";case"archive":return"#6366f1";case"code":return"#14b8a6";default:return"#64748b"}}function wn(n){var i;const e=(i=n.split(".").pop())==null?void 0:i.toLowerCase(),t=["jpg","jpeg","png","gif","svg","webp"],l=["mp4","avi","mov","webm"],s=["mp3","wav","ogg","m4a"],a=["js","ts","jsx","tsx","html","css","json","xml"],o=["zip","tar","gz","rar","7z"];return e?t.includes(e)?"image":l.includes(e)?"video":s.includes(e)?"audio":a.includes(e)?"code":o.includes(e)?"archive":e==="pdf"?"pdf":"file":"file"}function wl(n){if(n===0)return"0 B";const e=1024,t=["B","KB","MB","GB","TB"],l=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,l)).toFixed(2))+" "+t[l]}function $n(n,e,t){let l,s,a="grid",o=null,i="",u=null,p="",d=new Set,g=!1,b=!1,P=!1,C=!1,k=!1,D=null,c=null,$=!1,L=0,E=[],I=new Map,V=!1,A=null,O="",N,z=!1,S=null,U="",B="",H=!1,M={name:"",public:!1},G={name:""},X=[],q=[],ae="0 B",Z=0,fe=0;function ce(v){switch(v){case"folder":return Gt;case"image":return Ks;case"pdf":return Ds;case"video":return Is;case"audio":return Ts;case"archive":return ys;case"code":return Es;default:return Tl}}async function ie(v){console.log("Selecting bucket:",v),t(3,o=v),t(0,i=""),t(4,u=null),d.clear(),v&&v.name&&await Ve(v.name)}async function W(v){if(v.type==="folder"||v.isFolder){console.log("Navigating to folder:",v),v.id?(t(4,u=v.id),console.log("Set currentFolderId to:",u)):console.warn("Folder has no ID:",v);let J=v.object_name||v.name||"Untitled",Y=v.fullPath;J=J.replace(/^\/+|\/+$/g,""),Y?(Y=Y.replace(/^\/+|\/+$/g,""),t(0,i=Y)):i?t(0,i=i+"/"+J):t(0,i=J),console.log("New currentPath:",i,"folderId:",u),d.clear(),await Ve(o.name)}}async function de(v){const J=l.slice(0,v+1);t(0,i=J.join("/")),(v===-1||J.length===0)&&t(4,u=null),d.clear(),o&&await Ve(o.name)}function pe(v){d.has(v.id)?d.delete(v.id):d.add(v.id),t(5,d)}function he(){d.size===s.length?d.clear():s.forEach(v=>d.add(v.id)),t(5,d)}function be(){t(26,M={name:"",public:!1}),t(6,g=!0)}function me(){t(6,g=!1)}async function Fe(){if(!M.name){alert("Bucket name is required");return}try{await It.post("/storage/buckets",M),await yt(),me()}catch(v){console.error("Failed to create bucket:",v),alert("Failed to create bucket")}}function Ue(){t(27,G={name:""}),t(7,b=!0)}function Oe(){t(7,b=!1)}async function Se(){if(!G.name||!o){alert("Folder name is required");return}try{const v=G.name.replace(/\//g,""),J=await It.createFolder(o.name,v,u);if(J.error)throw new Error(J.error);await Ve(o.name),Oe()}catch(v){console.error("Failed to create folder:",v),alert("Failed to create folder: "+(v instanceof Error?v.message:"Unknown error"))}}function Re(){t(15,E=[]),t(14,L=0),t(8,P=!0)}function Ct(){t(8,P=!1),t(15,E=[])}function st(v){var Y;v.preventDefault();const J=(Y=v.dataTransfer)==null?void 0:Y.files;J&&t(15,E=Array.from(J))}function ct(v){const Y=v.target.files;Y&&t(15,E=Array.from(Y))}function Zt(){N&&N.click()}async function Je(){if(!o||E.length===0){alert("Please select files to upload");return}t(13,$=!0),t(14,L=0),I.clear();try{const v=E.length;let J=0;const Y=E.map(async ue=>{var De;const ve=ue.name+"_"+ue.lastModified;I.set(ve,0),t(16,I);try{I.set(ve,30),t(16,I),console.log("Uploading file:",ue.name,"to folder:",u);const ge=await It.uploadFile(o.name,ue,u);if(ge.error)throw new Error(ge.error);I.set(ve,100),t(16,I),J++,t(14,L=Math.round(J/v*100));const lt={id:((De=ge.data)==null?void 0:De.id)||Date.now().toString(),object_name:ue.name,size:wl(ue.size),type:wn(ue.name),modified:new Date().toLocaleString(),public:!1};return t(65,q=[...q,lt]),ge}catch(ge){throw I.set(ve,-1),t(16,I),ge}});await Promise.allSettled(Y),await Ve(o.name),setTimeout(()=>{Ct()},500)}catch(v){console.error("Upload failed:",v),alert("Failed to upload some files")}finally{t(13,$=!1)}}function Yt(v){t(11,D=v),t(9,C=!0)}function Pe(){t(9,C=!1),t(11,D=null)}async function nt(){if(!(!D||!o))try{const v=await It.deleteObject(o.name,D.id);if(v.error)throw new Error(v.error);await Ve(o.name),Pe()}catch(v){console.error("Delete failed:",v),alert("Failed to delete item: "+(v instanceof Error?v.message:"Unknown error"))}}async function vt(v){if(o){Ze();try{const J=`http://localhost:8090/api/storage/buckets/${o.name}/objects/${v.id}/download`,Y=localStorage.getItem("auth_token"),ue=await fetch(J,{headers:{Authorization:`Bearer ${Y}`}});if(!ue.ok)throw new Error("Download failed");const ve=await ue.blob(),De=window.URL.createObjectURL(ve),ge=document.createElement("a");ge.href=De,ge.download=v.object_name||"download",ge.style.display="none",document.body.appendChild(ge),ge.click(),setTimeout(()=>{document.body.removeChild(ge),window.URL.revokeObjectURL(De)},100)}catch(J){console.error("Download failed:",J),alert("Failed to download file")}}}async function He(v){var J;if(!(!v||!o)){if(v.type==="folder"){W(v);return}t(22,S=v),t(23,U=""),t(24,B=""),t(25,H=!0),t(21,z=!0);try{const Y=(J=v.object_name.split(".").pop())==null?void 0:J.toLowerCase(),ue=["jpg","jpeg","png","gif","svg","webp","bmp"],ve=["txt","md","json","xml","csv","log","yml","yaml","toml","ini"],De=["js","ts","jsx","tsx","html","css","scss","sass","less","py","go","java","c","cpp","h","hpp","cs","php","rb","rs","swift","kt","scala","sh","bash","sql","vue","svelte"];if(ue.includes(Y||"")){const ge=localStorage.getItem("auth_token"),lt=await fetch(`http://localhost:8090/api/storage/buckets/${o.name}/objects/${v.id}/download`,{headers:{Authorization:`Bearer ${ge}`}});if(lt.ok){const Ot=await lt.blob();t(24,B=URL.createObjectURL(Ot))}else console.error("Failed to load image:",lt.status),t(23,U="Failed to load image");t(25,H=!1)}else if(ve.includes(Y||"")||De.includes(Y||"")){const ge=localStorage.getItem("auth_token"),lt=await fetch(`http://localhost:8090/api/storage/buckets/${o.name}/objects/${v.id}/download`,{headers:{Authorization:`Bearer ${ge}`}});lt.ok?t(23,U=await lt.text()):t(23,U="Failed to load file content"),t(25,H=!1)}else t(23,U=`File type: ${Y}
Size: ${v.size}

This file type cannot be previewed. Click download to save it.`),t(25,H=!1)}catch(Y){console.error("Preview failed:",Y),t(23,U="Failed to load preview"),t(25,H=!1)}}}function rt(){t(21,z=!1),t(22,S=null),t(23,U=""),t(24,B=""),t(25,H=!1)}function Et(v,J){J.stopPropagation(),A===v?t(18,A=null):t(18,A=v)}function Ze(){t(18,A=null)}function Dt(v){t(12,c=v),t(19,O=v.name),t(10,k=!0),Ze()}function pt(){t(10,k=!1),t(12,c=null),t(19,O="")}async function Jt(){if(!(!c||!o||!O))try{(await It.patch(`/storage/buckets/${o.name}/objects/${c.id}/rename`,{newName:O})).message&&(await Ve(o.name),pt())}catch(v){console.error("Rename failed:",v),alert("Failed to rename item: "+(v.message||"Unknown error"))}}function Be(v){He(v),Ze()}function We(v){Yt(v),Ze()}async function yt(){try{const v=await It.get("/storage/buckets");Array.isArray(v)?t(28,X=v):v&&v.error?(console.error("API error:",v.error),t(28,X=[])):t(28,X=[]),fe=X.length;let J=0,Y=0;X.forEach(ue=>{J+=ue.files||0,Y+=ue.size_bytes||0}),t(30,Z=J),t(29,ae=wl(Y)),X.length>0&&ie(X[0])}catch(v){console.error("Failed to fetch buckets:",v),t(28,X=[])}}async function Ve(v){t(17,V=!0),t(65,q=[]);try{console.log("Fetching objects for bucket:",v,"folderId:",u);const J=u?`/storage/buckets/${v}/objects?parent_folder_id=${encodeURIComponent(u)}`:`/storage/buckets/${v}/objects`,Y=await It.get(J);if(console.log("Raw API response:",Y),console.log("Response type:",typeof Y),Array.isArray(Y)&&Y.forEach(ve=>{var De;(ve.type==="folder"||(De=ve.name)!=null&&De.endsWith("/"))&&console.log("Raw folder item:",ve)}),Y==null){console.warn("Response is null or undefined, using empty array"),t(65,q=[]);return}if(Y&&Y.error){if(console.error("API returned error:",Y.error),Y.error.includes("not implemented")||Y.error.includes("not found")){console.log("API not implemented, using test data"),t(65,q=[{id:"1",name:"test-folder",type:"folder",size:0,modified:new Date().toISOString(),public:!1},{id:"2",name:"test-file.txt",type:"file",size:"1.2 KB",modified:new Date().toISOString(),public:!1},{id:"3",name:"image.png",type:"image",size:"45 KB",modified:new Date().toISOString(),public:!1}]);return}t(65,q=[]);return}let ue=[];if(Array.isArray(Y))ue=Y;else if(Y&&Y.data&&Array.isArray(Y.data))ue=Y.data;else if(Y&&Y.objects&&Array.isArray(Y.objects))ue=Y.objects;else if(Y&&typeof Y=="object"){const ve=Object.keys(Y);console.log("Response object keys:",ve);for(const De of ve)if(Array.isArray(Y[De])){console.log(`Found array at key "${De}":`,Y[De]),ue=Y[De];break}}if(!ue||ue.length===0){console.log("No files found in response"),t(65,q=[]);return}t(65,q=ue),console.log("Files from backend:",q),console.log("Files count:",q.length),q.length>0&&console.log("First file object:",q[0])}catch(J){console.error("Failed to fetch bucket objects:",J),t(65,q=[])}finally{t(17,V=!1)}}function cl(v){const J=[],Y=new Map;return v.forEach(ue=>{if(ue.isFolder||ue.type==="folder"){const ve={id:ue.id,name:ue.object_name,path:ue.fullPath||ue.object_name,type:"directory",children:[]};Y.set(ue.fullPath||ue.object_name,ve),J.push(ve)}}),v.forEach(ue=>{if(!ue.isFolder&&ue.type!=="folder"){const ve={id:ue.id,name:ue.object_name,path:ue.fullPath||ue.object_name,type:"file",size:ue.size},De=i,ge=Y.get(De);ge?ge.children.push(ve):J.push(ve)}}),J}function Tt(v){if(v.type==="directory"){const J=q.find(Y=>Y.id===v.id);J&&W(J)}else{const J=q.find(Y=>Y.id===v.id);J&&Be(J)}}ps(async()=>{if(!ws())return;await yt();const v=()=>{Ze()};return document.addEventListener("click",v),()=>{document.removeEventListener("click",v)}});function Qt(v){ot.call(this,n,v)}function Qe(v){ot.call(this,n,v)}function Xe(v){ot.call(this,n,v)}function ut(v){ot.call(this,n,v)}function Nt(v){ot.call(this,n,v)}function Wt(v){ot.call(this,n,v)}function xe(v){ot.call(this,n,v)}function dt(v){ot.call(this,n,v)}function Ft(v){ot.call(this,n,v)}function Xt(v){ot.call(this,n,v)}const et=v=>{if(v.target.value==="create-new")be(),v.target.value=(o==null?void 0:o.id)||"";else{const J=X.find(Y=>Y.id===v.target.value);J&&ie(J)}};function ht(){p=this.value,t(1,p)}const Ut=()=>t(2,a="grid"),xt=()=>t(2,a="list"),qe=()=>t(2,a="explorer"),Ge=async()=>{t(0,i=""),t(4,u=null),console.log("Navigating to root, reset currentFolderId to null"),await Ve(o.name)},el=v=>de(v),zt=()=>d.clear(),Bt=(v,J)=>Et(v.id,J),Vt=v=>Be(v),Pt=v=>vt(v),At=v=>Dt(v),je=v=>We(v),tl=v=>W(v),ul=v=>pe(v),dl=v=>W(v),bt=(v,J)=>Et(v.id,J),Ae=v=>Be(v),gt=v=>vt(v),Ne=v=>Dt(v),hl=v=>We(v),at=v=>Tt(v.detail);function ml(){M.name=this.value,t(26,M)}function $e(){M.public=this.checked,t(26,M)}const Ce=v=>v.key==="Escape"&&me();function Ee(){G.name=this.value,t(27,G)}const ye=v=>v.key==="Escape"&&Oe();function Te(v){bs[v?"unshift":"push"](()=>{N=v,t(20,N)})}const Ie=()=>t(15,E=[]),R=v=>v.key==="Escape"&&Ct(),oe=v=>v.key==="Escape"&&Pe();function tt(){O=this.value,t(19,O)}const Me=v=>v.key==="Escape"&&pt(),mt=()=>vt(S),_t=v=>v.key==="Escape"&&rt();return n.$$.update=()=>{n.$$.dirty[2]&8&&console.log("Files array updated:",q),n.$$.dirty[0]&1&&t(32,l=i.split("/").filter(v=>v)),n.$$.dirty[0]&2|n.$$.dirty[2]&8&&t(31,s=(()=>{const v=q.filter(J=>!J||!J.object_name?!1:J.object_name.toLowerCase().includes(p.toLowerCase()));return console.log("Filtered files:",v,"Search query:",p),v})())},[i,p,a,o,u,d,g,b,P,C,k,D,c,$,L,E,I,V,A,O,N,z,S,U,B,H,M,G,X,ae,Z,s,l,ce,ie,W,de,pe,he,be,me,Fe,Ue,Oe,Se,Re,Ct,st,ct,Zt,Je,Pe,nt,vt,rt,Et,Dt,pt,Jt,Be,We,yt,Ve,cl,Tt,q,Qt,Qe,Xe,ut,Nt,Wt,xe,dt,Ft,Xt,et,ht,Ut,xt,qe,Ge,el,zt,Bt,Vt,Pt,At,je,tl,ul,dl,bt,Ae,gt,Ne,hl,at,ml,$e,Ce,Ee,ye,Te,Ie,R,oe,tt,Me,mt,_t]}class Wn extends Lt{constructor(e){super(),Rt(this,e,$n,kn,Ht,{},null,[-1,-1,-1,-1,-1])}}export{Wn as component};
