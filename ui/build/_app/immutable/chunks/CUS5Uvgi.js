import{S as Se,i as ye,s as je,d,o as E,p as b,J as L,D as q,b as T,G as ie,a0 as Ae,w as ee,B as ue,a as K,c as m,x as le,E as J,U as Ue,C as F,e as g,f as C,g as X,h as O,y as te,F as se,j as k,t as Z,k as P,z as ne,V as ce,n as U,I as fe,a1 as R,Z as we,_ as De,$ as Ie}from"./BDqP8p-g.js";import{e as Y}from"./D6YF6ztN.js";import"./IHki7fMi.js";import{X as Oe}from"./DhjFA1Ec.js";import{C as Ne}from"./BEJhNylV.js";import{C as Ve}from"./DrjeAFw4.js";function me(r,e,i){const l=r.slice();return l[25]=e[i],l}function pe(r,e,i){const l=r.slice();return l[28]=e[i],l}function be(r,e,i){const l=r.slice();return l[25]=e[i],l}function ge(r,e,i){const l=r.slice();return l[28]=e[i],l}function Pe(r){let e,i,l,t;const c=[qe,Le,Me],s=[];function o(n,a){return n[2]?0:n[1].length===0?1:2}return i=o(r),l=s[i]=c[i](r),{c(){e=k("div"),l.c(),this.h()},l(n){e=g(n,"DIV",{class:!0});var a=C(e);l.l(a),a.forEach(d),this.h()},h(){F(e,"class","file-explorer svelte-fzu6zd")},m(n,a){T(n,e,a),s[i].m(e,null),t=!0},p(n,a){let u=i;i=o(n),i===u?s[i].p(n,a):(L(),E(s[u],1,1,()=>{s[u]=null}),q(),l=s[i],l?l.p(n,a):(l=s[i]=c[i](n),l.c()),b(l,1),l.m(e,null))},i(n){t||(b(l),t=!0)},o(n){E(l),t=!1},d(n){n&&d(e),s[i].d()}}}function $e(r){let e,i,l,t,c,s,o,n,a,u,z,w,h,p,D,I,S="Cancel",V,B,H,$=r[3]==="folder"?"Folder":r[3]==="file"?"File":"Item",N,G,M,Q,v;n=new Oe({props:{size:20}});const f=[Qe,Ke,Ze],_=[];function j(W,y){return W[2]?0:W[1].length===0?1:2}return w=j(r),h=_[w]=f[w](r),{c(){e=k("div"),i=k("div"),l=k("div"),t=k("h3"),c=Z(r[5]),s=P(),o=k("button"),ne(n.$$.fragment),a=P(),u=k("div"),z=k("div"),h.c(),p=P(),D=k("div"),I=k("button"),I.textContent=S,V=P(),B=k("button"),H=Z("Select "),N=Z($),this.h()},l(W){e=g(W,"DIV",{class:!0});var y=C(e);i=g(y,"DIV",{class:!0});var A=C(i);l=g(A,"DIV",{class:!0});var re=C(l);t=g(re,"H3",{class:!0});var de=C(t);c=X(de,r[5]),de.forEach(d),s=O(re),o=g(re,"BUTTON",{class:!0});var _e=C(o);te(n.$$.fragment,_e),_e.forEach(d),re.forEach(d),a=O(A),u=g(A,"DIV",{class:!0});var he=C(u);z=g(he,"DIV",{class:!0});var ve=C(z);h.l(ve),ve.forEach(d),he.forEach(d),p=O(A),D=g(A,"DIV",{class:!0});var oe=C(D);I=g(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),se(I)!=="svelte-1bmsvha"&&(I.textContent=S),V=O(oe),B=g(oe,"BUTTON",{class:!0});var ae=C(B);H=X(ae,"Select "),N=X(ae,$),ae.forEach(d),oe.forEach(d),A.forEach(d),y.forEach(d),this.h()},h(){F(t,"class","svelte-fzu6zd"),F(o,"class","close-button svelte-fzu6zd"),F(l,"class","modal-header svelte-fzu6zd"),F(z,"class","file-explorer svelte-fzu6zd"),F(u,"class","modal-body svelte-fzu6zd"),F(I,"class","btn btn-secondary svelte-fzu6zd"),F(B,"class","btn btn-primary svelte-fzu6zd"),B.disabled=G=!r[0],F(D,"class","modal-footer svelte-fzu6zd"),F(i,"class","modal svelte-fzu6zd"),F(e,"class","modal-overlay svelte-fzu6zd")},m(W,y){T(W,e,y),m(e,i),m(i,l),m(l,t),m(t,c),m(l,s),m(l,o),le(n,o,null),m(i,a),m(i,u),m(u,z),_[w].m(z,null),m(i,p),m(i,D),m(D,I),m(D,V),m(D,B),m(B,H),m(B,N),M=!0,Q||(v=[J(o,"click",r[10]),J(I,"click",r[10]),J(B,"click",r[11]),J(i,"click",Ue(r[12])),J(e,"click",r[10])],Q=!0)},p(W,y){(!M||y[0]&32)&&K(c,W[5]);let A=w;w=j(W),w===A?_[w].p(W,y):(L(),E(_[A],1,1,()=>{_[A]=null}),q(),h=_[w],h?h.p(W,y):(h=_[w]=f[w](W),h.c()),b(h,1),h.m(z,null)),(!M||y[0]&8)&&$!==($=W[3]==="folder"?"Folder":W[3]==="file"?"File":"Item")&&K(N,$),(!M||y[0]&1&&G!==(G=!W[0]))&&(B.disabled=G)},i(W){M||(b(n.$$.fragment,W),b(h),M=!0)},o(W){E(n.$$.fragment,W),E(h),M=!1},d(W){W&&d(e),ee(n),_[w].d(),Q=!1,ue(v)}}}function Me(r){let e,i,l=Y(r[1]),t=[];for(let s=0;s<l.length;s+=1)t[s]=Fe(me(r,l,s));const c=s=>E(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var o=C(e);for(let n=0;n<t.length;n+=1)t[n].l(o);o.forEach(d),this.h()},h(){F(e,"class","file-tree svelte-fzu6zd")},m(s,o){T(s,e,o);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null);i=!0},p(s,o){if(o[0]&971){l=Y(s[1]);let n;for(n=0;n<l.length;n+=1){const a=me(s,l,n);t[n]?(t[n].p(a,o),b(t[n],1)):(t[n]=Fe(a),t[n].c(),b(t[n],1),t[n].m(e,null))}for(L(),n=l.length;n<t.length;n+=1)c(n);q()}},i(s){if(!i){for(let o=0;o<l.length;o+=1)b(t[o]);i=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)E(t[o]);i=!1},d(s){s&&d(e),fe(t,s)}}}function Le(r){let e,i="No files found";return{c(){e=k("div"),e.textContent=i,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-i756ie"&&(e.textContent=i),this.h()},h(){F(e,"class","empty svelte-fzu6zd")},m(l,t){T(l,e,t)},p:U,i:U,o:U,d(l){l&&d(e)}}}function qe(r){let e,i="Loading files...";return{c(){e=k("div"),e.textContent=i,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-z7bieg"&&(e.textContent=i),this.h()},h(){F(e,"class","loading svelte-fzu6zd")},m(l,t){T(l,e,t)},p:U,i:U,o:U,d(l){l&&d(e)}}}function Ge(r){let e,i,l=x(r[25])+"",t,c,s,o=r[25].name+"",n,a,u,z;function w(){return r[22](r[25])}return{c(){e=k("button"),i=k("span"),t=Z(l),c=P(),s=k("span"),n=Z(o),this.h()},l(h){e=g(h,"BUTTON",{class:!0});var p=C(e);i=g(p,"SPAN",{class:!0});var D=C(i);t=X(D,l),D.forEach(d),c=O(p),s=g(p,"SPAN",{});var I=C(s);n=X(I,o),I.forEach(d),p.forEach(d),this.h()},h(){F(i,"class","file-emoji svelte-fzu6zd"),F(e,"class","node-item file svelte-fzu6zd"),e.disabled=a=r[3]==="folder",R(e,"selected",r[8](r[25]))},m(h,p){T(h,e,p),m(e,i),m(i,t),m(e,c),m(e,s),m(s,n),u||(z=J(e,"click",w),u=!0)},p(h,p){r=h,p[0]&2&&l!==(l=x(r[25])+"")&&K(t,l),p[0]&2&&o!==(o=r[25].name+"")&&K(n,o),p[0]&8&&a!==(a=r[3]==="folder")&&(e.disabled=a),p[0]&258&&R(e,"selected",r[8](r[25]))},i:U,o:U,d(h){h&&d(e),u=!1,z()}}}function He(r){let e,i,l,t,c,s,o,n,a=x(r[25])+"",u,z,w,h=r[25].name+"",p,D,I=r[6].has(r[25].path)&&r[25].children,S,V,B,H;const $=[Xe,Je],N=[];function G(f,_){return _[0]&66&&(l=null),l==null&&(l=!!f[6].has(f[25].path)),l?0:1}t=G(r,[-1,-1]),c=N[t]=$[t](r);function M(){return r[18](r[25])}function Q(){return r[19](r[25])}let v=I&&ke(r);return{c(){e=k("div"),i=k("button"),c.c(),s=P(),o=k("button"),n=k("span"),u=Z(a),z=P(),w=k("span"),p=Z(h),D=P(),v&&v.c(),S=ie(),this.h()},l(f){e=g(f,"DIV",{class:!0});var _=C(e);i=g(_,"BUTTON",{class:!0});var j=C(i);c.l(j),j.forEach(d),s=O(_),o=g(_,"BUTTON",{class:!0});var W=C(o);n=g(W,"SPAN",{class:!0});var y=C(n);u=X(y,a),y.forEach(d),z=O(W),w=g(W,"SPAN",{});var A=C(w);p=X(A,h),A.forEach(d),W.forEach(d),_.forEach(d),D=O(f),v&&v.l(f),S=ie(),this.h()},h(){F(i,"class","folder-toggle svelte-fzu6zd"),F(n,"class","file-emoji svelte-fzu6zd"),F(o,"class","node-item folder svelte-fzu6zd"),R(o,"selected",r[8](r[25])),F(e,"class","folder-node svelte-fzu6zd")},m(f,_){T(f,e,_),m(e,i),N[t].m(i,null),m(e,s),m(e,o),m(o,n),m(n,u),m(o,z),m(o,w),m(w,p),T(f,D,_),v&&v.m(f,_),T(f,S,_),V=!0,B||(H=[J(i,"click",M),J(o,"click",Q)],B=!0)},p(f,_){r=f;let j=t;t=G(r,_),t!==j&&(L(),E(N[j],1,1,()=>{N[j]=null}),q(),c=N[t],c||(c=N[t]=$[t](r),c.c()),b(c,1),c.m(i,null)),(!V||_[0]&2)&&a!==(a=x(r[25])+"")&&K(u,a),(!V||_[0]&2)&&h!==(h=r[25].name+"")&&K(p,h),(!V||_[0]&258)&&R(o,"selected",r[8](r[25])),_[0]&66&&(I=r[6].has(r[25].path)&&r[25].children),I?v?(v.p(r,_),_[0]&66&&b(v,1)):(v=ke(r),v.c(),b(v,1),v.m(S.parentNode,S)):v&&(L(),E(v,1,1,()=>{v=null}),q())},i(f){V||(b(c),b(v),V=!0)},o(f){E(c),E(v),V=!1},d(f){f&&(d(e),d(D),d(S)),N[t].d(),v&&v.d(f),B=!1,ue(H)}}}function Je(r){let e,i;return e=new Ve({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,t){le(e,l,t),i=!0},i(l){i||(b(e.$$.fragment,l),i=!0)},o(l){E(e.$$.fragment,l),i=!1},d(l){ee(e,l)}}}function Xe(r){let e,i;return e=new Ne({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,t){le(e,l,t),i=!0},i(l){i||(b(e.$$.fragment,l),i=!0)},o(l){E(e.$$.fragment,l),i=!1},d(l){ee(e,l)}}}function ke(r){let e,i,l=Y(r[25].children),t=[];for(let s=0;s<l.length;s+=1)t[s]=ze(pe(r,l,s));const c=s=>E(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var o=C(e);for(let n=0;n<t.length;n+=1)t[n].l(o);o.forEach(d),this.h()},h(){F(e,"class","folder-children svelte-fzu6zd")},m(s,o){T(s,e,o);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null);i=!0},p(s,o){if(o[0]&11){l=Y(s[25].children);let n;for(n=0;n<l.length;n+=1){const a=pe(s,l,n);t[n]?(t[n].p(a,o),b(t[n],1)):(t[n]=ze(a),t[n].c(),b(t[n],1),t[n].m(e,null))}for(L(),n=l.length;n<t.length;n+=1)c(n);q()}},i(s){if(!i){for(let o=0;o<l.length;o+=1)b(t[o]);i=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)E(t[o]);i=!1},d(s){s&&d(e),fe(t,s)}}}function ze(r){let e,i,l;function t(s){r[20](s)}let c={files:[r[28]],mode:r[3],showModal:!1};return r[0]!==void 0&&(c.selectedFile=r[0]),e=new Be({props:c}),we.push(()=>De(e,"selectedFile",t)),e.$on("select",r[21]),{c(){ne(e.$$.fragment)},l(s){te(e.$$.fragment,s)},m(s,o){le(e,s,o),l=!0},p(s,o){const n={};o[0]&2&&(n.files=[s[28]]),o[0]&8&&(n.mode=s[3]),!i&&o[0]&1&&(i=!0,n.selectedFile=s[0],Ie(()=>i=!1)),e.$set(n)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){ee(e,s)}}}function Fe(r){let e,i,l,t,c;const s=[He,Ge],o=[];function n(a,u){return a[25].type==="directory"?0:1}return i=n(r),l=o[i]=s[i](r),{c(){e=k("div"),l.c(),t=P(),this.h()},l(a){e=g(a,"DIV",{class:!0});var u=C(e);l.l(u),t=O(u),u.forEach(d),this.h()},h(){F(e,"class","file-node svelte-fzu6zd")},m(a,u){T(a,e,u),o[i].m(e,null),m(e,t),c=!0},p(a,u){let z=i;i=n(a),i===z?o[i].p(a,u):(L(),E(o[z],1,1,()=>{o[z]=null}),q(),l=o[i],l?l.p(a,u):(l=o[i]=s[i](a),l.c()),b(l,1),l.m(e,t))},i(a){c||(b(l),c=!0)},o(a){E(l),c=!1},d(a){a&&d(e),o[i].d()}}}function Ze(r){let e,i,l=Y(r[1]),t=[];for(let s=0;s<l.length;s+=1)t[s]=We(be(r,l,s));const c=s=>E(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var o=C(e);for(let n=0;n<t.length;n+=1)t[n].l(o);o.forEach(d),this.h()},h(){F(e,"class","file-tree svelte-fzu6zd")},m(s,o){T(s,e,o);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null);i=!0},p(s,o){if(o[0]&971){l=Y(s[1]);let n;for(n=0;n<l.length;n+=1){const a=be(s,l,n);t[n]?(t[n].p(a,o),b(t[n],1)):(t[n]=We(a),t[n].c(),b(t[n],1),t[n].m(e,null))}for(L(),n=l.length;n<t.length;n+=1)c(n);q()}},i(s){if(!i){for(let o=0;o<l.length;o+=1)b(t[o]);i=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)E(t[o]);i=!1},d(s){s&&d(e),fe(t,s)}}}function Ke(r){let e,i="No files found";return{c(){e=k("div"),e.textContent=i,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-i756ie"&&(e.textContent=i),this.h()},h(){F(e,"class","empty svelte-fzu6zd")},m(l,t){T(l,e,t)},p:U,i:U,o:U,d(l){l&&d(e)}}}function Qe(r){let e,i="Loading files...";return{c(){e=k("div"),e.textContent=i,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-z7bieg"&&(e.textContent=i),this.h()},h(){F(e,"class","loading svelte-fzu6zd")},m(l,t){T(l,e,t)},p:U,i:U,o:U,d(l){l&&d(e)}}}function Re(r){let e,i,l=x(r[25])+"",t,c,s,o=r[25].name+"",n,a,u,z;function w(){return r[17](r[25])}return{c(){e=k("button"),i=k("span"),t=Z(l),c=P(),s=k("span"),n=Z(o),this.h()},l(h){e=g(h,"BUTTON",{class:!0});var p=C(e);i=g(p,"SPAN",{class:!0});var D=C(i);t=X(D,l),D.forEach(d),c=O(p),s=g(p,"SPAN",{});var I=C(s);n=X(I,o),I.forEach(d),p.forEach(d),this.h()},h(){F(i,"class","file-emoji svelte-fzu6zd"),F(e,"class","node-item file svelte-fzu6zd"),e.disabled=a=r[3]==="folder",R(e,"selected",r[8](r[25]))},m(h,p){T(h,e,p),m(e,i),m(i,t),m(e,c),m(e,s),m(s,n),u||(z=J(e,"click",w),u=!0)},p(h,p){r=h,p[0]&2&&l!==(l=x(r[25])+"")&&K(t,l),p[0]&2&&o!==(o=r[25].name+"")&&K(n,o),p[0]&8&&a!==(a=r[3]==="folder")&&(e.disabled=a),p[0]&258&&R(e,"selected",r[8](r[25]))},i:U,o:U,d(h){h&&d(e),u=!1,z()}}}function Ye(r){let e,i,l,t,c,s,o,n,a=x(r[25])+"",u,z,w,h=r[25].name+"",p,D,I=r[6].has(r[25].path)&&r[25].children,S,V,B,H;const $=[el,xe],N=[];function G(f,_){return _[0]&66&&(l=null),l==null&&(l=!!f[6].has(f[25].path)),l?0:1}t=G(r,[-1,-1]),c=N[t]=$[t](r);function M(){return r[13](r[25])}function Q(){return r[14](r[25])}let v=I&&Ee(r);return{c(){e=k("div"),i=k("button"),c.c(),s=P(),o=k("button"),n=k("span"),u=Z(a),z=P(),w=k("span"),p=Z(h),D=P(),v&&v.c(),S=ie(),this.h()},l(f){e=g(f,"DIV",{class:!0});var _=C(e);i=g(_,"BUTTON",{class:!0});var j=C(i);c.l(j),j.forEach(d),s=O(_),o=g(_,"BUTTON",{class:!0});var W=C(o);n=g(W,"SPAN",{class:!0});var y=C(n);u=X(y,a),y.forEach(d),z=O(W),w=g(W,"SPAN",{});var A=C(w);p=X(A,h),A.forEach(d),W.forEach(d),_.forEach(d),D=O(f),v&&v.l(f),S=ie(),this.h()},h(){F(i,"class","folder-toggle svelte-fzu6zd"),F(n,"class","file-emoji svelte-fzu6zd"),F(o,"class","node-item folder svelte-fzu6zd"),R(o,"selected",r[8](r[25])),F(e,"class","folder-node svelte-fzu6zd")},m(f,_){T(f,e,_),m(e,i),N[t].m(i,null),m(e,s),m(e,o),m(o,n),m(n,u),m(o,z),m(o,w),m(w,p),T(f,D,_),v&&v.m(f,_),T(f,S,_),V=!0,B||(H=[J(i,"click",M),J(o,"click",Q)],B=!0)},p(f,_){r=f;let j=t;t=G(r,_),t!==j&&(L(),E(N[j],1,1,()=>{N[j]=null}),q(),c=N[t],c||(c=N[t]=$[t](r),c.c()),b(c,1),c.m(i,null)),(!V||_[0]&2)&&a!==(a=x(r[25])+"")&&K(u,a),(!V||_[0]&2)&&h!==(h=r[25].name+"")&&K(p,h),(!V||_[0]&258)&&R(o,"selected",r[8](r[25])),_[0]&66&&(I=r[6].has(r[25].path)&&r[25].children),I?v?(v.p(r,_),_[0]&66&&b(v,1)):(v=Ee(r),v.c(),b(v,1),v.m(S.parentNode,S)):v&&(L(),E(v,1,1,()=>{v=null}),q())},i(f){V||(b(c),b(v),V=!0)},o(f){E(c),E(v),V=!1},d(f){f&&(d(e),d(D),d(S)),N[t].d(),v&&v.d(f),B=!1,ue(H)}}}function xe(r){let e,i;return e=new Ve({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,t){le(e,l,t),i=!0},i(l){i||(b(e.$$.fragment,l),i=!0)},o(l){E(e.$$.fragment,l),i=!1},d(l){ee(e,l)}}}function el(r){let e,i;return e=new Ne({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){te(e.$$.fragment,l)},m(l,t){le(e,l,t),i=!0},i(l){i||(b(e.$$.fragment,l),i=!0)},o(l){E(e.$$.fragment,l),i=!1},d(l){ee(e,l)}}}function Ee(r){let e,i,l=Y(r[25].children),t=[];for(let s=0;s<l.length;s+=1)t[s]=Ce(ge(r,l,s));const c=s=>E(t[s],1,1,()=>{t[s]=null});return{c(){e=k("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var o=C(e);for(let n=0;n<t.length;n+=1)t[n].l(o);o.forEach(d),this.h()},h(){F(e,"class","folder-children svelte-fzu6zd")},m(s,o){T(s,e,o);for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(e,null);i=!0},p(s,o){if(o[0]&11){l=Y(s[25].children);let n;for(n=0;n<l.length;n+=1){const a=ge(s,l,n);t[n]?(t[n].p(a,o),b(t[n],1)):(t[n]=Ce(a),t[n].c(),b(t[n],1),t[n].m(e,null))}for(L(),n=l.length;n<t.length;n+=1)c(n);q()}},i(s){if(!i){for(let o=0;o<l.length;o+=1)b(t[o]);i=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)E(t[o]);i=!1},d(s){s&&d(e),fe(t,s)}}}function Ce(r){let e,i,l;function t(s){r[15](s)}let c={files:[r[28]],mode:r[3],showModal:!1};return r[0]!==void 0&&(c.selectedFile=r[0]),e=new Be({props:c}),we.push(()=>De(e,"selectedFile",t)),e.$on("select",r[16]),{c(){ne(e.$$.fragment)},l(s){te(e.$$.fragment,s)},m(s,o){le(e,s,o),l=!0},p(s,o){const n={};o[0]&2&&(n.files=[s[28]]),o[0]&8&&(n.mode=s[3]),!i&&o[0]&1&&(i=!0,n.selectedFile=s[0],Ie(()=>i=!1)),e.$set(n)},i(s){l||(b(e.$$.fragment,s),l=!0)},o(s){E(e.$$.fragment,s),l=!1},d(s){ee(e,s)}}}function We(r){let e,i,l,t,c;const s=[Ye,Re],o=[];function n(a,u){return a[25].type==="directory"?0:1}return i=n(r),l=o[i]=s[i](r),{c(){e=k("div"),l.c(),t=P(),this.h()},l(a){e=g(a,"DIV",{class:!0});var u=C(e);l.l(u),t=O(u),u.forEach(d),this.h()},h(){F(e,"class","file-node svelte-fzu6zd")},m(a,u){T(a,e,u),o[i].m(e,null),m(e,t),c=!0},p(a,u){let z=i;i=n(a),i===z?o[i].p(a,u):(L(),E(o[z],1,1,()=>{o[z]=null}),q(),l=o[i],l?l.p(a,u):(l=o[i]=s[i](a),l.c()),b(l,1),l.m(e,t))},i(a){c||(b(l),c=!0)},o(a){E(l),c=!1},d(a){a&&d(e),o[i].d()}}}function ll(r){let e,i,l,t;const c=[$e,Pe],s=[];function o(n,a){return n[4]?0:1}return e=o(r),i=s[e]=c[e](r),{c(){i.c(),l=ie()},l(n){i.l(n),l=ie()},m(n,a){s[e].m(n,a),T(n,l,a),t=!0},p(n,a){let u=e;e=o(n),e===u?s[e].p(n,a):(L(),E(s[u],1,1,()=>{s[u]=null}),q(),i=s[e],i?i.p(n,a):(i=s[e]=c[e](n),i.c()),b(i,1),i.m(l.parentNode,l))},i(n){t||(b(i),t=!0)},o(n){E(i),t=!1},d(n){n&&d(l),s[e].d(n)}}}function x(r){var i;if(r.type==="directory")return"ðŸ“";const e=((i=r.name)==null?void 0:i.toLowerCase())||"";return e.split(".").pop(),e.endsWith(".md")||e.endsWith(".markdown")?"ðŸ“":e.endsWith(".html")||e.endsWith(".htm")?"ðŸŒ":e.endsWith(".css")||e.endsWith(".scss")||e.endsWith(".sass")?"ðŸŽ¨":e.endsWith(".js")||e.endsWith(".ts")||e.endsWith(".jsx")||e.endsWith(".tsx")?"ðŸ“œ":e.endsWith(".json")?"ðŸ“‹":e.endsWith(".toml")||e.endsWith(".yaml")||e.endsWith(".yml")?"âš™ï¸":e.endsWith(".jpg")||e.endsWith(".jpeg")||e.endsWith(".png")||e.endsWith(".gif")||e.endsWith(".svg")?"ðŸ–¼ï¸":e.endsWith(".mp4")||e.endsWith(".avi")||e.endsWith(".mov")||e.endsWith(".webm")?"ðŸŽ¬":e.endsWith(".mp3")||e.endsWith(".wav")||e.endsWith(".ogg")?"ðŸŽµ":e.endsWith(".pdf")?"ðŸ“•":e.endsWith(".zip")||e.endsWith(".tar")||e.endsWith(".gz")?"ðŸ“¦":"ðŸ“„"}function Te(r,e=0){return r.map(i=>({...i,level:e,children:i.children?Te(i.children,e+1):[]}))}function tl(r,e,i){let{files:l=[]}=e,{selectedFile:t=null}=e,{loading:c=!1}=e,{mode:s="both"}=e,{showModal:o=!1}=e,{title:n="Select File or Folder"}=e;const a=Ae();let u=new Set;function z(f){u.has(f)?u.delete(f):u.add(f),i(6,u)}function w(f){return t?t.id===f.id||t.path&&t.path===f.path:!1}function h(f){if(s==="file"&&f.type==="directory"){z(f.path);return}s==="folder"&&f.type!=="directory"||(i(0,t=f),a("select",f),o&&a("confirm",f))}function p(){i(0,t=null),a("cancel")}function D(){t&&a("confirm",t)}function I(f){ce.call(this,r,f)}const S=f=>z(f.path),V=f=>h(f);function B(f){t=f,i(0,t)}function H(f){ce.call(this,r,f)}const $=f=>h(f),N=f=>z(f.path),G=f=>h(f);function M(f){t=f,i(0,t)}function Q(f){ce.call(this,r,f)}const v=f=>h(f);return r.$$set=f=>{"files"in f&&i(1,l=f.files),"selectedFile"in f&&i(0,t=f.selectedFile),"loading"in f&&i(2,c=f.loading),"mode"in f&&i(3,s=f.mode),"showModal"in f&&i(4,o=f.showModal),"title"in f&&i(5,n=f.title)},r.$$.update=()=>{r.$$.dirty[0]&3&&l.length>0&&(console.log("FileExplorer received files:",l),console.log("FileExplorer selectedFile:",t),l.forEach(f=>{const _=t&&(t.id===f.id||t.path===f.path);console.log(`File ${f.name} (id: ${f.id}): selected=${_}`)})),r.$$.dirty[0]&2&&Te(l)},[t,l,c,s,o,n,u,z,w,h,p,D,I,S,V,B,H,$,N,G,M,Q,v]}class Be extends Se{constructor(e){super(),ye(this,e,tl,ll,je,{files:1,selectedFile:0,loading:2,mode:3,showModal:4,title:5},null,[-1,-1])}}export{Be as F};
