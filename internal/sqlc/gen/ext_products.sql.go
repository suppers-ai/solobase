// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: ext_products.sql

package db

import (
	"context"
	"encoding/json"

	"github.com/suppers-ai/solobase/internal/pkg/apptime"
)

const approvePurchase = `-- name: ApprovePurchase :exec
UPDATE ext_products_purchases SET approved_at = ?, approved_by = ?, updated_at = ? WHERE id = ?
`

type ApprovePurchaseParams struct {
	ApprovedAt apptime.NullTime `json:"approved_at"`
	ApprovedBy *string          `json:"approved_by"`
	UpdatedAt  string           `json:"updated_at"`
	ID         int64            `json:"id"`
}

func (q *Queries) ApprovePurchase(ctx context.Context, arg ApprovePurchaseParams) error {
	_, err := q.db.ExecContext(ctx, approvePurchase,
		arg.ApprovedAt,
		arg.ApprovedBy,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const cancelPurchase = `-- name: CancelPurchase :exec
UPDATE ext_products_purchases SET cancelled_at = ?, cancel_reason = ?, status = 'cancelled', updated_at = ? WHERE id = ?
`

type CancelPurchaseParams struct {
	CancelledAt  apptime.NullTime `json:"cancelled_at"`
	CancelReason *string          `json:"cancel_reason"`
	UpdatedAt    string           `json:"updated_at"`
	ID           int64            `json:"id"`
}

func (q *Queries) CancelPurchase(ctx context.Context, arg CancelPurchaseParams) error {
	_, err := q.db.ExecContext(ctx, cancelPurchase,
		arg.CancelledAt,
		arg.CancelReason,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const countActiveProducts = `-- name: CountActiveProducts :one
SELECT COUNT(*) FROM ext_products_products WHERE active = 1
`

func (q *Queries) CountActiveProducts(ctx context.Context) (int64, error) {
	row := q.db.QueryRowContext(ctx, countActiveProducts)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countGroupsByUserID = `-- name: CountGroupsByUserID :one
SELECT COUNT(*) FROM ext_products_groups WHERE user_id = ?
`

func (q *Queries) CountGroupsByUserID(ctx context.Context, userID string) (int64, error) {
	row := q.db.QueryRowContext(ctx, countGroupsByUserID, userID)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countProducts = `-- name: CountProducts :one
SELECT COUNT(*) FROM ext_products_products
`

func (q *Queries) CountProducts(ctx context.Context) (int64, error) {
	row := q.db.QueryRowContext(ctx, countProducts)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countProductsByGroupID = `-- name: CountProductsByGroupID :one
SELECT COUNT(*) FROM ext_products_products WHERE group_id = ?
`

func (q *Queries) CountProductsByGroupID(ctx context.Context, groupID int64) (int64, error) {
	row := q.db.QueryRowContext(ctx, countProductsByGroupID, groupID)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countPurchases = `-- name: CountPurchases :one
SELECT COUNT(*) FROM ext_products_purchases
`

func (q *Queries) CountPurchases(ctx context.Context) (int64, error) {
	row := q.db.QueryRowContext(ctx, countPurchases)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countPurchasesByStatus = `-- name: CountPurchasesByStatus :one
SELECT COUNT(*) FROM ext_products_purchases WHERE status = ?
`

func (q *Queries) CountPurchasesByStatus(ctx context.Context, status *string) (int64, error) {
	row := q.db.QueryRowContext(ctx, countPurchasesByStatus, status)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const countPurchasesByUserID = `-- name: CountPurchasesByUserID :one
SELECT COUNT(*) FROM ext_products_purchases WHERE user_id = ?
`

func (q *Queries) CountPurchasesByUserID(ctx context.Context, userID string) (int64, error) {
	row := q.db.QueryRowContext(ctx, countPurchasesByUserID, userID)
	var count int64
	err := row.Scan(&count)
	return count, err
}

const createGroup = `-- name: CreateGroup :one

INSERT INTO ext_products_groups (
    user_id, group_template_id, name, description,
    filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5,
    filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5,
    filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5,
    filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5,
    filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5,
    custom_fields, created_at, updated_at
) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING id, user_id, group_template_id, name, description, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, created_at, updated_at
`

type CreateGroupParams struct {
	UserID          string          `json:"user_id"`
	GroupTemplateID int64           `json:"group_template_id"`
	Name            string          `json:"name"`
	Description     *string         `json:"description"`
	FilterNumeric1  *float64        `json:"filter_numeric_1"`
	FilterNumeric2  *float64        `json:"filter_numeric_2"`
	FilterNumeric3  *float64        `json:"filter_numeric_3"`
	FilterNumeric4  *float64        `json:"filter_numeric_4"`
	FilterNumeric5  *float64        `json:"filter_numeric_5"`
	FilterText1     *string         `json:"filter_text_1"`
	FilterText2     *string         `json:"filter_text_2"`
	FilterText3     *string         `json:"filter_text_3"`
	FilterText4     *string         `json:"filter_text_4"`
	FilterText5     *string         `json:"filter_text_5"`
	FilterBoolean1  *int64          `json:"filter_boolean_1"`
	FilterBoolean2  *int64          `json:"filter_boolean_2"`
	FilterBoolean3  *int64          `json:"filter_boolean_3"`
	FilterBoolean4  *int64          `json:"filter_boolean_4"`
	FilterBoolean5  *int64          `json:"filter_boolean_5"`
	FilterEnum1     *string         `json:"filter_enum_1"`
	FilterEnum2     *string         `json:"filter_enum_2"`
	FilterEnum3     *string         `json:"filter_enum_3"`
	FilterEnum4     *string         `json:"filter_enum_4"`
	FilterEnum5     *string         `json:"filter_enum_5"`
	FilterLocation1 *string         `json:"filter_location_1"`
	FilterLocation2 *string         `json:"filter_location_2"`
	FilterLocation3 *string         `json:"filter_location_3"`
	FilterLocation4 *string         `json:"filter_location_4"`
	FilterLocation5 *string         `json:"filter_location_5"`
	CustomFields    json.RawMessage `json:"custom_fields"`
	CreatedAt       string          `json:"created_at"`
	UpdatedAt       string          `json:"updated_at"`
}

// Group queries
func (q *Queries) CreateGroup(ctx context.Context, arg CreateGroupParams) (ExtProductsGroup, error) {
	row := q.db.QueryRowContext(ctx, createGroup,
		arg.UserID,
		arg.GroupTemplateID,
		arg.Name,
		arg.Description,
		arg.FilterNumeric1,
		arg.FilterNumeric2,
		arg.FilterNumeric3,
		arg.FilterNumeric4,
		arg.FilterNumeric5,
		arg.FilterText1,
		arg.FilterText2,
		arg.FilterText3,
		arg.FilterText4,
		arg.FilterText5,
		arg.FilterBoolean1,
		arg.FilterBoolean2,
		arg.FilterBoolean3,
		arg.FilterBoolean4,
		arg.FilterBoolean5,
		arg.FilterEnum1,
		arg.FilterEnum2,
		arg.FilterEnum3,
		arg.FilterEnum4,
		arg.FilterEnum5,
		arg.FilterLocation1,
		arg.FilterLocation2,
		arg.FilterLocation3,
		arg.FilterLocation4,
		arg.FilterLocation5,
		arg.CustomFields,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i ExtProductsGroup
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.GroupTemplateID,
		&i.Name,
		&i.Description,
		&i.FilterNumeric1,
		&i.FilterNumeric2,
		&i.FilterNumeric3,
		&i.FilterNumeric4,
		&i.FilterNumeric5,
		&i.FilterText1,
		&i.FilterText2,
		&i.FilterText3,
		&i.FilterText4,
		&i.FilterText5,
		&i.FilterBoolean1,
		&i.FilterBoolean2,
		&i.FilterBoolean3,
		&i.FilterBoolean4,
		&i.FilterBoolean5,
		&i.FilterEnum1,
		&i.FilterEnum2,
		&i.FilterEnum3,
		&i.FilterEnum4,
		&i.FilterEnum5,
		&i.FilterLocation1,
		&i.FilterLocation2,
		&i.FilterLocation3,
		&i.FilterLocation4,
		&i.FilterLocation5,
		&i.CustomFields,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createGroupTemplate = `-- name: CreateGroupTemplate :one

INSERT INTO ext_products_group_templates (
    name, display_name, description, icon, filter_fields_schema, status, created_at, updated_at
) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
RETURNING id, name, display_name, description, icon, filter_fields_schema, status, created_at, updated_at
`

type CreateGroupTemplateParams struct {
	Name               string          `json:"name"`
	DisplayName        *string         `json:"display_name"`
	Description        *string         `json:"description"`
	Icon               *string         `json:"icon"`
	FilterFieldsSchema json.RawMessage `json:"filter_fields_schema"`
	Status             *string         `json:"status"`
	CreatedAt          string          `json:"created_at"`
	UpdatedAt          string          `json:"updated_at"`
}

// Group Template queries
func (q *Queries) CreateGroupTemplate(ctx context.Context, arg CreateGroupTemplateParams) (ExtProductsGroupTemplate, error) {
	row := q.db.QueryRowContext(ctx, createGroupTemplate,
		arg.Name,
		arg.DisplayName,
		arg.Description,
		arg.Icon,
		arg.FilterFieldsSchema,
		arg.Status,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i ExtProductsGroupTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.Icon,
		&i.FilterFieldsSchema,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createPricingTemplate = `-- name: CreatePricingTemplate :one

INSERT INTO ext_products_pricing_templates (
    name, display_name, description, price_formula, condition_formula,
    variables, category, status, created_at, updated_at
) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING id, name, display_name, description, price_formula, condition_formula, variables, category, status, created_at, updated_at
`

type CreatePricingTemplateParams struct {
	Name             string          `json:"name"`
	DisplayName      *string         `json:"display_name"`
	Description      *string         `json:"description"`
	PriceFormula     string          `json:"price_formula"`
	ConditionFormula *string         `json:"condition_formula"`
	Variables        json.RawMessage `json:"variables"`
	Category         *string         `json:"category"`
	Status           *string         `json:"status"`
	CreatedAt        string          `json:"created_at"`
	UpdatedAt        string          `json:"updated_at"`
}

// Pricing Template queries
func (q *Queries) CreatePricingTemplate(ctx context.Context, arg CreatePricingTemplateParams) (ExtProductsPricingTemplate, error) {
	row := q.db.QueryRowContext(ctx, createPricingTemplate,
		arg.Name,
		arg.DisplayName,
		arg.Description,
		arg.PriceFormula,
		arg.ConditionFormula,
		arg.Variables,
		arg.Category,
		arg.Status,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i ExtProductsPricingTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.PriceFormula,
		&i.ConditionFormula,
		&i.Variables,
		&i.Category,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createProduct = `-- name: CreateProduct :one

INSERT INTO ext_products_products (
    group_id, product_template_id, name, description, base_price, base_price_cents, currency,
    filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5,
    filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5,
    filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5,
    filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5,
    filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5,
    custom_fields, variables, pricing_formula, active, created_at, updated_at
) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING id, group_id, product_template_id, name, description, base_price, base_price_cents, currency, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, variables, pricing_formula, active, created_at, updated_at
`

type CreateProductParams struct {
	GroupID           int64           `json:"group_id"`
	ProductTemplateID int64           `json:"product_template_id"`
	Name              string          `json:"name"`
	Description       *string         `json:"description"`
	BasePrice         *float64        `json:"base_price"`
	BasePriceCents    *int64          `json:"base_price_cents"`
	Currency          *string         `json:"currency"`
	FilterNumeric1    *float64        `json:"filter_numeric_1"`
	FilterNumeric2    *float64        `json:"filter_numeric_2"`
	FilterNumeric3    *float64        `json:"filter_numeric_3"`
	FilterNumeric4    *float64        `json:"filter_numeric_4"`
	FilterNumeric5    *float64        `json:"filter_numeric_5"`
	FilterText1       *string         `json:"filter_text_1"`
	FilterText2       *string         `json:"filter_text_2"`
	FilterText3       *string         `json:"filter_text_3"`
	FilterText4       *string         `json:"filter_text_4"`
	FilterText5       *string         `json:"filter_text_5"`
	FilterBoolean1    *int64          `json:"filter_boolean_1"`
	FilterBoolean2    *int64          `json:"filter_boolean_2"`
	FilterBoolean3    *int64          `json:"filter_boolean_3"`
	FilterBoolean4    *int64          `json:"filter_boolean_4"`
	FilterBoolean5    *int64          `json:"filter_boolean_5"`
	FilterEnum1       *string         `json:"filter_enum_1"`
	FilterEnum2       *string         `json:"filter_enum_2"`
	FilterEnum3       *string         `json:"filter_enum_3"`
	FilterEnum4       *string         `json:"filter_enum_4"`
	FilterEnum5       *string         `json:"filter_enum_5"`
	FilterLocation1   *string         `json:"filter_location_1"`
	FilterLocation2   *string         `json:"filter_location_2"`
	FilterLocation3   *string         `json:"filter_location_3"`
	FilterLocation4   *string         `json:"filter_location_4"`
	FilterLocation5   *string         `json:"filter_location_5"`
	CustomFields      json.RawMessage `json:"custom_fields"`
	Variables         json.RawMessage `json:"variables"`
	PricingFormula    *string         `json:"pricing_formula"`
	Active            *int64          `json:"active"`
	CreatedAt         string          `json:"created_at"`
	UpdatedAt         string          `json:"updated_at"`
}

// Product queries
func (q *Queries) CreateProduct(ctx context.Context, arg CreateProductParams) (ExtProductsProduct, error) {
	row := q.db.QueryRowContext(ctx, createProduct,
		arg.GroupID,
		arg.ProductTemplateID,
		arg.Name,
		arg.Description,
		arg.BasePrice,
		arg.BasePriceCents,
		arg.Currency,
		arg.FilterNumeric1,
		arg.FilterNumeric2,
		arg.FilterNumeric3,
		arg.FilterNumeric4,
		arg.FilterNumeric5,
		arg.FilterText1,
		arg.FilterText2,
		arg.FilterText3,
		arg.FilterText4,
		arg.FilterText5,
		arg.FilterBoolean1,
		arg.FilterBoolean2,
		arg.FilterBoolean3,
		arg.FilterBoolean4,
		arg.FilterBoolean5,
		arg.FilterEnum1,
		arg.FilterEnum2,
		arg.FilterEnum3,
		arg.FilterEnum4,
		arg.FilterEnum5,
		arg.FilterLocation1,
		arg.FilterLocation2,
		arg.FilterLocation3,
		arg.FilterLocation4,
		arg.FilterLocation5,
		arg.CustomFields,
		arg.Variables,
		arg.PricingFormula,
		arg.Active,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i ExtProductsProduct
	err := row.Scan(
		&i.ID,
		&i.GroupID,
		&i.ProductTemplateID,
		&i.Name,
		&i.Description,
		&i.BasePrice,
		&i.BasePriceCents,
		&i.Currency,
		&i.FilterNumeric1,
		&i.FilterNumeric2,
		&i.FilterNumeric3,
		&i.FilterNumeric4,
		&i.FilterNumeric5,
		&i.FilterText1,
		&i.FilterText2,
		&i.FilterText3,
		&i.FilterText4,
		&i.FilterText5,
		&i.FilterBoolean1,
		&i.FilterBoolean2,
		&i.FilterBoolean3,
		&i.FilterBoolean4,
		&i.FilterBoolean5,
		&i.FilterEnum1,
		&i.FilterEnum2,
		&i.FilterEnum3,
		&i.FilterEnum4,
		&i.FilterEnum5,
		&i.FilterLocation1,
		&i.FilterLocation2,
		&i.FilterLocation3,
		&i.FilterLocation4,
		&i.FilterLocation5,
		&i.CustomFields,
		&i.Variables,
		&i.PricingFormula,
		&i.Active,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createProductTemplate = `-- name: CreateProductTemplate :one

INSERT INTO ext_products_product_templates (
    name, display_name, description, category, icon,
    filter_fields_schema, custom_fields_schema, pricing_templates,
    billing_mode, billing_type, billing_recurring_interval, billing_recurring_interval_count,
    status, created_at, updated_at
) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING id, name, display_name, description, category, icon, filter_fields_schema, custom_fields_schema, pricing_templates, billing_mode, billing_type, billing_recurring_interval, billing_recurring_interval_count, status, created_at, updated_at
`

type CreateProductTemplateParams struct {
	Name                          string          `json:"name"`
	DisplayName                   *string         `json:"display_name"`
	Description                   *string         `json:"description"`
	Category                      *string         `json:"category"`
	Icon                          *string         `json:"icon"`
	FilterFieldsSchema            json.RawMessage `json:"filter_fields_schema"`
	CustomFieldsSchema            json.RawMessage `json:"custom_fields_schema"`
	PricingTemplates              json.RawMessage `json:"pricing_templates"`
	BillingMode                   string          `json:"billing_mode"`
	BillingType                   string          `json:"billing_type"`
	BillingRecurringInterval      *string         `json:"billing_recurring_interval"`
	BillingRecurringIntervalCount *int64          `json:"billing_recurring_interval_count"`
	Status                        *string         `json:"status"`
	CreatedAt                     string          `json:"created_at"`
	UpdatedAt                     string          `json:"updated_at"`
}

// Product Template queries
func (q *Queries) CreateProductTemplate(ctx context.Context, arg CreateProductTemplateParams) (ExtProductsProductTemplate, error) {
	row := q.db.QueryRowContext(ctx, createProductTemplate,
		arg.Name,
		arg.DisplayName,
		arg.Description,
		arg.Category,
		arg.Icon,
		arg.FilterFieldsSchema,
		arg.CustomFieldsSchema,
		arg.PricingTemplates,
		arg.BillingMode,
		arg.BillingType,
		arg.BillingRecurringInterval,
		arg.BillingRecurringIntervalCount,
		arg.Status,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i ExtProductsProductTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.Category,
		&i.Icon,
		&i.FilterFieldsSchema,
		&i.CustomFieldsSchema,
		&i.PricingTemplates,
		&i.BillingMode,
		&i.BillingType,
		&i.BillingRecurringInterval,
		&i.BillingRecurringIntervalCount,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createPurchase = `-- name: CreatePurchase :one

INSERT INTO ext_products_purchases (
    user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id,
    line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency,
    status, requires_approval, success_url, cancel_url, customer_email, customer_name,
    billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at
) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at
`

type CreatePurchaseParams struct {
	UserID                  string           `json:"user_id"`
	Provider                *string          `json:"provider"`
	ProviderSessionID       *string          `json:"provider_session_id"`
	ProviderPaymentIntentID *string          `json:"provider_payment_intent_id"`
	ProviderSubscriptionID  *string          `json:"provider_subscription_id"`
	LineItems               json.RawMessage  `json:"line_items"`
	ProductMetadata         json.RawMessage  `json:"product_metadata"`
	TaxItems                json.RawMessage  `json:"tax_items"`
	AmountCents             *int64           `json:"amount_cents"`
	TaxCents                *int64           `json:"tax_cents"`
	TotalCents              *int64           `json:"total_cents"`
	Currency                *string          `json:"currency"`
	Status                  *string          `json:"status"`
	RequiresApproval        *int64           `json:"requires_approval"`
	SuccessUrl              *string          `json:"success_url"`
	CancelUrl               *string          `json:"cancel_url"`
	CustomerEmail           *string          `json:"customer_email"`
	CustomerName            *string          `json:"customer_name"`
	BillingAddress          json.RawMessage  `json:"billing_address"`
	ShippingAddress         json.RawMessage  `json:"shipping_address"`
	PaymentMethodTypes      json.RawMessage  `json:"payment_method_types"`
	ExpiresAt               apptime.NullTime `json:"expires_at"`
	CreatedAt               string           `json:"created_at"`
	UpdatedAt               string           `json:"updated_at"`
}

// Purchase queries
func (q *Queries) CreatePurchase(ctx context.Context, arg CreatePurchaseParams) (ExtProductsPurchase, error) {
	row := q.db.QueryRowContext(ctx, createPurchase,
		arg.UserID,
		arg.Provider,
		arg.ProviderSessionID,
		arg.ProviderPaymentIntentID,
		arg.ProviderSubscriptionID,
		arg.LineItems,
		arg.ProductMetadata,
		arg.TaxItems,
		arg.AmountCents,
		arg.TaxCents,
		arg.TotalCents,
		arg.Currency,
		arg.Status,
		arg.RequiresApproval,
		arg.SuccessUrl,
		arg.CancelUrl,
		arg.CustomerEmail,
		arg.CustomerName,
		arg.BillingAddress,
		arg.ShippingAddress,
		arg.PaymentMethodTypes,
		arg.ExpiresAt,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i ExtProductsPurchase
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.Provider,
		&i.ProviderSessionID,
		&i.ProviderPaymentIntentID,
		&i.ProviderSubscriptionID,
		&i.LineItems,
		&i.ProductMetadata,
		&i.TaxItems,
		&i.AmountCents,
		&i.TaxCents,
		&i.TotalCents,
		&i.Currency,
		&i.Status,
		&i.RequiresApproval,
		&i.ApprovedAt,
		&i.ApprovedBy,
		&i.RefundedAt,
		&i.RefundReason,
		&i.RefundAmount,
		&i.CancelledAt,
		&i.CancelReason,
		&i.SuccessUrl,
		&i.CancelUrl,
		&i.CustomerEmail,
		&i.CustomerName,
		&i.BillingAddress,
		&i.ShippingAddress,
		&i.PaymentMethodTypes,
		&i.ExpiresAt,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const createVariable = `-- name: CreateVariable :one

INSERT INTO ext_products_variables (
    name, display_name, value_type, type, default_value, description, status, created_at, updated_at
) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
RETURNING id, name, display_name, value_type, type, default_value, description, status, created_at, updated_at
`

type CreateVariableParams struct {
	Name         string  `json:"name"`
	DisplayName  *string `json:"display_name"`
	ValueType    *string `json:"value_type"`
	Type         *string `json:"type"`
	DefaultValue *string `json:"default_value"`
	Description  *string `json:"description"`
	Status       *string `json:"status"`
	CreatedAt    string  `json:"created_at"`
	UpdatedAt    string  `json:"updated_at"`
}

// Variable queries
func (q *Queries) CreateVariable(ctx context.Context, arg CreateVariableParams) (ExtProductsVariable, error) {
	row := q.db.QueryRowContext(ctx, createVariable,
		arg.Name,
		arg.DisplayName,
		arg.ValueType,
		arg.Type,
		arg.DefaultValue,
		arg.Description,
		arg.Status,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	var i ExtProductsVariable
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.ValueType,
		&i.Type,
		&i.DefaultValue,
		&i.Description,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const deleteGroup = `-- name: DeleteGroup :exec
DELETE FROM ext_products_groups WHERE id = ?
`

func (q *Queries) DeleteGroup(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteGroup, id)
	return err
}

const deleteGroupTemplate = `-- name: DeleteGroupTemplate :exec
DELETE FROM ext_products_group_templates WHERE id = ?
`

func (q *Queries) DeleteGroupTemplate(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteGroupTemplate, id)
	return err
}

const deletePricingTemplate = `-- name: DeletePricingTemplate :exec
DELETE FROM ext_products_pricing_templates WHERE id = ?
`

func (q *Queries) DeletePricingTemplate(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deletePricingTemplate, id)
	return err
}

const deleteProduct = `-- name: DeleteProduct :exec
DELETE FROM ext_products_products WHERE id = ?
`

func (q *Queries) DeleteProduct(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteProduct, id)
	return err
}

const deleteProductTemplate = `-- name: DeleteProductTemplate :exec
DELETE FROM ext_products_product_templates WHERE id = ?
`

func (q *Queries) DeleteProductTemplate(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteProductTemplate, id)
	return err
}

const deleteProductsByGroupID = `-- name: DeleteProductsByGroupID :exec
DELETE FROM ext_products_products WHERE group_id = ?
`

func (q *Queries) DeleteProductsByGroupID(ctx context.Context, groupID int64) error {
	_, err := q.db.ExecContext(ctx, deleteProductsByGroupID, groupID)
	return err
}

const deletePurchase = `-- name: DeletePurchase :exec
DELETE FROM ext_products_purchases WHERE id = ?
`

func (q *Queries) DeletePurchase(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deletePurchase, id)
	return err
}

const deleteVariable = `-- name: DeleteVariable :exec
DELETE FROM ext_products_variables WHERE id = ?
`

func (q *Queries) DeleteVariable(ctx context.Context, id int64) error {
	_, err := q.db.ExecContext(ctx, deleteVariable, id)
	return err
}

const getGroupByID = `-- name: GetGroupByID :one
SELECT id, user_id, group_template_id, name, description, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, created_at, updated_at FROM ext_products_groups WHERE id = ? LIMIT 1
`

func (q *Queries) GetGroupByID(ctx context.Context, id int64) (ExtProductsGroup, error) {
	row := q.db.QueryRowContext(ctx, getGroupByID, id)
	var i ExtProductsGroup
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.GroupTemplateID,
		&i.Name,
		&i.Description,
		&i.FilterNumeric1,
		&i.FilterNumeric2,
		&i.FilterNumeric3,
		&i.FilterNumeric4,
		&i.FilterNumeric5,
		&i.FilterText1,
		&i.FilterText2,
		&i.FilterText3,
		&i.FilterText4,
		&i.FilterText5,
		&i.FilterBoolean1,
		&i.FilterBoolean2,
		&i.FilterBoolean3,
		&i.FilterBoolean4,
		&i.FilterBoolean5,
		&i.FilterEnum1,
		&i.FilterEnum2,
		&i.FilterEnum3,
		&i.FilterEnum4,
		&i.FilterEnum5,
		&i.FilterLocation1,
		&i.FilterLocation2,
		&i.FilterLocation3,
		&i.FilterLocation4,
		&i.FilterLocation5,
		&i.CustomFields,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getGroupTemplateByID = `-- name: GetGroupTemplateByID :one
SELECT id, name, display_name, description, icon, filter_fields_schema, status, created_at, updated_at FROM ext_products_group_templates WHERE id = ? LIMIT 1
`

func (q *Queries) GetGroupTemplateByID(ctx context.Context, id int64) (ExtProductsGroupTemplate, error) {
	row := q.db.QueryRowContext(ctx, getGroupTemplateByID, id)
	var i ExtProductsGroupTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.Icon,
		&i.FilterFieldsSchema,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getGroupTemplateByName = `-- name: GetGroupTemplateByName :one
SELECT id, name, display_name, description, icon, filter_fields_schema, status, created_at, updated_at FROM ext_products_group_templates WHERE name = ? LIMIT 1
`

func (q *Queries) GetGroupTemplateByName(ctx context.Context, name string) (ExtProductsGroupTemplate, error) {
	row := q.db.QueryRowContext(ctx, getGroupTemplateByName, name)
	var i ExtProductsGroupTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.Icon,
		&i.FilterFieldsSchema,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getPricingTemplateByID = `-- name: GetPricingTemplateByID :one
SELECT id, name, display_name, description, price_formula, condition_formula, variables, category, status, created_at, updated_at FROM ext_products_pricing_templates WHERE id = ? LIMIT 1
`

func (q *Queries) GetPricingTemplateByID(ctx context.Context, id int64) (ExtProductsPricingTemplate, error) {
	row := q.db.QueryRowContext(ctx, getPricingTemplateByID, id)
	var i ExtProductsPricingTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.PriceFormula,
		&i.ConditionFormula,
		&i.Variables,
		&i.Category,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getPricingTemplateByName = `-- name: GetPricingTemplateByName :one
SELECT id, name, display_name, description, price_formula, condition_formula, variables, category, status, created_at, updated_at FROM ext_products_pricing_templates WHERE name = ? LIMIT 1
`

func (q *Queries) GetPricingTemplateByName(ctx context.Context, name string) (ExtProductsPricingTemplate, error) {
	row := q.db.QueryRowContext(ctx, getPricingTemplateByName, name)
	var i ExtProductsPricingTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.PriceFormula,
		&i.ConditionFormula,
		&i.Variables,
		&i.Category,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getProductByID = `-- name: GetProductByID :one
SELECT id, group_id, product_template_id, name, description, base_price, base_price_cents, currency, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, variables, pricing_formula, active, created_at, updated_at FROM ext_products_products WHERE id = ? LIMIT 1
`

func (q *Queries) GetProductByID(ctx context.Context, id int64) (ExtProductsProduct, error) {
	row := q.db.QueryRowContext(ctx, getProductByID, id)
	var i ExtProductsProduct
	err := row.Scan(
		&i.ID,
		&i.GroupID,
		&i.ProductTemplateID,
		&i.Name,
		&i.Description,
		&i.BasePrice,
		&i.BasePriceCents,
		&i.Currency,
		&i.FilterNumeric1,
		&i.FilterNumeric2,
		&i.FilterNumeric3,
		&i.FilterNumeric4,
		&i.FilterNumeric5,
		&i.FilterText1,
		&i.FilterText2,
		&i.FilterText3,
		&i.FilterText4,
		&i.FilterText5,
		&i.FilterBoolean1,
		&i.FilterBoolean2,
		&i.FilterBoolean3,
		&i.FilterBoolean4,
		&i.FilterBoolean5,
		&i.FilterEnum1,
		&i.FilterEnum2,
		&i.FilterEnum3,
		&i.FilterEnum4,
		&i.FilterEnum5,
		&i.FilterLocation1,
		&i.FilterLocation2,
		&i.FilterLocation3,
		&i.FilterLocation4,
		&i.FilterLocation5,
		&i.CustomFields,
		&i.Variables,
		&i.PricingFormula,
		&i.Active,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getProductTemplateByID = `-- name: GetProductTemplateByID :one
SELECT id, name, display_name, description, category, icon, filter_fields_schema, custom_fields_schema, pricing_templates, billing_mode, billing_type, billing_recurring_interval, billing_recurring_interval_count, status, created_at, updated_at FROM ext_products_product_templates WHERE id = ? LIMIT 1
`

func (q *Queries) GetProductTemplateByID(ctx context.Context, id int64) (ExtProductsProductTemplate, error) {
	row := q.db.QueryRowContext(ctx, getProductTemplateByID, id)
	var i ExtProductsProductTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.Category,
		&i.Icon,
		&i.FilterFieldsSchema,
		&i.CustomFieldsSchema,
		&i.PricingTemplates,
		&i.BillingMode,
		&i.BillingType,
		&i.BillingRecurringInterval,
		&i.BillingRecurringIntervalCount,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getProductTemplateByName = `-- name: GetProductTemplateByName :one
SELECT id, name, display_name, description, category, icon, filter_fields_schema, custom_fields_schema, pricing_templates, billing_mode, billing_type, billing_recurring_interval, billing_recurring_interval_count, status, created_at, updated_at FROM ext_products_product_templates WHERE name = ? LIMIT 1
`

func (q *Queries) GetProductTemplateByName(ctx context.Context, name string) (ExtProductsProductTemplate, error) {
	row := q.db.QueryRowContext(ctx, getProductTemplateByName, name)
	var i ExtProductsProductTemplate
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.Description,
		&i.Category,
		&i.Icon,
		&i.FilterFieldsSchema,
		&i.CustomFieldsSchema,
		&i.PricingTemplates,
		&i.BillingMode,
		&i.BillingType,
		&i.BillingRecurringInterval,
		&i.BillingRecurringIntervalCount,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getPurchaseByID = `-- name: GetPurchaseByID :one
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases WHERE id = ? LIMIT 1
`

func (q *Queries) GetPurchaseByID(ctx context.Context, id int64) (ExtProductsPurchase, error) {
	row := q.db.QueryRowContext(ctx, getPurchaseByID, id)
	var i ExtProductsPurchase
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.Provider,
		&i.ProviderSessionID,
		&i.ProviderPaymentIntentID,
		&i.ProviderSubscriptionID,
		&i.LineItems,
		&i.ProductMetadata,
		&i.TaxItems,
		&i.AmountCents,
		&i.TaxCents,
		&i.TotalCents,
		&i.Currency,
		&i.Status,
		&i.RequiresApproval,
		&i.ApprovedAt,
		&i.ApprovedBy,
		&i.RefundedAt,
		&i.RefundReason,
		&i.RefundAmount,
		&i.CancelledAt,
		&i.CancelReason,
		&i.SuccessUrl,
		&i.CancelUrl,
		&i.CustomerEmail,
		&i.CustomerName,
		&i.BillingAddress,
		&i.ShippingAddress,
		&i.PaymentMethodTypes,
		&i.ExpiresAt,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getPurchaseByPaymentIntentID = `-- name: GetPurchaseByPaymentIntentID :one
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases WHERE provider_payment_intent_id = ? LIMIT 1
`

func (q *Queries) GetPurchaseByPaymentIntentID(ctx context.Context, providerPaymentIntentID *string) (ExtProductsPurchase, error) {
	row := q.db.QueryRowContext(ctx, getPurchaseByPaymentIntentID, providerPaymentIntentID)
	var i ExtProductsPurchase
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.Provider,
		&i.ProviderSessionID,
		&i.ProviderPaymentIntentID,
		&i.ProviderSubscriptionID,
		&i.LineItems,
		&i.ProductMetadata,
		&i.TaxItems,
		&i.AmountCents,
		&i.TaxCents,
		&i.TotalCents,
		&i.Currency,
		&i.Status,
		&i.RequiresApproval,
		&i.ApprovedAt,
		&i.ApprovedBy,
		&i.RefundedAt,
		&i.RefundReason,
		&i.RefundAmount,
		&i.CancelledAt,
		&i.CancelReason,
		&i.SuccessUrl,
		&i.CancelUrl,
		&i.CustomerEmail,
		&i.CustomerName,
		&i.BillingAddress,
		&i.ShippingAddress,
		&i.PaymentMethodTypes,
		&i.ExpiresAt,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getPurchaseBySessionID = `-- name: GetPurchaseBySessionID :one
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases WHERE provider_session_id = ? LIMIT 1
`

func (q *Queries) GetPurchaseBySessionID(ctx context.Context, providerSessionID *string) (ExtProductsPurchase, error) {
	row := q.db.QueryRowContext(ctx, getPurchaseBySessionID, providerSessionID)
	var i ExtProductsPurchase
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.Provider,
		&i.ProviderSessionID,
		&i.ProviderPaymentIntentID,
		&i.ProviderSubscriptionID,
		&i.LineItems,
		&i.ProductMetadata,
		&i.TaxItems,
		&i.AmountCents,
		&i.TaxCents,
		&i.TotalCents,
		&i.Currency,
		&i.Status,
		&i.RequiresApproval,
		&i.ApprovedAt,
		&i.ApprovedBy,
		&i.RefundedAt,
		&i.RefundReason,
		&i.RefundAmount,
		&i.CancelledAt,
		&i.CancelReason,
		&i.SuccessUrl,
		&i.CancelUrl,
		&i.CustomerEmail,
		&i.CustomerName,
		&i.BillingAddress,
		&i.ShippingAddress,
		&i.PaymentMethodTypes,
		&i.ExpiresAt,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getPurchaseBySubscriptionID = `-- name: GetPurchaseBySubscriptionID :one
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases WHERE provider_subscription_id = ? LIMIT 1
`

func (q *Queries) GetPurchaseBySubscriptionID(ctx context.Context, providerSubscriptionID *string) (ExtProductsPurchase, error) {
	row := q.db.QueryRowContext(ctx, getPurchaseBySubscriptionID, providerSubscriptionID)
	var i ExtProductsPurchase
	err := row.Scan(
		&i.ID,
		&i.UserID,
		&i.Provider,
		&i.ProviderSessionID,
		&i.ProviderPaymentIntentID,
		&i.ProviderSubscriptionID,
		&i.LineItems,
		&i.ProductMetadata,
		&i.TaxItems,
		&i.AmountCents,
		&i.TaxCents,
		&i.TotalCents,
		&i.Currency,
		&i.Status,
		&i.RequiresApproval,
		&i.ApprovedAt,
		&i.ApprovedBy,
		&i.RefundedAt,
		&i.RefundReason,
		&i.RefundAmount,
		&i.CancelledAt,
		&i.CancelReason,
		&i.SuccessUrl,
		&i.CancelUrl,
		&i.CustomerEmail,
		&i.CustomerName,
		&i.BillingAddress,
		&i.ShippingAddress,
		&i.PaymentMethodTypes,
		&i.ExpiresAt,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getVariableByID = `-- name: GetVariableByID :one
SELECT id, name, display_name, value_type, type, default_value, description, status, created_at, updated_at FROM ext_products_variables WHERE id = ? LIMIT 1
`

func (q *Queries) GetVariableByID(ctx context.Context, id int64) (ExtProductsVariable, error) {
	row := q.db.QueryRowContext(ctx, getVariableByID, id)
	var i ExtProductsVariable
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.ValueType,
		&i.Type,
		&i.DefaultValue,
		&i.Description,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const getVariableByName = `-- name: GetVariableByName :one
SELECT id, name, display_name, value_type, type, default_value, description, status, created_at, updated_at FROM ext_products_variables WHERE name = ? LIMIT 1
`

func (q *Queries) GetVariableByName(ctx context.Context, name string) (ExtProductsVariable, error) {
	row := q.db.QueryRowContext(ctx, getVariableByName, name)
	var i ExtProductsVariable
	err := row.Scan(
		&i.ID,
		&i.Name,
		&i.DisplayName,
		&i.ValueType,
		&i.Type,
		&i.DefaultValue,
		&i.Description,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}

const listActiveGroupTemplates = `-- name: ListActiveGroupTemplates :many
SELECT id, name, display_name, description, icon, filter_fields_schema, status, created_at, updated_at FROM ext_products_group_templates WHERE status = 'active' ORDER BY name
`

func (q *Queries) ListActiveGroupTemplates(ctx context.Context) ([]ExtProductsGroupTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listActiveGroupTemplates)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsGroupTemplate{}
	for rows.Next() {
		var i ExtProductsGroupTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.Icon,
			&i.FilterFieldsSchema,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listActivePricingTemplates = `-- name: ListActivePricingTemplates :many
SELECT id, name, display_name, description, price_formula, condition_formula, variables, category, status, created_at, updated_at FROM ext_products_pricing_templates WHERE status = 'active' ORDER BY name
`

func (q *Queries) ListActivePricingTemplates(ctx context.Context) ([]ExtProductsPricingTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listActivePricingTemplates)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsPricingTemplate{}
	for rows.Next() {
		var i ExtProductsPricingTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.PriceFormula,
			&i.ConditionFormula,
			&i.Variables,
			&i.Category,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listActiveProductTemplates = `-- name: ListActiveProductTemplates :many
SELECT id, name, display_name, description, category, icon, filter_fields_schema, custom_fields_schema, pricing_templates, billing_mode, billing_type, billing_recurring_interval, billing_recurring_interval_count, status, created_at, updated_at FROM ext_products_product_templates WHERE status = 'active' ORDER BY name
`

func (q *Queries) ListActiveProductTemplates(ctx context.Context) ([]ExtProductsProductTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listActiveProductTemplates)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProductTemplate{}
	for rows.Next() {
		var i ExtProductsProductTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.Category,
			&i.Icon,
			&i.FilterFieldsSchema,
			&i.CustomFieldsSchema,
			&i.PricingTemplates,
			&i.BillingMode,
			&i.BillingType,
			&i.BillingRecurringInterval,
			&i.BillingRecurringIntervalCount,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listActiveProducts = `-- name: ListActiveProducts :many
SELECT id, group_id, product_template_id, name, description, base_price, base_price_cents, currency, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, variables, pricing_formula, active, created_at, updated_at FROM ext_products_products WHERE active = 1 ORDER BY created_at DESC LIMIT ? OFFSET ?
`

type ListActiveProductsParams struct {
	Limit  int64 `json:"limit"`
	Offset int64 `json:"offset"`
}

func (q *Queries) ListActiveProducts(ctx context.Context, arg ListActiveProductsParams) ([]ExtProductsProduct, error) {
	rows, err := q.db.QueryContext(ctx, listActiveProducts, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProduct{}
	for rows.Next() {
		var i ExtProductsProduct
		if err := rows.Scan(
			&i.ID,
			&i.GroupID,
			&i.ProductTemplateID,
			&i.Name,
			&i.Description,
			&i.BasePrice,
			&i.BasePriceCents,
			&i.Currency,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.Variables,
			&i.PricingFormula,
			&i.Active,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listActiveVariables = `-- name: ListActiveVariables :many
SELECT id, name, display_name, value_type, type, default_value, description, status, created_at, updated_at FROM ext_products_variables WHERE status = 'active' ORDER BY name
`

func (q *Queries) ListActiveVariables(ctx context.Context) ([]ExtProductsVariable, error) {
	rows, err := q.db.QueryContext(ctx, listActiveVariables)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsVariable{}
	for rows.Next() {
		var i ExtProductsVariable
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.ValueType,
			&i.Type,
			&i.DefaultValue,
			&i.Description,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listGroupTemplates = `-- name: ListGroupTemplates :many
SELECT id, name, display_name, description, icon, filter_fields_schema, status, created_at, updated_at FROM ext_products_group_templates ORDER BY name
`

func (q *Queries) ListGroupTemplates(ctx context.Context) ([]ExtProductsGroupTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listGroupTemplates)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsGroupTemplate{}
	for rows.Next() {
		var i ExtProductsGroupTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.Icon,
			&i.FilterFieldsSchema,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listGroups = `-- name: ListGroups :many
SELECT id, user_id, group_template_id, name, description, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, created_at, updated_at FROM ext_products_groups ORDER BY created_at DESC LIMIT ? OFFSET ?
`

type ListGroupsParams struct {
	Limit  int64 `json:"limit"`
	Offset int64 `json:"offset"`
}

func (q *Queries) ListGroups(ctx context.Context, arg ListGroupsParams) ([]ExtProductsGroup, error) {
	rows, err := q.db.QueryContext(ctx, listGroups, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsGroup{}
	for rows.Next() {
		var i ExtProductsGroup
		if err := rows.Scan(
			&i.ID,
			&i.UserID,
			&i.GroupTemplateID,
			&i.Name,
			&i.Description,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listGroupsByTemplateID = `-- name: ListGroupsByTemplateID :many
SELECT id, user_id, group_template_id, name, description, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, created_at, updated_at FROM ext_products_groups WHERE group_template_id = ? ORDER BY created_at DESC
`

func (q *Queries) ListGroupsByTemplateID(ctx context.Context, groupTemplateID int64) ([]ExtProductsGroup, error) {
	rows, err := q.db.QueryContext(ctx, listGroupsByTemplateID, groupTemplateID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsGroup{}
	for rows.Next() {
		var i ExtProductsGroup
		if err := rows.Scan(
			&i.ID,
			&i.UserID,
			&i.GroupTemplateID,
			&i.Name,
			&i.Description,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listGroupsByUserID = `-- name: ListGroupsByUserID :many
SELECT id, user_id, group_template_id, name, description, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, created_at, updated_at FROM ext_products_groups WHERE user_id = ? ORDER BY created_at DESC
`

func (q *Queries) ListGroupsByUserID(ctx context.Context, userID string) ([]ExtProductsGroup, error) {
	rows, err := q.db.QueryContext(ctx, listGroupsByUserID, userID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsGroup{}
	for rows.Next() {
		var i ExtProductsGroup
		if err := rows.Scan(
			&i.ID,
			&i.UserID,
			&i.GroupTemplateID,
			&i.Name,
			&i.Description,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPendingApprovalPurchases = `-- name: ListPendingApprovalPurchases :many
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases WHERE requires_approval = 1 AND approved_at IS NULL AND status = 'paid' ORDER BY created_at DESC
`

func (q *Queries) ListPendingApprovalPurchases(ctx context.Context) ([]ExtProductsPurchase, error) {
	rows, err := q.db.QueryContext(ctx, listPendingApprovalPurchases)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsPurchase{}
	for rows.Next() {
		var i ExtProductsPurchase
		if err := rows.Scan(
			&i.ID,
			&i.UserID,
			&i.Provider,
			&i.ProviderSessionID,
			&i.ProviderPaymentIntentID,
			&i.ProviderSubscriptionID,
			&i.LineItems,
			&i.ProductMetadata,
			&i.TaxItems,
			&i.AmountCents,
			&i.TaxCents,
			&i.TotalCents,
			&i.Currency,
			&i.Status,
			&i.RequiresApproval,
			&i.ApprovedAt,
			&i.ApprovedBy,
			&i.RefundedAt,
			&i.RefundReason,
			&i.RefundAmount,
			&i.CancelledAt,
			&i.CancelReason,
			&i.SuccessUrl,
			&i.CancelUrl,
			&i.CustomerEmail,
			&i.CustomerName,
			&i.BillingAddress,
			&i.ShippingAddress,
			&i.PaymentMethodTypes,
			&i.ExpiresAt,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPricingTemplates = `-- name: ListPricingTemplates :many
SELECT id, name, display_name, description, price_formula, condition_formula, variables, category, status, created_at, updated_at FROM ext_products_pricing_templates ORDER BY name
`

func (q *Queries) ListPricingTemplates(ctx context.Context) ([]ExtProductsPricingTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listPricingTemplates)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsPricingTemplate{}
	for rows.Next() {
		var i ExtProductsPricingTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.PriceFormula,
			&i.ConditionFormula,
			&i.Variables,
			&i.Category,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPricingTemplatesByCategory = `-- name: ListPricingTemplatesByCategory :many
SELECT id, name, display_name, description, price_formula, condition_formula, variables, category, status, created_at, updated_at FROM ext_products_pricing_templates WHERE category = ? ORDER BY name
`

func (q *Queries) ListPricingTemplatesByCategory(ctx context.Context, category *string) ([]ExtProductsPricingTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listPricingTemplatesByCategory, category)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsPricingTemplate{}
	for rows.Next() {
		var i ExtProductsPricingTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.PriceFormula,
			&i.ConditionFormula,
			&i.Variables,
			&i.Category,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listProductTemplates = `-- name: ListProductTemplates :many
SELECT id, name, display_name, description, category, icon, filter_fields_schema, custom_fields_schema, pricing_templates, billing_mode, billing_type, billing_recurring_interval, billing_recurring_interval_count, status, created_at, updated_at FROM ext_products_product_templates ORDER BY name
`

func (q *Queries) ListProductTemplates(ctx context.Context) ([]ExtProductsProductTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listProductTemplates)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProductTemplate{}
	for rows.Next() {
		var i ExtProductsProductTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.Category,
			&i.Icon,
			&i.FilterFieldsSchema,
			&i.CustomFieldsSchema,
			&i.PricingTemplates,
			&i.BillingMode,
			&i.BillingType,
			&i.BillingRecurringInterval,
			&i.BillingRecurringIntervalCount,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listProductTemplatesByCategory = `-- name: ListProductTemplatesByCategory :many
SELECT id, name, display_name, description, category, icon, filter_fields_schema, custom_fields_schema, pricing_templates, billing_mode, billing_type, billing_recurring_interval, billing_recurring_interval_count, status, created_at, updated_at FROM ext_products_product_templates WHERE category = ? ORDER BY name
`

func (q *Queries) ListProductTemplatesByCategory(ctx context.Context, category *string) ([]ExtProductsProductTemplate, error) {
	rows, err := q.db.QueryContext(ctx, listProductTemplatesByCategory, category)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProductTemplate{}
	for rows.Next() {
		var i ExtProductsProductTemplate
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.Description,
			&i.Category,
			&i.Icon,
			&i.FilterFieldsSchema,
			&i.CustomFieldsSchema,
			&i.PricingTemplates,
			&i.BillingMode,
			&i.BillingType,
			&i.BillingRecurringInterval,
			&i.BillingRecurringIntervalCount,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listProducts = `-- name: ListProducts :many
SELECT id, group_id, product_template_id, name, description, base_price, base_price_cents, currency, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, variables, pricing_formula, active, created_at, updated_at FROM ext_products_products ORDER BY created_at DESC LIMIT ? OFFSET ?
`

type ListProductsParams struct {
	Limit  int64 `json:"limit"`
	Offset int64 `json:"offset"`
}

func (q *Queries) ListProducts(ctx context.Context, arg ListProductsParams) ([]ExtProductsProduct, error) {
	rows, err := q.db.QueryContext(ctx, listProducts, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProduct{}
	for rows.Next() {
		var i ExtProductsProduct
		if err := rows.Scan(
			&i.ID,
			&i.GroupID,
			&i.ProductTemplateID,
			&i.Name,
			&i.Description,
			&i.BasePrice,
			&i.BasePriceCents,
			&i.Currency,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.Variables,
			&i.PricingFormula,
			&i.Active,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listProductsByGroupID = `-- name: ListProductsByGroupID :many
SELECT id, group_id, product_template_id, name, description, base_price, base_price_cents, currency, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, variables, pricing_formula, active, created_at, updated_at FROM ext_products_products WHERE group_id = ? ORDER BY created_at DESC
`

func (q *Queries) ListProductsByGroupID(ctx context.Context, groupID int64) ([]ExtProductsProduct, error) {
	rows, err := q.db.QueryContext(ctx, listProductsByGroupID, groupID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProduct{}
	for rows.Next() {
		var i ExtProductsProduct
		if err := rows.Scan(
			&i.ID,
			&i.GroupID,
			&i.ProductTemplateID,
			&i.Name,
			&i.Description,
			&i.BasePrice,
			&i.BasePriceCents,
			&i.Currency,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.Variables,
			&i.PricingFormula,
			&i.Active,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listProductsByTemplateID = `-- name: ListProductsByTemplateID :many
SELECT id, group_id, product_template_id, name, description, base_price, base_price_cents, currency, filter_numeric_1, filter_numeric_2, filter_numeric_3, filter_numeric_4, filter_numeric_5, filter_text_1, filter_text_2, filter_text_3, filter_text_4, filter_text_5, filter_boolean_1, filter_boolean_2, filter_boolean_3, filter_boolean_4, filter_boolean_5, filter_enum_1, filter_enum_2, filter_enum_3, filter_enum_4, filter_enum_5, filter_location_1, filter_location_2, filter_location_3, filter_location_4, filter_location_5, custom_fields, variables, pricing_formula, active, created_at, updated_at FROM ext_products_products WHERE product_template_id = ? ORDER BY created_at DESC
`

func (q *Queries) ListProductsByTemplateID(ctx context.Context, productTemplateID int64) ([]ExtProductsProduct, error) {
	rows, err := q.db.QueryContext(ctx, listProductsByTemplateID, productTemplateID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProduct{}
	for rows.Next() {
		var i ExtProductsProduct
		if err := rows.Scan(
			&i.ID,
			&i.GroupID,
			&i.ProductTemplateID,
			&i.Name,
			&i.Description,
			&i.BasePrice,
			&i.BasePriceCents,
			&i.Currency,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.Variables,
			&i.PricingFormula,
			&i.Active,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listProductsByUserID = `-- name: ListProductsByUserID :many
SELECT p.id, p.group_id, p.product_template_id, p.name, p.description, p.base_price, p.base_price_cents, p.currency, p.filter_numeric_1, p.filter_numeric_2, p.filter_numeric_3, p.filter_numeric_4, p.filter_numeric_5, p.filter_text_1, p.filter_text_2, p.filter_text_3, p.filter_text_4, p.filter_text_5, p.filter_boolean_1, p.filter_boolean_2, p.filter_boolean_3, p.filter_boolean_4, p.filter_boolean_5, p.filter_enum_1, p.filter_enum_2, p.filter_enum_3, p.filter_enum_4, p.filter_enum_5, p.filter_location_1, p.filter_location_2, p.filter_location_3, p.filter_location_4, p.filter_location_5, p.custom_fields, p.variables, p.pricing_formula, p.active, p.created_at, p.updated_at FROM ext_products_products p
JOIN ext_products_groups g ON p.group_id = g.id
WHERE g.user_id = ?
ORDER BY p.created_at DESC
`

func (q *Queries) ListProductsByUserID(ctx context.Context, userID string) ([]ExtProductsProduct, error) {
	rows, err := q.db.QueryContext(ctx, listProductsByUserID, userID)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsProduct{}
	for rows.Next() {
		var i ExtProductsProduct
		if err := rows.Scan(
			&i.ID,
			&i.GroupID,
			&i.ProductTemplateID,
			&i.Name,
			&i.Description,
			&i.BasePrice,
			&i.BasePriceCents,
			&i.Currency,
			&i.FilterNumeric1,
			&i.FilterNumeric2,
			&i.FilterNumeric3,
			&i.FilterNumeric4,
			&i.FilterNumeric5,
			&i.FilterText1,
			&i.FilterText2,
			&i.FilterText3,
			&i.FilterText4,
			&i.FilterText5,
			&i.FilterBoolean1,
			&i.FilterBoolean2,
			&i.FilterBoolean3,
			&i.FilterBoolean4,
			&i.FilterBoolean5,
			&i.FilterEnum1,
			&i.FilterEnum2,
			&i.FilterEnum3,
			&i.FilterEnum4,
			&i.FilterEnum5,
			&i.FilterLocation1,
			&i.FilterLocation2,
			&i.FilterLocation3,
			&i.FilterLocation4,
			&i.FilterLocation5,
			&i.CustomFields,
			&i.Variables,
			&i.PricingFormula,
			&i.Active,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPurchases = `-- name: ListPurchases :many
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases ORDER BY created_at DESC LIMIT ? OFFSET ?
`

type ListPurchasesParams struct {
	Limit  int64 `json:"limit"`
	Offset int64 `json:"offset"`
}

func (q *Queries) ListPurchases(ctx context.Context, arg ListPurchasesParams) ([]ExtProductsPurchase, error) {
	rows, err := q.db.QueryContext(ctx, listPurchases, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsPurchase{}
	for rows.Next() {
		var i ExtProductsPurchase
		if err := rows.Scan(
			&i.ID,
			&i.UserID,
			&i.Provider,
			&i.ProviderSessionID,
			&i.ProviderPaymentIntentID,
			&i.ProviderSubscriptionID,
			&i.LineItems,
			&i.ProductMetadata,
			&i.TaxItems,
			&i.AmountCents,
			&i.TaxCents,
			&i.TotalCents,
			&i.Currency,
			&i.Status,
			&i.RequiresApproval,
			&i.ApprovedAt,
			&i.ApprovedBy,
			&i.RefundedAt,
			&i.RefundReason,
			&i.RefundAmount,
			&i.CancelledAt,
			&i.CancelReason,
			&i.SuccessUrl,
			&i.CancelUrl,
			&i.CustomerEmail,
			&i.CustomerName,
			&i.BillingAddress,
			&i.ShippingAddress,
			&i.PaymentMethodTypes,
			&i.ExpiresAt,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPurchasesByStatus = `-- name: ListPurchasesByStatus :many
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases WHERE status = ? ORDER BY created_at DESC LIMIT ? OFFSET ?
`

type ListPurchasesByStatusParams struct {
	Status *string `json:"status"`
	Limit  int64   `json:"limit"`
	Offset int64   `json:"offset"`
}

func (q *Queries) ListPurchasesByStatus(ctx context.Context, arg ListPurchasesByStatusParams) ([]ExtProductsPurchase, error) {
	rows, err := q.db.QueryContext(ctx, listPurchasesByStatus, arg.Status, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsPurchase{}
	for rows.Next() {
		var i ExtProductsPurchase
		if err := rows.Scan(
			&i.ID,
			&i.UserID,
			&i.Provider,
			&i.ProviderSessionID,
			&i.ProviderPaymentIntentID,
			&i.ProviderSubscriptionID,
			&i.LineItems,
			&i.ProductMetadata,
			&i.TaxItems,
			&i.AmountCents,
			&i.TaxCents,
			&i.TotalCents,
			&i.Currency,
			&i.Status,
			&i.RequiresApproval,
			&i.ApprovedAt,
			&i.ApprovedBy,
			&i.RefundedAt,
			&i.RefundReason,
			&i.RefundAmount,
			&i.CancelledAt,
			&i.CancelReason,
			&i.SuccessUrl,
			&i.CancelUrl,
			&i.CustomerEmail,
			&i.CustomerName,
			&i.BillingAddress,
			&i.ShippingAddress,
			&i.PaymentMethodTypes,
			&i.ExpiresAt,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listPurchasesByUserID = `-- name: ListPurchasesByUserID :many
SELECT id, user_id, provider, provider_session_id, provider_payment_intent_id, provider_subscription_id, line_items, product_metadata, tax_items, amount_cents, tax_cents, total_cents, currency, status, requires_approval, approved_at, approved_by, refunded_at, refund_reason, refund_amount, cancelled_at, cancel_reason, success_url, cancel_url, customer_email, customer_name, billing_address, shipping_address, payment_method_types, expires_at, created_at, updated_at FROM ext_products_purchases WHERE user_id = ? ORDER BY created_at DESC LIMIT ? OFFSET ?
`

type ListPurchasesByUserIDParams struct {
	UserID string `json:"user_id"`
	Limit  int64  `json:"limit"`
	Offset int64  `json:"offset"`
}

func (q *Queries) ListPurchasesByUserID(ctx context.Context, arg ListPurchasesByUserIDParams) ([]ExtProductsPurchase, error) {
	rows, err := q.db.QueryContext(ctx, listPurchasesByUserID, arg.UserID, arg.Limit, arg.Offset)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsPurchase{}
	for rows.Next() {
		var i ExtProductsPurchase
		if err := rows.Scan(
			&i.ID,
			&i.UserID,
			&i.Provider,
			&i.ProviderSessionID,
			&i.ProviderPaymentIntentID,
			&i.ProviderSubscriptionID,
			&i.LineItems,
			&i.ProductMetadata,
			&i.TaxItems,
			&i.AmountCents,
			&i.TaxCents,
			&i.TotalCents,
			&i.Currency,
			&i.Status,
			&i.RequiresApproval,
			&i.ApprovedAt,
			&i.ApprovedBy,
			&i.RefundedAt,
			&i.RefundReason,
			&i.RefundAmount,
			&i.CancelledAt,
			&i.CancelReason,
			&i.SuccessUrl,
			&i.CancelUrl,
			&i.CustomerEmail,
			&i.CustomerName,
			&i.BillingAddress,
			&i.ShippingAddress,
			&i.PaymentMethodTypes,
			&i.ExpiresAt,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const listVariables = `-- name: ListVariables :many
SELECT id, name, display_name, value_type, type, default_value, description, status, created_at, updated_at FROM ext_products_variables ORDER BY name
`

func (q *Queries) ListVariables(ctx context.Context) ([]ExtProductsVariable, error) {
	rows, err := q.db.QueryContext(ctx, listVariables)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	items := []ExtProductsVariable{}
	for rows.Next() {
		var i ExtProductsVariable
		if err := rows.Scan(
			&i.ID,
			&i.Name,
			&i.DisplayName,
			&i.ValueType,
			&i.Type,
			&i.DefaultValue,
			&i.Description,
			&i.Status,
			&i.CreatedAt,
			&i.UpdatedAt,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}

const refundPurchase = `-- name: RefundPurchase :exec
UPDATE ext_products_purchases SET
    refunded_at = ?, refund_reason = ?, refund_amount = ?, status = 'refunded', updated_at = ?
WHERE id = ?
`

type RefundPurchaseParams struct {
	RefundedAt   apptime.NullTime `json:"refunded_at"`
	RefundReason *string          `json:"refund_reason"`
	RefundAmount *int64           `json:"refund_amount"`
	UpdatedAt    string           `json:"updated_at"`
	ID           int64            `json:"id"`
}

func (q *Queries) RefundPurchase(ctx context.Context, arg RefundPurchaseParams) error {
	_, err := q.db.ExecContext(ctx, refundPurchase,
		arg.RefundedAt,
		arg.RefundReason,
		arg.RefundAmount,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const sumPurchasesByUserID = `-- name: SumPurchasesByUserID :one
SELECT COALESCE(SUM(total_cents), 0) FROM ext_products_purchases WHERE user_id = ? AND status IN ('paid', 'paid_pending_approval')
`

func (q *Queries) SumPurchasesByUserID(ctx context.Context, userID string) (interface{}, error) {
	row := q.db.QueryRowContext(ctx, sumPurchasesByUserID, userID)
	var coalesce interface{}
	err := row.Scan(&coalesce)
	return coalesce, err
}

const updateGroup = `-- name: UpdateGroup :exec
UPDATE ext_products_groups SET
    name = ?, description = ?,
    filter_numeric_1 = ?, filter_numeric_2 = ?, filter_numeric_3 = ?, filter_numeric_4 = ?, filter_numeric_5 = ?,
    filter_text_1 = ?, filter_text_2 = ?, filter_text_3 = ?, filter_text_4 = ?, filter_text_5 = ?,
    filter_boolean_1 = ?, filter_boolean_2 = ?, filter_boolean_3 = ?, filter_boolean_4 = ?, filter_boolean_5 = ?,
    filter_enum_1 = ?, filter_enum_2 = ?, filter_enum_3 = ?, filter_enum_4 = ?, filter_enum_5 = ?,
    filter_location_1 = ?, filter_location_2 = ?, filter_location_3 = ?, filter_location_4 = ?, filter_location_5 = ?,
    custom_fields = ?, updated_at = ?
WHERE id = ?
`

type UpdateGroupParams struct {
	Name            string          `json:"name"`
	Description     *string         `json:"description"`
	FilterNumeric1  *float64        `json:"filter_numeric_1"`
	FilterNumeric2  *float64        `json:"filter_numeric_2"`
	FilterNumeric3  *float64        `json:"filter_numeric_3"`
	FilterNumeric4  *float64        `json:"filter_numeric_4"`
	FilterNumeric5  *float64        `json:"filter_numeric_5"`
	FilterText1     *string         `json:"filter_text_1"`
	FilterText2     *string         `json:"filter_text_2"`
	FilterText3     *string         `json:"filter_text_3"`
	FilterText4     *string         `json:"filter_text_4"`
	FilterText5     *string         `json:"filter_text_5"`
	FilterBoolean1  *int64          `json:"filter_boolean_1"`
	FilterBoolean2  *int64          `json:"filter_boolean_2"`
	FilterBoolean3  *int64          `json:"filter_boolean_3"`
	FilterBoolean4  *int64          `json:"filter_boolean_4"`
	FilterBoolean5  *int64          `json:"filter_boolean_5"`
	FilterEnum1     *string         `json:"filter_enum_1"`
	FilterEnum2     *string         `json:"filter_enum_2"`
	FilterEnum3     *string         `json:"filter_enum_3"`
	FilterEnum4     *string         `json:"filter_enum_4"`
	FilterEnum5     *string         `json:"filter_enum_5"`
	FilterLocation1 *string         `json:"filter_location_1"`
	FilterLocation2 *string         `json:"filter_location_2"`
	FilterLocation3 *string         `json:"filter_location_3"`
	FilterLocation4 *string         `json:"filter_location_4"`
	FilterLocation5 *string         `json:"filter_location_5"`
	CustomFields    json.RawMessage `json:"custom_fields"`
	UpdatedAt       string          `json:"updated_at"`
	ID              int64           `json:"id"`
}

func (q *Queries) UpdateGroup(ctx context.Context, arg UpdateGroupParams) error {
	_, err := q.db.ExecContext(ctx, updateGroup,
		arg.Name,
		arg.Description,
		arg.FilterNumeric1,
		arg.FilterNumeric2,
		arg.FilterNumeric3,
		arg.FilterNumeric4,
		arg.FilterNumeric5,
		arg.FilterText1,
		arg.FilterText2,
		arg.FilterText3,
		arg.FilterText4,
		arg.FilterText5,
		arg.FilterBoolean1,
		arg.FilterBoolean2,
		arg.FilterBoolean3,
		arg.FilterBoolean4,
		arg.FilterBoolean5,
		arg.FilterEnum1,
		arg.FilterEnum2,
		arg.FilterEnum3,
		arg.FilterEnum4,
		arg.FilterEnum5,
		arg.FilterLocation1,
		arg.FilterLocation2,
		arg.FilterLocation3,
		arg.FilterLocation4,
		arg.FilterLocation5,
		arg.CustomFields,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const updateGroupTemplate = `-- name: UpdateGroupTemplate :exec
UPDATE ext_products_group_templates SET
    name = ?, display_name = ?, description = ?, icon = ?,
    filter_fields_schema = ?, status = ?, updated_at = ?
WHERE id = ?
`

type UpdateGroupTemplateParams struct {
	Name               string          `json:"name"`
	DisplayName        *string         `json:"display_name"`
	Description        *string         `json:"description"`
	Icon               *string         `json:"icon"`
	FilterFieldsSchema json.RawMessage `json:"filter_fields_schema"`
	Status             *string         `json:"status"`
	UpdatedAt          string          `json:"updated_at"`
	ID                 int64           `json:"id"`
}

func (q *Queries) UpdateGroupTemplate(ctx context.Context, arg UpdateGroupTemplateParams) error {
	_, err := q.db.ExecContext(ctx, updateGroupTemplate,
		arg.Name,
		arg.DisplayName,
		arg.Description,
		arg.Icon,
		arg.FilterFieldsSchema,
		arg.Status,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const updatePricingTemplate = `-- name: UpdatePricingTemplate :exec
UPDATE ext_products_pricing_templates SET
    name = ?, display_name = ?, description = ?, price_formula = ?,
    condition_formula = ?, variables = ?, category = ?, status = ?, updated_at = ?
WHERE id = ?
`

type UpdatePricingTemplateParams struct {
	Name             string          `json:"name"`
	DisplayName      *string         `json:"display_name"`
	Description      *string         `json:"description"`
	PriceFormula     string          `json:"price_formula"`
	ConditionFormula *string         `json:"condition_formula"`
	Variables        json.RawMessage `json:"variables"`
	Category         *string         `json:"category"`
	Status           *string         `json:"status"`
	UpdatedAt        string          `json:"updated_at"`
	ID               int64           `json:"id"`
}

func (q *Queries) UpdatePricingTemplate(ctx context.Context, arg UpdatePricingTemplateParams) error {
	_, err := q.db.ExecContext(ctx, updatePricingTemplate,
		arg.Name,
		arg.DisplayName,
		arg.Description,
		arg.PriceFormula,
		arg.ConditionFormula,
		arg.Variables,
		arg.Category,
		arg.Status,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const updateProduct = `-- name: UpdateProduct :exec
UPDATE ext_products_products SET
    name = ?, description = ?, base_price = ?, base_price_cents = ?, currency = ?,
    filter_numeric_1 = ?, filter_numeric_2 = ?, filter_numeric_3 = ?, filter_numeric_4 = ?, filter_numeric_5 = ?,
    filter_text_1 = ?, filter_text_2 = ?, filter_text_3 = ?, filter_text_4 = ?, filter_text_5 = ?,
    filter_boolean_1 = ?, filter_boolean_2 = ?, filter_boolean_3 = ?, filter_boolean_4 = ?, filter_boolean_5 = ?,
    filter_enum_1 = ?, filter_enum_2 = ?, filter_enum_3 = ?, filter_enum_4 = ?, filter_enum_5 = ?,
    filter_location_1 = ?, filter_location_2 = ?, filter_location_3 = ?, filter_location_4 = ?, filter_location_5 = ?,
    custom_fields = ?, variables = ?, pricing_formula = ?, active = ?, updated_at = ?
WHERE id = ?
`

type UpdateProductParams struct {
	Name            string          `json:"name"`
	Description     *string         `json:"description"`
	BasePrice       *float64        `json:"base_price"`
	BasePriceCents  *int64          `json:"base_price_cents"`
	Currency        *string         `json:"currency"`
	FilterNumeric1  *float64        `json:"filter_numeric_1"`
	FilterNumeric2  *float64        `json:"filter_numeric_2"`
	FilterNumeric3  *float64        `json:"filter_numeric_3"`
	FilterNumeric4  *float64        `json:"filter_numeric_4"`
	FilterNumeric5  *float64        `json:"filter_numeric_5"`
	FilterText1     *string         `json:"filter_text_1"`
	FilterText2     *string         `json:"filter_text_2"`
	FilterText3     *string         `json:"filter_text_3"`
	FilterText4     *string         `json:"filter_text_4"`
	FilterText5     *string         `json:"filter_text_5"`
	FilterBoolean1  *int64          `json:"filter_boolean_1"`
	FilterBoolean2  *int64          `json:"filter_boolean_2"`
	FilterBoolean3  *int64          `json:"filter_boolean_3"`
	FilterBoolean4  *int64          `json:"filter_boolean_4"`
	FilterBoolean5  *int64          `json:"filter_boolean_5"`
	FilterEnum1     *string         `json:"filter_enum_1"`
	FilterEnum2     *string         `json:"filter_enum_2"`
	FilterEnum3     *string         `json:"filter_enum_3"`
	FilterEnum4     *string         `json:"filter_enum_4"`
	FilterEnum5     *string         `json:"filter_enum_5"`
	FilterLocation1 *string         `json:"filter_location_1"`
	FilterLocation2 *string         `json:"filter_location_2"`
	FilterLocation3 *string         `json:"filter_location_3"`
	FilterLocation4 *string         `json:"filter_location_4"`
	FilterLocation5 *string         `json:"filter_location_5"`
	CustomFields    json.RawMessage `json:"custom_fields"`
	Variables       json.RawMessage `json:"variables"`
	PricingFormula  *string         `json:"pricing_formula"`
	Active          *int64          `json:"active"`
	UpdatedAt       string          `json:"updated_at"`
	ID              int64           `json:"id"`
}

func (q *Queries) UpdateProduct(ctx context.Context, arg UpdateProductParams) error {
	_, err := q.db.ExecContext(ctx, updateProduct,
		arg.Name,
		arg.Description,
		arg.BasePrice,
		arg.BasePriceCents,
		arg.Currency,
		arg.FilterNumeric1,
		arg.FilterNumeric2,
		arg.FilterNumeric3,
		arg.FilterNumeric4,
		arg.FilterNumeric5,
		arg.FilterText1,
		arg.FilterText2,
		arg.FilterText3,
		arg.FilterText4,
		arg.FilterText5,
		arg.FilterBoolean1,
		arg.FilterBoolean2,
		arg.FilterBoolean3,
		arg.FilterBoolean4,
		arg.FilterBoolean5,
		arg.FilterEnum1,
		arg.FilterEnum2,
		arg.FilterEnum3,
		arg.FilterEnum4,
		arg.FilterEnum5,
		arg.FilterLocation1,
		arg.FilterLocation2,
		arg.FilterLocation3,
		arg.FilterLocation4,
		arg.FilterLocation5,
		arg.CustomFields,
		arg.Variables,
		arg.PricingFormula,
		arg.Active,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const updateProductActiveStatus = `-- name: UpdateProductActiveStatus :exec
UPDATE ext_products_products SET active = ?, updated_at = ? WHERE id = ?
`

type UpdateProductActiveStatusParams struct {
	Active    *int64 `json:"active"`
	UpdatedAt string `json:"updated_at"`
	ID        int64  `json:"id"`
}

func (q *Queries) UpdateProductActiveStatus(ctx context.Context, arg UpdateProductActiveStatusParams) error {
	_, err := q.db.ExecContext(ctx, updateProductActiveStatus, arg.Active, arg.UpdatedAt, arg.ID)
	return err
}

const updateProductTemplate = `-- name: UpdateProductTemplate :exec
UPDATE ext_products_product_templates SET
    name = ?, display_name = ?, description = ?, category = ?, icon = ?,
    filter_fields_schema = ?, custom_fields_schema = ?, pricing_templates = ?,
    billing_mode = ?, billing_type = ?, billing_recurring_interval = ?, billing_recurring_interval_count = ?,
    status = ?, updated_at = ?
WHERE id = ?
`

type UpdateProductTemplateParams struct {
	Name                          string          `json:"name"`
	DisplayName                   *string         `json:"display_name"`
	Description                   *string         `json:"description"`
	Category                      *string         `json:"category"`
	Icon                          *string         `json:"icon"`
	FilterFieldsSchema            json.RawMessage `json:"filter_fields_schema"`
	CustomFieldsSchema            json.RawMessage `json:"custom_fields_schema"`
	PricingTemplates              json.RawMessage `json:"pricing_templates"`
	BillingMode                   string          `json:"billing_mode"`
	BillingType                   string          `json:"billing_type"`
	BillingRecurringInterval      *string         `json:"billing_recurring_interval"`
	BillingRecurringIntervalCount *int64          `json:"billing_recurring_interval_count"`
	Status                        *string         `json:"status"`
	UpdatedAt                     string          `json:"updated_at"`
	ID                            int64           `json:"id"`
}

func (q *Queries) UpdateProductTemplate(ctx context.Context, arg UpdateProductTemplateParams) error {
	_, err := q.db.ExecContext(ctx, updateProductTemplate,
		arg.Name,
		arg.DisplayName,
		arg.Description,
		arg.Category,
		arg.Icon,
		arg.FilterFieldsSchema,
		arg.CustomFieldsSchema,
		arg.PricingTemplates,
		arg.BillingMode,
		arg.BillingType,
		arg.BillingRecurringInterval,
		arg.BillingRecurringIntervalCount,
		arg.Status,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const updatePurchaseProviderIDs = `-- name: UpdatePurchaseProviderIDs :exec
UPDATE ext_products_purchases SET
    provider_session_id = ?,
    provider_payment_intent_id = ?,
    provider_subscription_id = ?,
    updated_at = ?
WHERE id = ?
`

type UpdatePurchaseProviderIDsParams struct {
	ProviderSessionID       *string `json:"provider_session_id"`
	ProviderPaymentIntentID *string `json:"provider_payment_intent_id"`
	ProviderSubscriptionID  *string `json:"provider_subscription_id"`
	UpdatedAt               string  `json:"updated_at"`
	ID                      int64   `json:"id"`
}

func (q *Queries) UpdatePurchaseProviderIDs(ctx context.Context, arg UpdatePurchaseProviderIDsParams) error {
	_, err := q.db.ExecContext(ctx, updatePurchaseProviderIDs,
		arg.ProviderSessionID,
		arg.ProviderPaymentIntentID,
		arg.ProviderSubscriptionID,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}

const updatePurchaseStatus = `-- name: UpdatePurchaseStatus :exec
UPDATE ext_products_purchases SET status = ?, updated_at = ? WHERE id = ?
`

type UpdatePurchaseStatusParams struct {
	Status    *string `json:"status"`
	UpdatedAt string  `json:"updated_at"`
	ID        int64   `json:"id"`
}

func (q *Queries) UpdatePurchaseStatus(ctx context.Context, arg UpdatePurchaseStatusParams) error {
	_, err := q.db.ExecContext(ctx, updatePurchaseStatus, arg.Status, arg.UpdatedAt, arg.ID)
	return err
}

const updateVariable = `-- name: UpdateVariable :exec
UPDATE ext_products_variables SET
    name = ?, display_name = ?, value_type = ?, type = ?,
    default_value = ?, description = ?, status = ?, updated_at = ?
WHERE id = ?
`

type UpdateVariableParams struct {
	Name         string  `json:"name"`
	DisplayName  *string `json:"display_name"`
	ValueType    *string `json:"value_type"`
	Type         *string `json:"type"`
	DefaultValue *string `json:"default_value"`
	Description  *string `json:"description"`
	Status       *string `json:"status"`
	UpdatedAt    string  `json:"updated_at"`
	ID           int64   `json:"id"`
}

func (q *Queries) UpdateVariable(ctx context.Context, arg UpdateVariableParams) error {
	_, err := q.db.ExecContext(ctx, updateVariable,
		arg.Name,
		arg.DisplayName,
		arg.ValueType,
		arg.Type,
		arg.DefaultValue,
		arg.Description,
		arg.Status,
		arg.UpdatedAt,
		arg.ID,
	)
	return err
}
